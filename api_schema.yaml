openapi: 3.0.3
info:
  title: APIS ARROYO
  version: '2.0'
paths:
  /api/alertas/productos-por-vencer/:
    get:
      operationId: alertas_productos_por_vencer_retrieve
      tags:
      - alertas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/almacenes/:
    get:
      operationId: almacenes_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - almacenes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedAlmacenList'
          description: ''
    post:
      operationId: almacenes_create
      tags:
      - almacenes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Almacen'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Almacen'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Almacen'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Almacen'
          description: ''
  /api/almacenes-mini/:
    get:
      operationId: almacenes_mini_list
      description: |-
        A viewset for listing minimal Almacen instances.

        Query Parameters:
            is_cedis (bool, optional): Filtra los almacenes por el campo 'is_cedis'.
                Ejemplo: ?is_cedis=true o ?is_cedis=false

        Excludes objects with status_model set to BaseModel.STATUS_MODEL_DELETE.
        Pagination is disabled for this viewset.
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - almacenes-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AlmacenMini'
          description: ''
  /api/almacenes/{id}/:
    get:
      operationId: almacenes_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Almacén.
        required: true
      tags:
      - almacenes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Almacen'
          description: ''
    put:
      operationId: almacenes_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Almacén.
        required: true
      tags:
      - almacenes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Almacen'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Almacen'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Almacen'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Almacen'
          description: ''
    patch:
      operationId: almacenes_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Almacén.
        required: true
      tags:
      - almacenes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedAlmacen'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedAlmacen'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedAlmacen'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Almacen'
          description: ''
    delete:
      operationId: almacenes_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Almacén.
        required: true
      tags:
      - almacenes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/aperturas-caja/:
    get:
      operationId: aperturas_caja_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - aperturas-caja
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCajaAperturaMiniList'
          description: ''
    post:
      operationId: aperturas_caja_create
      tags:
      - aperturas-caja
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CajaApertura'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CajaApertura'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CajaApertura'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CajaApertura'
          description: ''
  /api/aperturas-caja-mini/:
    get:
      operationId: aperturas_caja_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - aperturas-caja-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CajaAperturaMini'
          description: ''
  /api/aperturas-caja/{id}/:
    get:
      operationId: aperturas_caja_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Apertura de Caja.
        required: true
      tags:
      - aperturas-caja
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CajaApertura'
          description: ''
    put:
      operationId: aperturas_caja_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Apertura de Caja.
        required: true
      tags:
      - aperturas-caja
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CajaApertura'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CajaApertura'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CajaApertura'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CajaApertura'
          description: ''
    patch:
      operationId: aperturas_caja_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Apertura de Caja.
        required: true
      tags:
      - aperturas-caja
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCajaApertura'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCajaApertura'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCajaApertura'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CajaApertura'
          description: ''
  /api/aperturas-caja/{id}/cerrar/:
    post:
      operationId: aperturas_caja_cerrar_create
      description: "\n        Cierra una apertura de caja registrando el monto final
        y calculando la diferencia.\n        \n        **Proceso:**\n        1. Valida
        que la caja esté abierta\n        2. Registra el monto final contado\n        3.
        Calcula el monto esperado (inicial + entradas - salidas)\n        4. Calcula
        la diferencia (monto_final - monto_esperado)\n        5. Registra el usuario
        que cierra\n        6. Marca la apertura como cerrada\n        \n        **Validaciones:**\n
        \       - La caja debe estar abierta (is_abierta=True)\n        - El monto_final
        es obligatorio\n        - El monto_final no puede ser negativo\n        "
      summary: Cerrar apertura de caja
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Apertura de Caja.
        required: true
      tags:
      - Cajas - Aperturas
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                monto_final:
                  type: number
                  format: decimal
                  description: Monto contado físicamente al cerrar la caja
                  example: 1500.0
                observaciones:
                  type: string
                  description: Observaciones sobre el cierre (opcional)
                  example: Cierre normal del turno
              required:
              - monto_final
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CajaApertura'
              examples:
                CierreExitoso:
                  value:
                    detail: Caja cerrada exitosamente.
                    data:
                      id: 1
                      caja: 1
                      caja_name: CAJA PRINCIPAL
                      usuario: 5
                      usuario_name: Juan Pérez
                      monto_inicial: 1000.0
                      monto_final: 1500.0
                      monto_esperado: 1450.0
                      diferencia: 50.0
                      is_abierta: false
                      fecha_apertura: 01-11-2025 08:00:00
                      fecha_cierre: 01-11-2025 18:00:00
                      observaciones: Cierre normal del turno
                      cerrada_por: 5
                      cerrada_por_name: María López
                  summary: Cierre exitoso
          description: Caja cerrada exitosamente
        '400':
          description: Error de validación
        '404':
          description: Apertura no encontrada
        '500':
          description: Error interno del servidor
  /api/cajas/:
    get:
      operationId: cajas_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - cajas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCajaList'
          description: ''
    post:
      operationId: cajas_create
      tags:
      - cajas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Caja'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Caja'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Caja'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Caja'
          description: ''
  /api/cajas-mini/:
    get:
      operationId: cajas_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - cajas-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CajaMini'
          description: ''
  /api/cajas/{id}/:
    get:
      operationId: cajas_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Caja.
        required: true
      tags:
      - cajas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Caja'
          description: ''
    put:
      operationId: cajas_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Caja.
        required: true
      tags:
      - cajas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Caja'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Caja'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Caja'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Caja'
          description: ''
    patch:
      operationId: cajas_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Caja.
        required: true
      tags:
      - cajas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCaja'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCaja'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCaja'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Caja'
          description: ''
    delete:
      operationId: cajas_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Caja.
        required: true
      tags:
      - cajas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/categorias/:
    get:
      operationId: categorias_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - categorias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCategoriaList'
          description: ''
    post:
      operationId: categorias_create
      tags:
      - categorias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Categoria'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Categoria'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Categoria'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Categoria'
          description: ''
  /api/categorias-mini/:
    get:
      operationId: categorias_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - categorias-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategoriaMini'
          description: ''
  /api/categorias/{id}/:
    get:
      operationId: categorias_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria.
        required: true
      tags:
      - categorias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Categoria'
          description: ''
    put:
      operationId: categorias_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria.
        required: true
      tags:
      - categorias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Categoria'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Categoria'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Categoria'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Categoria'
          description: ''
    patch:
      operationId: categorias_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria.
        required: true
      tags:
      - categorias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCategoria'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCategoria'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCategoria'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Categoria'
          description: ''
    delete:
      operationId: categorias_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria.
        required: true
      tags:
      - categorias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/clientes/:
    get:
      operationId: clientes_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - clientes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedClienteList'
          description: ''
    post:
      operationId: clientes_create
      tags:
      - clientes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Cliente'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Cliente'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Cliente'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cliente'
          description: ''
  /api/clientes-categorias/:
    get:
      operationId: clientes_categorias_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - clientes-categorias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCategoriaClienteList'
          description: ''
    post:
      operationId: clientes_categorias_create
      tags:
      - clientes-categorias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoriaCliente'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CategoriaCliente'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CategoriaCliente'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriaCliente'
          description: ''
  /api/clientes-categorias-mini/:
    get:
      operationId: clientes_categorias_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - clientes-categorias-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CategoriaClienteMini'
          description: ''
  /api/clientes-categorias/{id}/:
    get:
      operationId: clientes_categorias_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria cliente.
        required: true
      tags:
      - clientes-categorias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriaCliente'
          description: ''
    put:
      operationId: clientes_categorias_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria cliente.
        required: true
      tags:
      - clientes-categorias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CategoriaCliente'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CategoriaCliente'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CategoriaCliente'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriaCliente'
          description: ''
    patch:
      operationId: clientes_categorias_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria cliente.
        required: true
      tags:
      - clientes-categorias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCategoriaCliente'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCategoriaCliente'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCategoriaCliente'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CategoriaCliente'
          description: ''
    delete:
      operationId: clientes_categorias_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este categoria cliente.
        required: true
      tags:
      - clientes-categorias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/clientes-info/{id}/:
    get:
      operationId: clientes_info_retrieve
      description: Obtiene información completa del cliente incluyendo dirección,
        últimos productos comprados, ventas recientes, productos favoritos, estado
        de adeudo y estadísticas de ventas
      summary: Información del cliente para venta
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este cliente.
        required: true
      tags:
      - clientes-info
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InformacionCliente'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClienteNotFound'
          description: ''
  /api/clientes-mini/:
    get:
      operationId: clientes_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - clientes-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ClienteMini'
          description: ''
  /api/clientes/{id}/:
    get:
      operationId: clientes_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este cliente.
        required: true
      tags:
      - clientes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cliente'
          description: ''
    put:
      operationId: clientes_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este cliente.
        required: true
      tags:
      - clientes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Cliente'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Cliente'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Cliente'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cliente'
          description: ''
    patch:
      operationId: clientes_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este cliente.
        required: true
      tags:
      - clientes
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCliente'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCliente'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCliente'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Cliente'
          description: ''
    delete:
      operationId: clientes_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este cliente.
        required: true
      tags:
      - clientes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/clientes/{id}/info-credito/:
    get:
      operationId: clientes_info_credito_retrieve
      description: Obtiene información básica del cliente para el módulo de créditos
        incluyendo datos de límite de crédito, disponible y capacidad de pago.
      summary: Información del cliente para créditos
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este cliente.
        required: true
      tags:
      - clientes
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClienteCredito'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClienteCreditoNotFound'
          description: ''
  /api/compras/:
    get:
      operationId: compras_list
      description: Listar compras con filtros avanzados
      parameters:
      - in: query
        name: almacen
        schema:
          type: integer
        description: ID del almacén destino para filtrar compras
        examples:
          AlmacénPrincipal:
            value: 1
            summary: Almacén principal
          AlmacénSecundario:
            value: 2
            summary: Almacén secundario
      - in: query
        name: estado
        schema:
          type: string
          enum:
          - CANCELADA
          - EN CAMINO
          - FINALIZADA
          - PROCESANDO
        description: Filtrar compras por estado específico
        examples:
          SoloEnProcesamiento:
            value: PROCESANDO
            summary: Solo en procesamiento
          SoloEnCamino:
            value: EN CAMINO
            summary: Solo en camino
          SoloEnFinalizada:
            value: FINALIZADA
            summary: Solo en Finalizada
          SoloEnCancelada:
            value: CANCELADA
            summary: Solo en Cancelada
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - in: query
        name: proveedor
        schema:
          type: integer
        description: ID del proveedor para filtrar sus compras
        examples:
          ProveedorEspecífico:
            value: 123
            summary: Proveedor específico
          OtroProveedor:
            value: 456
            summary: Otro proveedor
      - in: query
        name: search
        schema:
          type: string
        description: Búsqueda global en código de compra, nombre del proveedor, código
          del proveedor y código de orden de compra
        examples:
          PorCódigoDeCompra:
            value: COMP-001
            summary: Por código de compra
          PorNombreProveedor:
            value: COCA COLA
            summary: Por nombre proveedor
          PorCódigoDeOrden:
            value: ORD-123
            summary: Por código de orden
      tags:
      - compras
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCompraList'
          description: ''
    post:
      operationId: compras_create
      description: Crear nueva compra
      tags:
      - compras
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Compra'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Compra'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Compra'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Compra'
          description: ''
  /api/compras-mini/:
    get:
      operationId: compras_mini_list
      description: Listar compras básicas con filtros
      parameters:
      - in: query
        name: estado
        schema:
          type: string
          enum:
          - CANCELADA
          - EN CAMINO
          - FINALIZADA
          - PROCESANDO
        description: Filtrar compras por estado específico
        examples:
          SoloEnProcesamiento:
            value: PROCESANDO
            summary: Solo en procesamiento
          SoloEnCamino:
            value: EN CAMINO
            summary: Solo en camino
          SoloCanceladas:
            value: CANCELADA
            summary: Solo canceladas
          SoloFinalizadas:
            value: FINALIZADA
            summary: Solo finalizadas
      - in: query
        name: ordering
        schema:
          type: string
          enum:
          - -created_at
          - -fecha_salida
          - -total
          - created_at
          - fecha_salida
          - total
        description: Campo por el cual ordenar los resultados. Usar "-" para orden
          descendente
        examples:
          MásRecientesPrimero:
            value: -created_at
            summary: Más recientes primero
          PorFechaDeSalida:
            value: -fecha_salida
            summary: Por fecha de salida
          PorTotalMenorAMayor:
            value: total
            summary: Por total menor a mayor
      - in: query
        name: proveedor
        schema:
          type: integer
        description: ID del proveedor para filtrar sus compras
        examples:
          IDProveedorEspecífico:
            value: 123
            summary: ID Proveedor específico
          _IDOtroProveedor:
            value: 456
            summary: ' ID Otro proveedor'
      - in: query
        name: search
        schema:
          type: string
        description: Búsqueda en código de compra, nombre del proveedor y nombre del
          almacén destino
        examples:
          PorCódigoDeCompra:
            value: COMP-001
            summary: Por código de compra
          PorNombreProveedor:
            value: TIBURON BLANCO
            summary: Por nombre proveedor
          PorAlmacén:
            value: PRINCIPAL
            summary: Por almacén
      tags:
      - compras-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CompraMini'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompraMiniListError'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
          description: ''
  /api/compras/{id}/:
    get:
      operationId: compras_retrieve
      description: Obtener una compra específica
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Compra.
        required: true
      tags:
      - compras
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Compra'
          description: ''
    put:
      operationId: compras_update
      description: Actualizar compra completa
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Compra.
        required: true
      tags:
      - compras
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Compra'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Compra'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Compra'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Compra'
          description: ''
    patch:
      operationId: compras_partial_update
      description: ViewSet para CRUD completo de compras
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Compra.
        required: true
      tags:
      - compras
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCompra'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCompra'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCompra'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Compra'
          description: ''
    delete:
      operationId: compras_destroy
      description: Eliminación lógica de compra
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Compra.
        required: true
      tags:
      - compras
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/compras/{id}/estado/:
    patch:
      operationId: compras_estado_partial_update
      description: Cambiar el estado de una compra específica
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Compra.
        required: true
      tags:
      - compras
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCompraEstado'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCompraEstado'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCompraEstado'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Compra'
          description: ''
  /api/contabilidad/regimen-fiscal/:
    get:
      operationId: contabilidad_regimen_fiscal_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - contabilidad
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RegimenFiscalDetail'
          description: ''
  /api/contabilidad/regimen-fiscal/{id}/:
    get:
      operationId: contabilidad_regimen_fiscal_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Régimen Fiscal.
        required: true
      tags:
      - contabilidad
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RegimenFiscalDetail'
          description: ''
  /api/contabilidad/unidades-sat/:
    get:
      operationId: contabilidad_unidades_sat_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - contabilidad
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UnidadSatMini'
          description: ''
  /api/contabilidad/unidades-sat/{id}/:
    get:
      operationId: contabilidad_unidades_sat_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Unidad SAT.
        required: true
      tags:
      - contabilidad
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnidadSatMini'
          description: ''
  /api/creditos/:
    get:
      operationId: creditos_list
      description: "\n        Lista todos los créditos con opciones de filtrado avanzado.\n
        \       \n        **Filtros disponibles (query params):**\n        - `cliente`:
        ID del cliente\n        - `estado`: Estado del crédito (ACTIVA, PAGADA)\n
        \       - `is_pagado`: true/false (si está liquidado)\n        - `fecha_desde`:
        Fecha inicio (YYYY-MM-DD)\n        - `fecha_hasta`: Fecha fin (YYYY-MM-DD)\n
        \       - `dia_inicio`: Fecha inicio alternativa (YYYY-MM-DD)\n        - `dia_fin`:
        Fecha fin alternativa (YYYY-MM-DD)\n        - `vencidos`: true/false (solo
        créditos vencidos)\n        - `search`: Búsqueda por nombre o código de cliente\n
        \       "
      summary: Listar créditos de clientes
      parameters:
      - in: query
        name: cliente
        schema:
          type: integer
        description: ID del cliente
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin alternativa (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio alternativa (YYYY-MM-DD)
      - in: query
        name: estado
        schema:
          type: string
          enum:
          - ACTIVA
          - PAGADA
        description: Estado del crédito (ACTIVA, PAGADA)
      - in: query
        name: fecha_desde
        schema:
          type: string
          format: date
        description: Fecha desde (YYYY-MM-DD)
      - in: query
        name: fecha_hasta
        schema:
          type: string
          format: date
        description: Fecha hasta (YYYY-MM-DD)
      - in: query
        name: is_pagado
        schema:
          type: boolean
        description: Filtrar por créditos liquidados
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      - in: query
        name: vencidos
        schema:
          type: boolean
        description: Solo créditos vencidos (true/false)
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoClienteMiniList'
          description: ''
  /api/creditos-mini/:
    get:
      operationId: creditos_mini_list
      description: ViewSet simplificado para listar créditos sin paginación
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - creditos-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CreditoClienteMini'
          description: ''
  /api/creditos-mini/{id}/:
    get:
      operationId: creditos_mini_retrieve
      description: ViewSet simplificado para listar créditos sin paginación
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Dispersión de crédito.
        required: true
      tags:
      - creditos-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoClienteMini'
          description: ''
  /api/creditos-proveedor/:
    get:
      operationId: creditos_proveedor_list
      description: "\n        Lista todos los créditos de proveedores con opciones
        de filtrado avanzado.\n        \n        **Filtros disponibles (query params):**\n
        \       - `proveedor`: ID del proveedor\n        - `estado`: Estado del crédito
        (ACTIVA, PAGADA)\n        - `is_pagado`: true/false (si está liquidado)\n
        \       - `fecha_desde`: Fecha inicio (YYYY-MM-DD)\n        - `fecha_hasta`:
        Fecha fin (YYYY-MM-DD)\n        - `dia_inicio`: Fecha inicio alternativa (YYYY-MM-DD)\n
        \       - `dia_fin`: Fecha fin alternativa (YYYY-MM-DD)\n        - `vencidos`:
        true/false (solo créditos vencidos)\n        - `search`: Búsqueda por nombre
        o código de proveedor\n        "
      summary: Listar créditos de proveedores
      parameters:
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin alternativa (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio alternativa (YYYY-MM-DD)
      - in: query
        name: estado
        schema:
          type: string
          enum:
          - ACTIVA
          - PAGADA
        description: Estado del crédito (ACTIVA, PAGADA)
      - in: query
        name: fecha_desde
        schema:
          type: string
          format: date
        description: Fecha desde (YYYY-MM-DD)
      - in: query
        name: fecha_hasta
        schema:
          type: string
          format: date
        description: Fecha hasta (YYYY-MM-DD)
      - in: query
        name: is_pagado
        schema:
          type: boolean
        description: Filtrar por créditos liquidados
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: proveedor
        schema:
          type: integer
        description: ID del proveedor
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      - in: query
        name: vencidos
        schema:
          type: boolean
        description: Solo créditos vencidos (true/false)
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoProveedorMiniList'
          description: ''
  /api/creditos-proveedor-mini/:
    get:
      operationId: creditos_proveedor_mini_list
      description: ViewSet simplificado para listar créditos de proveedor sin paginación
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - creditos-proveedor-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CreditoProveedorMini'
          description: ''
  /api/creditos-proveedor-mini/{id}/:
    get:
      operationId: creditos_proveedor_mini_retrieve
      description: ViewSet simplificado para listar créditos de proveedor sin paginación
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Crédito de proveedor.
        required: true
      tags:
      - creditos-proveedor-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoProveedorMini'
          description: ''
  /api/creditos-proveedor/{id}/:
    get:
      operationId: creditos_proveedor_retrieve
      description: Obtiene el detalle completo de un crédito de proveedor incluyendo
        el historial de pagos.
      summary: Detalle de crédito de proveedor
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Crédito de proveedor.
        required: true
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoProveedorList'
          description: ''
        '404':
          description: Crédito no encontrado
  /api/creditos-proveedor/activos/:
    get:
      operationId: creditos_proveedor_activos_list
      description: Lista todos los créditos de proveedores que aún no han sido pagados
        completamente.
      summary: Créditos de proveedor activos
      parameters:
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoProveedorListList'
          description: ''
  /api/creditos-proveedor/estadisticas/:
    get:
      operationId: creditos_proveedor_estadisticas_retrieve
      description: "\n        Obtiene estadísticas generales de todos los créditos
        de proveedores en el sistema.\n        \n        **Incluye:**\n        - Total
        de créditos\n        - Monto total de créditos\n        - Monto total pagado\n
        \       - Adeudo total pendiente\n        - Cantidad de créditos activos,
        liquidados y vencidos\n        - Créditos próximos a vencer (7 días)\n        "
      summary: Estadísticas de créditos de proveedor
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Estadísticas de créditos de proveedor
  /api/creditos-proveedor/estadisticas-proveedor/{proveedor_id}/:
    get:
      operationId: creditos_proveedor_estadisticas_proveedor_retrieve
      description: "\n        Obtiene estadísticas detalladas de los créditos de un
        proveedor específico.\n        \n        **Incluye:**\n        - Información
        del proveedor (ID, código, nombre)\n        - Total de créditos\n        -
        Monto total de créditos\n        - Monto total pagado\n        - Adeudo total
        pendiente\n        - Créditos activos, liquidados y vencidos\n        - Promedio
        de crédito\n        - Listado paginado de todos sus créditos con historial
        de pagos\n        "
      summary: Estadísticas de créditos por proveedor
      parameters:
      - in: path
        name: proveedor_id
        schema:
          type: integer
        description: ID del proveedor
        required: true
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Estadísticas del proveedor
        '404':
          description: Proveedor no encontrado
  /api/creditos-proveedor/por_proveedor/{proveedor_id}/:
    get:
      operationId: creditos_proveedor_por_proveedor_list
      description: Lista todos los créditos de un proveedor específico.
      summary: Créditos por proveedor
      parameters:
      - in: query
        name: activos
        schema:
          type: boolean
        description: CREDITOS ACTIVOS DEL PROVEEDOR
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: pagados
        schema:
          type: boolean
        description: CREDITOS PAGADOS DEL PROVEEDOR
      - in: path
        name: proveedor_id
        schema:
          type: integer
        description: ID del proveedor
        required: true
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      - in: query
        name: vencidos
        schema:
          type: boolean
        description: CREDITOS VENCIDOS DEL PROVEEDOR
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoProveedorListList'
          description: ''
  /api/creditos-proveedor/vencidos/:
    get:
      operationId: creditos_proveedor_vencidos_list
      description: Lista todos los créditos de proveedores que no han sido pagados
        y cuya fecha de vencimiento ya pasó.
      summary: Créditos de proveedor vencidos
      parameters:
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - Créditos Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoProveedorListList'
          description: ''
  /api/creditos/{id}/:
    get:
      operationId: creditos_retrieve
      description: Obtiene el detalle completo de un crédito incluyendo el historial
        de pagos.
      summary: Detalle de crédito
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Dispersión de crédito.
        required: true
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoClienteList'
          description: ''
        '404':
          description: Crédito no encontrado
  /api/creditos/activos/:
    get:
      operationId: creditos_activos_list
      description: Lista todos los créditos que aún no han sido pagados completamente.
      summary: Créditos activos
      parameters:
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoClienteListList'
          description: ''
  /api/creditos/estadisticas/:
    get:
      operationId: creditos_estadisticas_retrieve
      description: "\n        Obtiene estadísticas generales de todos los créditos
        en el sistema.\n        \n        **Incluye:**\n        - Total de dispersiones\n
        \       - Monto total dispersado\n        - Monto total pagado\n        -
        Adeudo total pendiente\n        - Cantidad de créditos activos, liquidados
        y vencidos\n        - Créditos próximos a vencer (7 días)\n        "
      summary: Estadísticas de créditos
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Estadísticas de créditos
  /api/creditos/estadisticas-cliente/{cliente_id}/:
    get:
      operationId: creditos_estadisticas_cliente_retrieve
      description: "\n        Obtiene estadísticas detalladas de los créditos de un
        cliente específico.\n        \n        **Incluye:**\n        - Información
        del cliente (ID, código, nombre)\n        - Total de créditos dispersados\n
        \       - Monto total dispersado\n        - Monto total pagado\n        -
        Adeudo total pendiente\n        - Créditos activos, liquidados y vencidos\n
        \       - Promedio de crédito\n        - Listado paginado de todos sus créditos
        con historial de pagos\n        \n        **Filtros opcionales (query params):**\n
        \       - `page`: Número de página para la lista de créditos\n        - `page_size`:
        Tamaño de página (por defecto 10)\n        "
      summary: Estadísticas de créditos por cliente
      parameters:
      - in: path
        name: cliente_id
        schema:
          type: integer
        description: ID del cliente
        required: true
      - in: query
        name: page
        schema:
          type: integer
        description: Número de página
      - in: query
        name: page_size
        schema:
          type: integer
        description: Tamaño de página
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EstadisticasClienteResponse'
          description: ''
        '404':
          description: Cliente no encontrado
  /api/creditos/por_cliente/{cliente_id}/:
    get:
      operationId: creditos_por_cliente_list
      description: Lista todos los créditos de un cliente específico.
      summary: Créditos por cliente
      parameters:
      - in: query
        name: activos
        schema:
          type: boolean
        description: CREDITOS ACTIVOS DEL CLIENTE
      - in: path
        name: cliente_id
        schema:
          type: integer
        description: ID del cliente
        required: true
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: pagados
        schema:
          type: boolean
        description: CREDITOS PAGADOS DEL CLIENTE
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      - in: query
        name: vencidos
        schema:
          type: boolean
        description: CREDITOS VENCIDOS DEL CLIENTE
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoClienteListList'
          description: ''
  /api/creditos/vencidos/:
    get:
      operationId: creditos_vencidos_list
      description: Lista todos los créditos que no han sido pagados y cuya fecha de
        vencimiento ya pasó.
      summary: Créditos vencidos
      parameters:
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - Créditos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCreditoClienteListList'
          description: ''
  /api/direccion/desglose-cp/:
    get:
      operationId: direccion_desglose_cp_retrieve
      description: API endpoint to retrieve detailed address breakdown (desglose de
        dirección) based on query parameters.
      summary: Desglose de dirección
      parameters:
      - in: query
        name: codigo_postal
        schema:
          type: string
        description: Postal code to filter colonias (neighborhoods) and municipios
          (municipalities).
      tags:
      - direccion
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: "\n            Ejemplo de respuesta:\n            {\n                \"code\":
            202,\n                \"data\": [\n                    {\n                        \"codigo_postal_id\":
            1,\n                        \"codigo_postal\": \"12345\",\n                        \"colonia_id\":
            2,\n                        \"colonia\": \"Centro\",\n                        \"municipio_id\":
            3,\n                        \"municipio\": \"Ciudad\",\n                        \"estado_id\":
            4,\n                        \"estado\": \"Estado\"\n                    }\n
            \               ],\n                \"message\": \"Desglose de dirección
            exitoso\",\n                \"status\": \"success\"\n            }\n            "
  /api/direccion/estados/:
    get:
      operationId: direccion_estados_retrieve
      tags:
      - direccion
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: No response body
  /api/embarques-crear/:
    post:
      operationId: embarques_crear_create
      description: Procesa preventas y productos en tara para crear un embarque
      summary: Crear nuevo embarque
      tags:
      - Embarque
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Embarque'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Embarque'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Embarque'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbarqueCreateResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '500':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/embarques-reparto/:
    get:
      operationId: embarques_reparto_list
      description: Obtiene una lista paginada de embarques de reparto con filtros
        opcionales
      summary: Listar embarques de reparto
      parameters:
      - in: query
        name: encargado_id
        schema:
          type: integer
        description: Filtrar por ID del encargado
      - in: query
        name: fase
        schema:
          type: string
        description: Filtrar por fase (CARGA, REPARTO, TERMINADO, CANCELADO)
      - in: query
        name: limit
        schema:
          type: integer
        description: Número de resultados por página
      - in: query
        name: offset
        schema:
          type: integer
        description: Desplazamiento para paginación
      - in: query
        name: ruta_id
        schema:
          type: integer
        description: Filtrar por ID de ruta
      - in: query
        name: search
        schema:
          type: string
        description: Buscar por nombre de ruta o nombre del encargado
      - in: query
        name: sin_paginacion
        schema:
          type: boolean
          default: false
        description: Si es true, devuelve todos los resultados sin paginar
      tags:
      - Embarque
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedEmbarqueMiniList'
          description: ''
  /api/embarques-reparto/{id}/:
    get:
      operationId: embarques_reparto_list_2
      description: Obtiene una lista paginada de embarques de reparto con filtros
        opcionales
      summary: Listar embarques de reparto
      parameters:
      - in: query
        name: encargado_id
        schema:
          type: integer
        description: Filtrar por ID del encargado
      - in: query
        name: fase
        schema:
          type: string
        description: Filtrar por fase (CARGA, REPARTO, TERMINADO, CANCELADO)
      - in: path
        name: id
        schema:
          type: integer
        required: true
      - in: query
        name: limit
        schema:
          type: integer
        description: Número de resultados por página
      - in: query
        name: offset
        schema:
          type: integer
        description: Desplazamiento para paginación
      - in: query
        name: ruta_id
        schema:
          type: integer
        description: Filtrar por ID de ruta
      - in: query
        name: search
        schema:
          type: string
        description: Buscar por nombre de ruta o nombre del encargado
      - in: query
        name: sin_paginacion
        schema:
          type: boolean
          default: false
        description: Si es true, devuelve todos los resultados sin paginar
      tags:
      - Embarque
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedEmbarqueMiniList'
          description: ''
  /api/embarques-reparto/caja-movimientos/:
    get:
      operationId: embarques_reparto_caja_movimientos_retrieve
      description: Obtiene los movimientos de caja (transacciones) asociados a la
        apertura de caja de un embarque/reparto.
      summary: Obtener movimientos de caja del embarque
      parameters:
      - in: query
        name: embarque_id
        schema:
          type: integer
        description: ID del embarque/reparto
        required: true
      tags:
      - Embarque
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/embarques-reparto/checkin/:
    post:
      operationId: embarques_reparto_checkin_create
      description: Realiza el checkin de productos de ventas en un embarque de ruta.
        Permite marcar los productos que se están cargando en el vehículo.
      summary: Checkin de productos en embarque
      tags:
      - Embarque
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VentasEmbarqueSubidaRuta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/VentasEmbarqueSubidaRuta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/VentasEmbarqueSubidaRuta'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckinProductoResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/embarques-reparto/finalizar/:
    post:
      operationId: embarques_reparto_finalizar_create
      description: Actualiza la fase del embarque a TERMINADO, finalizando el reparto
      summary: Finalizar reparto de embarque
      tags:
      - Embarque
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FinalizarRepartoRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/FinalizarRepartoRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/FinalizarRepartoRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FinalizarRepartoResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/embarques-reparto/iniciar/:
    post:
      operationId: embarques_reparto_iniciar_create
      description: Actualiza la fase del embarque a REPARTO y registra la fecha de
        salida
      summary: Iniciar reparto de embarque
      tags:
      - Embarque
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/IniciarRepartoRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/IniciarRepartoRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/IniciarRepartoRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IniciarRepartoResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/embarques-ruta/:
    post:
      operationId: embarques_ruta_create
      description: Crea un movimiento de embarque basado en la ruta y los productos
        proporcionados.
      summary: Crear embarque de ruta
      tags:
      - embarques-ruta
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MovimientoEmbarqueCreateRuta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MovimientoEmbarqueCreateRuta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MovimientoEmbarqueCreateRuta'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmbarqueRutaCreateResponse'
          description: ''
  /api/embarques/preventas-detalles/:
    get:
      operationId: embarques_preventas_detalles_retrieve
      description: Obtiene las preventas que tienen productos sin cargar, con información
        detallada de cada producto y su unidad SAT
      summary: Listar preventas con productos pendientes por cargar
      parameters:
      - in: query
        name: fase
        schema:
          type: string
        description: Filtrar por fase de la venta (PRE VENTA, EN CURSO, etc.)
      - in: query
        name: ruta_id
        schema:
          type: integer
        description: ID de la ruta para filtrar preventas (opcional)
      tags:
      - Embarque
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PreventasConDetallesResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/empresas/:
    get:
      operationId: empresas_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - empresas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedEmpresaList'
          description: ''
    post:
      operationId: empresas_create
      tags:
      - empresas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmpresaCreateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmpresaCreateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmpresaCreateRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Empresa'
          description: ''
  /api/empresas-mini/:
    get:
      operationId: empresas_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - empresas-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmpresaMini'
          description: ''
  /api/empresas/{id}/:
    get:
      operationId: empresas_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Empresa.
        required: true
      tags:
      - empresas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Empresa'
          description: ''
    put:
      operationId: empresas_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Empresa.
        required: true
      tags:
      - empresas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmpresaUpdateRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EmpresaUpdateRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EmpresaUpdateRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Empresa'
          description: ''
    patch:
      operationId: empresas_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Empresa.
        required: true
      tags:
      - empresas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedEmpresa'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedEmpresa'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedEmpresa'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Empresa'
          description: ''
    delete:
      operationId: empresas_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Empresa.
        required: true
      tags:
      - empresas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/entradas-abastecimiento/:
    post:
      operationId: entradas_abastecimiento_create
      description: "\n        Crea una entrada de inventario por abastecimiento desde
        una orden de compra específica.\n        \n        **Proceso:**\n        1.
        Valida que la orden de compra exista y esté en estado válido\n        2. Obtiene
        el almacén destino de la orden de compra\n        3. Crea los lotes de inventario
        para cada producto\n        4. Registra los movimientos de inventario\n        5.
        Actualiza el estado de la compra relacionada\n        \n        **Validaciones
        importantes:**\n        - La compra debe existir y estar en estado \"EN_CAMINO\"\n
        \       - Para almacenes tipo CEDIS es obligatorio especificar ubicacion_rack\n
        \       - Los productos deben existir y estar activos\n        - Se validan
        diferencias entre cantidades ordenadas vs recibidas\n        \n        **Efectos
        del proceso:**\n        - Se crean lotes de inventario para cada producto\n
        \       - Se registra un movimiento principal de entrada\n        - Se actualizan
        los estados de compra y orden de compra a \"FINALIZADA\"\n        - Se detectan
        y marcan diferencias en cantidades si las hay\n        "
      summary: Crear abastecimiento de inventario (Compra)
      tags:
      - Inventario - Entradas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MovimientoEntradaAbastecimiento'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MovimientoEntradaAbastecimiento'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MovimientoEntradaAbastecimiento'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbastecimientoSuccessResponse'
              examples:
                AbastecimientoExitoso:
                  value:
                    success: true
                    message: Abastecimiento realizado exitosamente
                    data:
                      movimiento_principal:
                        id: 123
                        referencia: ABAST-COMP-001-20251020143052
                        tipo: TIPO_ENTRADA
                        movimiento: ENTRADA ABASTECIMIENTO
                        fase: FASE_TERMINADA
                      compra:
                        id: 45
                        codigo: COMP-001
                        estado_actual: FINALIZADA
                      almacen_destino:
                        id: 2
                        nombre: Almacén Principal
                        tipo: CEDIS
                      resumen:
                        total_items: 3
                        cantidad_total: 150.0
                        costo_total: 3750.0
                        costo_promedio: 25.0
                        lotes_creados: 3
                      productos_abastecidos:
                      - producto:
                          id: 10
                          nombre: Laptop Dell Inspiron
                          codigo: LAP-001
                        lote_id: 150
                        cantidad: 50.0
                        costo_unitario: 25.0
                        costo_total: 1250.0
                        ubicacion: Rack A-1-1
                      - producto:
                          id: 11
                          nombre: Mouse Inalámbrico
                          codigo: MOU-001
                        lote_id: 151
                        cantidad: 100.0
                        costo_unitario: 25.0
                        costo_total: 2500.0
                        ubicacion: Rack B-2-3
                      metadatos:
                        referencia: ABAST-COMP-001-20251020143052
                        nota: Abastecimiento de compra semanal
                        fecha_proceso: '2025-10-20T14:30:52.123456Z'
                        procesado_por:
                          id: 1
                          username: admin
                  summary: Ejemplo de respuesta exitosa
                  description: Respuesta cuando el abastecimiento se procesa correctamente
          description: Abastecimiento creado exitosamente
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbastecimientoErrorResponse'
              examples:
                ErrorDeValidación:
                  value:
                    success: false
                    message: Error en los datos enviados
                    errors:
                      compra:
                      - Este campo es requerido.
                      items:
                      - Esta lista no puede estar vacía.
                  summary: Datos inválidos
                  description: Error cuando los datos enviados no son válidos
                CompraEnEstadoInválido:
                  value:
                    success: false
                    message: 'La compra debe estar en estado ''EN_CAMINO''. Estado
                      actual: FINALIZADA'
                    errors:
                      detail: 'La compra debe estar en estado ''EN_CAMINO''. Estado
                        actual: FINALIZADA'
                  summary: Estado de compra incorrecto
                  description: Error cuando la compra no está en estado válido
          description: Error en los datos enviados
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbastecimientoErrorResponse'
              examples:
                CompraNoEncontrada:
                  value:
                    success: false
                    message: Compra con ID 999 no encontrada
                    errors:
                      detail: Compra con ID 999 no encontrada
                  summary: ID de compra inválido
          description: Compra no encontrada
        '500':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbastecimientoErrorResponse'
              examples:
                ErrorInterno:
                  value:
                    success: false
                    message: Error interno del servidor
                    errors:
                      detail: Error de conexión a la base de datos
                  summary: Error del sistema
          description: Error interno del servidor
  /api/entradas-list-tipo/:
    get:
      operationId: entradas_list_tipo_list
      description: "\n        Obtiene una lista de entradas de inventario filtradas
        por tipo.\n        \n        **Tipos disponibles:**\n        - `ENTRADA ABASTECIMIENTO`:
        Compras en camino al almacén\n        - `ENTRADA TRASPASO`: Traspasos de entrada
        pendientes de recibir\n\n        **Nota:** Por el momento solo retorna datos
        de compras (CompraMiniListSerializer)\n        "
      summary: Listar entradas de inventario
      parameters:
      - in: query
        name: almacen
        schema:
          type: integer
        description: ID del almacén destino (opcional)
        examples:
          AlmacénPrincipal:
            value: 1
            summary: Almacén principal
          AlmacénSecundario:
            value: 2
            summary: Almacén secundario
      - in: query
        name: tipo
        schema:
          type: string
          enum:
          - ENTRADA ABASTECIMIENTO
          - ENTRADA TRASPASO
        description: Tipo de entrada a consultar
        required: true
        examples:
          Abastecimientos:
            value: ENTRADA ABASTECIMIENTO
          Traspasos:
            value: ENTRADA TRASPASO
      tags:
      - Inventario - Entradas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CompraMiniList'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/entradas-traspaso/:
    post:
      operationId: entradas_traspaso_create
      description: "\n        Procesa (recibe) una entrada de inventario que está
        en estado FASE PROCESO.\n        \n        **Flujo:**\n        1. Valida que
        la entrada exista y esté en FASE PROCESO\n        2. Valida que el almacen_destino
        sea el del usuario autenticado\n        3. Recibe los productos, cantidades
        y lotes a ingresar\n        4. Crea/actualiza lotes en el almacén destino\n
        \       5. Cambia la fase a FASE TERMINADA\n        "
      summary: Procesar entrada de inventario
      tags:
      - Inventario - Entradas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MovimientoEntrada'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MovimientoEntrada'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MovimientoEntrada'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                description: Entrada procesada exitosamente
                content:
                  application/json:
                    example:
                      success: true
                      message: Entrada de inventario procesada exitosamente
                      movimiento_id: 123
                      referencia: MOV-SALIDA TRASPASO-1
                      productos_procesados: 3
                      lotes_procesados: 5
          description: ''
        '400':
          content:
            application/json:
              schema:
                description: Error de validación
                content:
                  application/json:
                    examples:
                      ya_procesada:
                        summary: Entrada ya procesada
                        value:
                          error: La entrada ya fue procesada
                      no_pertenece:
                        summary: No pertenece al almacén
                        value:
                          error: Esta entrada no pertenece a tu almacén
          description: ''
        '404':
          content:
            application/json:
              schema:
                description: Entrada no encontrada
                content:
                  application/json:
                    example:
                      error: Entrada de inventario no encontrada
          description: ''
  /api/gastos-compra/:
    get:
      operationId: gastos_compra_list
      description: "\n        Lista todos los gastos de compra con opciones de filtrado.\n
        \       \n        **Filtros disponibles:**\n        - `compra`: ID de la compra\n
        \       - `dia_inicio`: Fecha inicio (YYYY-MM-DD)\n        - `dia_fin`: Fecha
        fin (YYYY-MM-DD)\n        - `search`: Búsqueda en concepto, descripción o
        código de compra\n        "
      summary: Listar gastos de compra
      parameters:
      - in: query
        name: compra
        schema:
          type: integer
        description: ID de la compra
      - in: query
        name: dia_fin
        schema:
          type: string
          format: date
        description: Fecha fin (YYYY-MM-DD)
      - in: query
        name: dia_inicio
        schema:
          type: string
          format: date
        description: Fecha inicio (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - in: query
        name: search
        schema:
          type: string
        description: Búsqueda en concepto, descripción o código de compra
      tags:
      - Gastos de Compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedCompraGastoListList'
          description: ''
    post:
      operationId: gastos_compra_create
      description: Registra un nuevo gasto asociado a una compra.
      summary: Crear gasto de compra
      tags:
      - Gastos de Compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GastosCompraCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GastosCompraCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GastosCompraCreate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompraGastoRetrieve'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/gastos-compra/{id}/:
    get:
      operationId: gastos_compra_retrieve
      description: Obtiene el detalle completo de un gasto de compra.
      summary: Detalle de gasto
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Gasto de Compra.
        required: true
      tags:
      - Gastos de Compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompraGastoRetrieve'
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
    put:
      operationId: gastos_compra_update
      description: Actualiza un gasto de compra existente.
      summary: Actualizar gasto
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Gasto de Compra.
        required: true
      tags:
      - Gastos de Compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GastosCompraCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GastosCompraCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GastosCompraCreate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompraGastoRetrieve'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
    patch:
      operationId: gastos_compra_partial_update
      description: Actualiza parcialmente un gasto de compra.
      summary: Actualizar gasto parcialmente
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Gasto de Compra.
        required: true
      tags:
      - Gastos de Compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedGastosCompraCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedGastosCompraCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedGastosCompraCreate'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CompraGastoRetrieve'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
    delete:
      operationId: gastos_compra_destroy
      description: Elimina lógicamente un gasto de compra.
      summary: Eliminar gasto
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Gasto de Compra.
        required: true
      tags:
      - Gastos de Compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GastoDeleteResponse'
          description: ''
  /api/gastos-compra/crear-multiples/:
    post:
      operationId: gastos_compra_crear_multiples_create
      description: "\n        Registra múltiples gastos de compra en una sola petición.\n
        \       \n        **Ejemplo de request:**\n        ```json\n        {\n            \"gastos\":
        [\n                {\n                    \"compra\": 1,\n                    \"concepto\":
        \"Flete\",\n                    \"descripcion\": \"Transporte de mercancía\",\n
        \                   \"monto\": 1500.00\n                },\n                {\n
        \                   \"compra\": 1,\n                    \"concepto\": \"Maniobras\",\n
        \                   \"descripcion\": \"Descarga de productos\",\n                    \"monto\":
        500.00\n                }\n            ]\n        }\n        ```\n        "
      summary: Crear múltiples gastos de compra
      tags:
      - Gastos de Compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GastosCompraMultipleCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/GastosCompraMultipleCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/GastosCompraMultipleCreate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GastosMultipleCreateResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/grupos/:
    get:
      operationId: grupos_list
      description: "\n        Obtiene una lista de todos los grupos del sistema con
        filtros opcionales.\n        \n        **Filtros disponibles:**\n        -
        `permission`: Filtrar grupos que tengan un permiso específico\n        - `has_users`:
        Filtrar grupos con/sin usuarios (true/false)\n        - `search`: Buscar por
        nombre del grupo\n        "
      summary: Listar grupos
      parameters:
      - in: query
        name: has_users
        schema:
          type: string
          enum:
          - 'false'
          - 'true'
        description: Filtrar grupos con/sin usuarios
        examples:
          SoloConUsuarios:
            value: 'true'
            summary: Solo con usuarios
          SoloSinUsuarios:
            value: 'false'
            summary: Solo sin usuarios
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - in: query
        name: permission
        schema:
          type: integer
        description: ID del permiso para filtrar grupos
        examples:
          PermisoEspecífico:
            value: 123
            summary: Permiso específico
      - in: query
        name: search
        schema:
          type: string
        description: Buscar por nombre del grupo
        examples:
          BuscarAdministradores:
            value: admin
            summary: Buscar administradores
      tags:
      - Grupos y Permisos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedGroupMiniList'
          description: ''
    post:
      operationId: grupos_create
      description: Crea un nuevo grupo y opcionalmente asigna permisos
      summary: Crear grupo
      tags:
      - Grupos y Permisos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Group'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Group'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Group'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
  /api/grupos/{id}/:
    get:
      operationId: grupos_retrieve
      description: Obtiene los detalles completos de un grupo específico
      summary: Obtener detalles del grupo
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este grupo.
        required: true
      tags:
      - Grupos y Permisos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
    put:
      operationId: grupos_update
      description: Actualiza un grupo y sus permisos asignados
      summary: Actualizar grupo
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este grupo.
        required: true
      tags:
      - Grupos y Permisos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Group'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Group'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Group'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
    patch:
      operationId: grupos_partial_update
      description: Actualiza solo los permisos asignados a un grupo
      summary: Actualizar permisos del grupo
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este grupo.
        required: true
      tags:
      - Grupos y Permisos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedGroup'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedGroup'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedGroup'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
    delete:
      operationId: grupos_destroy
      description: Elimina un grupo del sistema
      summary: Eliminar grupo
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este grupo.
        required: true
      tags:
      - Grupos y Permisos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
  /api/grupos/{id}/asignar_permisos/:
    post:
      operationId: grupos_asignar_permisos_create
      description: Agrega permisos específicos a un grupo sin reemplazar los existentes
      summary: Asignar permisos específicos
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este grupo.
        required: true
      tags:
      - Grupos y Permisos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AsignarPermisosRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AsignarPermisosRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AsignarPermisosRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
  /api/grupos/{id}/remover_permisos/:
    post:
      operationId: grupos_remover_permisos_create
      description: Remueve permisos específicos de un grupo
      summary: Remover permisos específicos
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este grupo.
        required: true
      tags:
      - Grupos y Permisos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RemoverPermisosRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/RemoverPermisosRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/RemoverPermisosRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Group'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
  /api/incidencias/:
    get:
      operationId: incidencias_list
      description: Obtiene el listado de insidencias con paginación y filtros
      summary: Listar insidencias
      parameters:
      - in: query
        name: resuelta
        schema:
          type: boolean
        description: Filtrar por estado resuelta (true/false)
      - in: query
        name: search
        schema:
          type: string
        description: Buscar por descripción
      tags:
      - Insidencias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InsidenciaMini'
          description: ''
  /api/incidencias/{id}/:
    get:
      operationId: incidencias_list_2
      description: Obtiene el listado de insidencias con paginación y filtros
      summary: Listar insidencias
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        required: true
      - in: query
        name: resuelta
        schema:
          type: boolean
        description: Filtrar por estado resuelta (true/false)
      - in: query
        name: search
        schema:
          type: string
        description: Buscar por descripción
      tags:
      - Insidencias
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InsidenciaMini'
          description: ''
  /api/incidencias/atender-lote/:
    post:
      operationId: incidencias_atender_lote_create
      description: Marca múltiples lotes de una insidencia como atendidos
      summary: Atender lotes de insidencia
      tags:
      - Insidencias
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AtenderInsidenciaLote'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AtenderInsidenciaLote'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AtenderInsidenciaLote'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AtenderInsidenciaLoteResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/inventario-almacenes/:
    get:
      operationId: inventario_almacenes_retrieve
      description: "\n        Obtiene el inventario de **todos los almacenes fijos
        activos** del sistema.\n        \n        **Características:**\n        -
        Incluye TODOS los almacenes fijos, incluso sin inventario\n        - Solo
        almacenes tipo FIJO (excluye CEDIS)\n        - Productos ordenados por cantidad
        descendente dentro de cada almacén\n        - Requiere filtro obligatorio
        para optimizar rendimiento\n        \n        **Parámetros obligatorios:**\n
        \       Debe proporcionar al menos uno:\n        - `producto_id`: Para buscar
        un producto específico\n        - `search`: Para buscar productos por nombre
        o código\n        \n        **Respuesta incluye:**\n        - `total_almacenes`:
        Total de almacenes fijos en el sistema\n        - `almacenes_con_inventario`:
        Almacenes que tienen el producto buscado\n        - `almacenes_sin_inventario`:
        Almacenes sin el producto buscado\n        - `data`: Array de almacenes con
        sus productos\n        \n        **Ejemplos de uso:**\n        - `?producto_id=123`
        - Buscar producto con ID 123 en todos los almacenes\n        - `?search=harina`
        - Buscar productos que contengan \"harina\"\n        - `?search=HAR-001` -
        Buscar por código de producto\n        "
      summary: Consultar inventario en todos los almacenes fijos
      parameters:
      - in: query
        name: producto_id
        schema:
          type: integer
        description: 'ID del producto para filtrar inventario. Ejemplo: 123'
      - in: query
        name: search
        schema:
          type: string
        description: 'Búsqueda por nombre o código del producto (case-insensitive).
          Ejemplo: "harina" o "HAR-001"'
      tags:
      - Inventario - Consultas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InventarioAlmacenView'
          description: Inventario consultado exitosamente. Retorna todos los almacenes
            fijos con sus productos.
        '400':
          description: Parámetros inválidos. Debe proporcionar producto_id o search.
        '401':
          description: No autenticado. Token JWT requerido.
        '403':
          description: No autorizado. Sin permisos para consultar inventario.
  /api/inventario/almacen/:
    get:
      operationId: inventario_almacen_retrieve
      description: Obtiene el inventario consolidado de un almacén específico
      summary: Balance de inventario por almacén
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacén para consultar inventario por defecto toma el
          asignado al usuario
      - in: query
        name: incluir_lotes
        schema:
          type: boolean
        description: Incluir detalles de lotes individuales
      - in: query
        name: producto_id
        schema:
          type: integer
        description: ID del producto para filtrar (opcional)
      - in: query
        name: search
        schema:
          type: string
        description: Buscar productos por nombre (mínimo 3 caracteres)
      tags:
      - inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InventarioPorAlmacen'
          description: ''
  /api/inventario/almacen/consulta/:
    get:
      operationId: inventario_almacen_consulta_retrieve
      description: Obtiene el inventario consolidado de un almacén específico con
        paginación
      summary: Consulta de inventario por almacén (paginado)
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacén para consultar inventario (por defecto toma el
          asignado al usuario)
      - in: query
        name: incluir_lotes
        schema:
          type: boolean
        description: Incluir detalles de lotes individuales
      - in: query
        name: limit
        schema:
          type: integer
        description: 'Número de productos por página (default: 10)'
      - in: query
        name: offset
        schema:
          type: integer
        description: Desplazamiento para paginación
      - in: query
        name: producto_id
        schema:
          type: integer
        description: ID del producto para filtrar (opcional)
      - in: query
        name: search
        schema:
          type: string
        description: Buscar productos por nombre (mínimo 3 caracteres)
      tags:
      - inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InventarioPorAlmacen'
          description: ''
  /api/inventario/producto/:
    get:
      operationId: inventario_producto_retrieve
      description: Obtiene el inventario de un producto específico en todos los almacenes
        o uno específico
      summary: Consultar inventario de un producto
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacén específico (opcional, si no se especifica muestra
          todos)
      - in: query
        name: incluir_lotes
        schema:
          type: boolean
        description: Incluir detalles de lotes individuales
      - in: query
        name: producto_id
        schema:
          type: integer
        description: ID del producto para consultar inventario
        required: true
      tags:
      - inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DetalleInventarioPorProducto'
          description: ''
  /api/inventario/rack/:
    get:
      operationId: inventario_rack_retrieve
      description: Obtiene el inventario consolidado de un rack específico
      summary: Balance de inventario por rack
      parameters:
      - in: query
        name: incluir_lotes
        schema:
          type: boolean
        description: Incluir detalles de lotes individuales
      - in: query
        name: producto_id
        schema:
          type: integer
        description: ID del producto para filtrar (opcional)
      - in: query
        name: rack_id
        schema:
          type: integer
        description: ID del rack para consultar inventario
        required: true
      tags:
      - inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DetalleInventarioRack'
          description: ''
  /api/metodos-pago/:
    get:
      operationId: metodos_pago_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - metodos-pago
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MetodoPagoMini'
          description: ''
  /api/metodos-pago/{id}/:
    get:
      operationId: metodos_pago_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Método de Pago.
        required: true
      tags:
      - metodos-pago
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MetodoPagoMini'
          description: ''
  /api/mi-data/:
    get:
      operationId: mi_data_retrieve
      description: Retorna información del usuario actual incluyendo permisos y estado
        de superusuario
      summary: Obtener datos del usuario autenticado
      tags:
      - usuarios
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MiDataResponse'
              examples:
                UsuarioNormal:
                  value:
                    username: usuario123
                    email: usuario@example.com
                    full_name: Juan Pérez
                    permisos:
                    - auth.view_user
                    - inventario.add_producto
                    - erp.view_cliente
                    is_superuser: false
                    is_staff: false
                    is_active: true
                  summary: Usuario normal
                Superusuario:
                  value:
                    username: admin
                    email: admin@example.com
                    full_name: Administrador Sistema
                    permisos: []
                    is_superuser: true
                    is_staff: true
                    is_active: true
          description: ''
        '401':
          description: No autenticado
  /api/mis-entradas/:
    get:
      operationId: mis_entradas_list
      description: Obtiene la lista de entradas de inventario del almacén del usuario
        autenticado
      summary: Listar mis entradas de inventario
      parameters:
      - in: query
        name: fase
        schema:
          type: string
          enum:
          - FASE PROCESO
          - FASE TERMINADA
        description: 'Fase del movimiento (por defecto: FASE PROCESO)'
        examples:
          EnProceso:
            value: FASE PROCESO
            summary: En proceso
          Terminadas:
            value: FASE TERMINADA
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      tags:
      - Inventario - Entradas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedMovimimientosMiniList'
          description: ''
  /api/mis-entradas/{id}/:
    get:
      operationId: mis_entradas_retrieve
      description: Obtiene el detalle completo de una entrada de inventario específica,
        incluyendo todos los productos y lotes
      summary: Detalle de una entrada de inventario
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - Inventario - Entradas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MovimientoPrincipal'
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/movimiento/salida/:
    get:
      operationId: movimiento_salida_list
      description: Permite listar los movimientos de salida de inventario
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - movimiento
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedMovimimientosMiniList'
          description: ''
    post:
      operationId: movimiento_salida_create
      description: Permite crear movimientos de salida (merma o traspaso)
      summary: Crear movimiento de salida
      tags:
      - movimiento
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MovimientoSalida'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MovimientoSalida'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MovimientoSalida'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MovimientoSalidaDetalle'
          description: ''
  /api/movimiento/salida/{id}/:
    get:
      operationId: movimiento_salida_retrieve
      description: Permite obtener los detalles de un movimiento de salida específico
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este movimiento inventario.
        required: true
      tags:
      - movimiento
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MovimientoPrincipal'
          description: ''
  /api/movimiento/traspaso-list/:
    get:
      operationId: movimiento_traspaso_list_list
      description: "\n        Obtiene una lista paginada de movimientos de traspaso
        filtrados por tipo, fase y fechas.\n        \n        **Filtros disponibles:**\n
        \       - `tipo`: TIPO_ENTRADA o TIPO_SALIDA\n        - `fase`: FASE_PROCESO
        o FASE_TERMINADA\n        - `fecha_inicio` y `fecha_fin`: Rango de fechas\n
        \       \n        **Nota:** Automáticamente filtra por el almacén del usuario
        autenticado.\n        "
      summary: Listar movimientos de traspaso
      parameters:
      - in: query
        name: fase
        schema:
          type: string
          enum:
          - FASE PROCESO
          - FASE TERMINADA
        description: Fase del movimiento (FASE_PROCESO o FASE_TERMINADA)
      - in: query
        name: fecha_fin
        schema:
          type: string
        description: 'Fecha de fin (formato: YYYY-MM-DD)'
      - in: query
        name: fecha_inicio
        schema:
          type: string
        description: 'Fecha de inicio (formato: YYYY-MM-DD)'
      - in: query
        name: limit
        schema:
          type: integer
        description: Número de resultados por página
      - in: query
        name: offset
        schema:
          type: integer
        description: Desplazamiento para paginación
      - in: query
        name: tipo
        schema:
          type: string
          enum:
          - ENTRADA
          - SALIDA
        description: Tipo de movimiento (TIPO_ENTRADA o TIPO_SALIDA)
      tags:
      - Movimientos de Inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MovimimientosMini'
          description: ''
        '400':
          description: Almacén no encontrado o parámetros inválidos
  /api/movimiento/traspaso-list/{id}/:
    get:
      operationId: movimiento_traspaso_list_list_2
      description: "\n        Obtiene una lista paginada de movimientos de traspaso
        filtrados por tipo, fase y fechas.\n        \n        **Filtros disponibles:**\n
        \       - `tipo`: TIPO_ENTRADA o TIPO_SALIDA\n        - `fase`: FASE_PROCESO
        o FASE_TERMINADA\n        - `fecha_inicio` y `fecha_fin`: Rango de fechas\n
        \       \n        **Nota:** Automáticamente filtra por el almacén del usuario
        autenticado.\n        "
      summary: Listar movimientos de traspaso
      parameters:
      - in: query
        name: fase
        schema:
          type: string
          enum:
          - FASE PROCESO
          - FASE TERMINADA
        description: Fase del movimiento (FASE_PROCESO o FASE_TERMINADA)
      - in: query
        name: fecha_fin
        schema:
          type: string
        description: 'Fecha de fin (formato: YYYY-MM-DD)'
      - in: query
        name: fecha_inicio
        schema:
          type: string
        description: 'Fecha de inicio (formato: YYYY-MM-DD)'
      - in: path
        name: id
        schema:
          type: integer
        required: true
      - in: query
        name: limit
        schema:
          type: integer
        description: Número de resultados por página
      - in: query
        name: offset
        schema:
          type: integer
        description: Desplazamiento para paginación
      - in: query
        name: tipo
        schema:
          type: string
          enum:
          - ENTRADA
          - SALIDA
        description: Tipo de movimiento (TIPO_ENTRADA o TIPO_SALIDA)
      tags:
      - Movimientos de Inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/MovimimientosMini'
          description: ''
        '400':
          description: Almacén no encontrado o parámetros inválidos
  /api/movimientos-caja/registrar-pago-venta/:
    post:
      operationId: movimientos_caja_registrar_pago_venta_create
      description: "\n        Registra uno o varios pagos de una venta en la caja
        del usuario.\n        \n        **Proceso:**\n        1. Valida que el usuario
        tenga una caja abierta\n        2. Valida que los pagos no excedan el adeudo\n
        \       3. Crea transacciones en CajaTransaccion (ENTRADA)\n        4. Crea
        registros en PagosVenta\n        5. Actualiza el total_pagado de la venta\n
        \       6. Si el adeudo llega a 0, marca la venta como TERMINADA\n        \n
        \       **Validaciones:**\n        - El usuario debe tener una caja abierta\n
        \       - La venta no debe estar cancelada\n        - El total de pagos no
        puede exceder el adeudo\n        - Cada monto debe ser mayor a cero\n        "
      summary: Registrar pago de venta en caja
      tags:
      - Cajas - Movimientos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MovimientoCajaVenta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MovimientoCajaVenta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MovimientoCajaVenta'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: Pago registrado exitosamente
        '400':
          description: Error de validación
  /api/movimientos-caja/registrar-salida-gasto/:
    post:
      operationId: movimientos_caja_registrar_salida_gasto_create
      description: "\n        Registra una salida o gasto de la caja del usuario.\n
        \       \n        **Tipos de transacción:**\n        - **SALIDA**: Salida
        genérica de efectivo (no requiere gasto_tipo)\n        - **GASTO**: Gasto
        específico (requiere gasto_tipo)\n        \n        **Tipos de gasto disponibles:**\n
        \       - GASTO VIATICO XALAPA\n        - GASTO VIATICO CORDOBA\n        -
        GASTO INSUMOS PLASTICOS\n        - GASTO MECANICO\n        - OTRO\n        \n
        \       **Proceso:**\n        1. Valida que el usuario tenga una caja abierta\n
        \       2. Si tipo=GASTO, valida que se proporcione gasto_tipo\n        3.
        Crea la transacción en CajaTransaccion\n        4. Registra la salida con
        el método de pago (por defecto EFECTIVO)\n        \n        **Validaciones:**\n
        \       - El usuario debe tener una caja abierta\n        - El monto debe
        ser mayor a cero\n        - Si tipo=GASTO, gasto_tipo es obligatorio\n        "
      summary: Registrar salida o gasto de caja
      tags:
      - Cajas - Movimientos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SalidaCajaGasto'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SalidaCajaGasto'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SalidaCajaGasto'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          description: Salida/Gasto registrado exitosamente
        '400':
          description: Error de validación
  /api/notificaciones/:
    get:
      operationId: notificaciones_list
      description: API para listar notificaciones no leídas y marcarlas como leídas.
      tags:
      - notificaciones
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Notificacion'
          description: ''
  /api/notificaciones/{id}/:
    get:
      operationId: notificaciones_retrieve
      description: API para listar notificaciones no leídas y marcarlas como leídas.
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - notificaciones
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notificacion'
          description: ''
  /api/notificaciones/{id}/marcar-leida/:
    patch:
      operationId: notificaciones_marcar_leida_partial_update
      description: |-
        Marca una notificación como leída.
        ---
        **Ejemplo:**
        ```
        PATCH /api/notificaciones/{id}/marcar-leida/
        ```
        No requiere cuerpo en la solicitud.
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - notificaciones
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedNotificacion'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedNotificacion'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedNotificacion'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notificacion'
          description: ''
  /api/ordenes-compra/:
    get:
      operationId: ordenes_compra_list
      description: Listar órdenes de compra con filtros adicionales
      summary: Listar órdenes de compra
      parameters:
      - in: query
        name: estado
        schema:
          type: string
          enum:
          - CANCELADA
          - EN PROCESO
          - FINALIZADA
          - PENDIENTE
          - SOLICITUD
        description: Filtrar órdenes por estado específico
        examples:
          SoloSolicitudes:
            value: SOLICITUD
            summary: Solo solicitudes
          SoloPendientes:
            value: PENDIENTE
            summary: Solo pendientes
          SoloEnProceso:
            value: EN PROCESO
            summary: Solo en proceso
          SoloFinalizadas:
            value: FINALIZADA
            summary: Solo finalizadas
          SoloCanceladas:
            value: CANCELADA
            summary: Solo canceladas
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: ordering
        schema:
          type: string
          enum:
          - -created_at
          - -estado
          - -id
          - -total
          - created_at
          - estado
          - id
          - total
        description: Campo por el cual ordenar los resultados. Usar "-" para orden
          descendente
        examples:
          MásRecientesPrimero:
            value: -created_at
            summary: Más recientes primero
          MenorAMayorTotal:
            value: total
            summary: Menor a mayor total
          PorEstadoA-Z:
            value: estado
            summary: Por estado A-Z
      - in: query
        name: page
        schema:
          type: integer
        description: Número de página para paginación
        examples:
          PrimeraPágina:
            value: 1
            summary: Primera página
          SegundaPágina:
            value: 2
            summary: Segunda página
      - in: query
        name: page_size
        schema:
          type: integer
        description: Cantidad de elementos por página (máximo 100)
        examples:
          10Elementos:
            value: 10
            summary: 10 elementos
          25Elementos:
            value: 25
            summary: 25 elementos
          50Elementos:
            value: 50
            summary: 50 elementos
      - in: query
        name: proveedor_id
        schema:
          type: integer
        description: ID del proveedor para filtrar sus órdenes
        examples:
          ProveedorEspecífico:
            value: 123
            summary: Proveedor específico
          OtroProveedor:
            value: 456
            summary: Otro proveedor
      - in: query
        name: proveedor_name
        schema:
          type: string
        description: Búsqueda parcial por nombre del proveedor (insensible a mayúsculas)
        examples:
          PorNombreParcial:
            value: COCA
            summary: Por nombre parcial
          PorEmpresa:
            value: DISTRIBUIDORA
            summary: Por empresa
      - in: query
        name: search
        schema:
          type: string
        description: Búsqueda global en código de orden, nombre del proveedor, código
          del proveedor y nombre del encargado
        examples:
          PorCódigoDeOrden:
            value: ORD-001
            summary: Por código de orden
          PorNombreEncargado:
            value: Juan
            summary: Por nombre encargado
          PorCódigoProveedor:
            value: PROV-123
            summary: Por código proveedor
      tags:
      - Órdenes de Compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOrdenCompraMiniList'
          description: ''
    post:
      operationId: ordenes_compra_create
      description: Crear nueva orden de compra
      tags:
      - ordenes-compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrdenCompra'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrdenCompra'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrdenCompra'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdenCompra'
          description: ''
  /api/ordenes-compra-completa/:
    get:
      operationId: ordenes_compra_completa_list
      description: Obtiene una lista paginada de órdenes de compra con información
        detallada
      summary: Listar órdenes de compra completas
      parameters:
      - in: query
        name: estado
        schema:
          type: string
        description: Filtrar por estado
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - in: query
        name: page
        schema:
          type: integer
        description: Número de página
      - in: query
        name: proveedor_id
        schema:
          type: integer
        description: Filtrar por proveedor
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - Órdenes de Compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedOrdenCompraList'
          description: ''
  /api/ordenes-compra-mini/:
    get:
      operationId: ordenes_compra_mini_list
      description: Listar órdenes de compra mini con filtros
      parameters:
      - in: query
        name: estado
        schema:
          type: string
          enum:
          - CANCELADA
          - EN PROCESO
          - FINALIZADA
          - SOLICITUD
        description: Filtrar órdenes por estado específico
        examples:
          SoloSolicitudes:
            value: SOLICITUD
            summary: Solo solicitudes
          SoloEnProceso:
            value: EN PROCESO
            summary: Solo en proceso
          SoloFinalizadas:
            value: FINALIZADA
            summary: Solo finalizadas
          SoloCanceladas:
            value: CANCELADA
            summary: Solo canceladas
      - in: query
        name: proveedor_id
        schema:
          type: integer
        description: ID del proveedor para filtrar sus órdenes
        examples:
          ProveedorEspecífico:
            value: 123
            summary: Proveedor específico
          OtroProveedor:
            value: 456
            summary: Otro proveedor
      - in: query
        name: search
        schema:
          type: string
        description: Búsqueda en código de orden, nombre del proveedor, código del
          proveedor y nombre del encargado
        examples:
          PorCódigoDeOrden:
            value: ORD-001
            summary: Por código de orden
          PorNombreProveedor:
            value: COCA COLA
            summary: Por nombre proveedor
          PorCódigoProveedor:
            value: PROV-123
            summary: Por código proveedor
          PorNombreEncargado:
            value: Juan
            summary: Por nombre encargado
      tags:
      - Órdenes de Compra - Mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/OrdenCompraMini'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdenCompraMiniListError'
          description: ''
  /api/ordenes-compra/{id}/:
    get:
      operationId: ordenes_compra_retrieve
      description: Obtener una orden de compra específica
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Orden de Compra.
        required: true
      tags:
      - ordenes-compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdenCompra'
          description: ''
    put:
      operationId: ordenes_compra_update
      description: Actualizar orden de compra completa
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Orden de Compra.
        required: true
      tags:
      - ordenes-compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrdenCompra'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OrdenCompra'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OrdenCompra'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdenCompra'
          description: ''
    patch:
      operationId: ordenes_compra_partial_update
      description: ViewSet completo para CRUD de órdenes de compra
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Orden de Compra.
        required: true
      tags:
      - ordenes-compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOrdenCompra'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOrdenCompra'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOrdenCompra'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdenCompra'
          description: ''
    delete:
      operationId: ordenes_compra_destroy
      description: Eliminar orden de compra (soft delete)
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Orden de Compra.
        required: true
      tags:
      - ordenes-compra
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/ordenes-compra/{id}/estado/:
    patch:
      operationId: ordenes_compra_estado_partial_update
      description: Actualizar solo el estado de una orden de compra
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Orden de Compra.
        required: true
      tags:
      - ordenes-compra
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedOrdenCompraEstado'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedOrdenCompraEstado'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedOrdenCompraEstado'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrdenCompraEstado'
          description: ''
  /api/pagos-credito/:
    get:
      operationId: pagos_credito_list
      description: "\n        Lista todos los pagos registrados con opciones de filtrado.\n
        \       \n        **Filtros disponibles (query params):**\n        - `credito`:
        ID del crédito\n        - `metodo_pago`: ID del método de pago\n        -
        `fecha_desde`: Fecha inicio (YYYY-MM-DD)\n        - `fecha_hasta`: Fecha fin
        (YYYY-MM-DD)\n        "
      summary: Listar pagos de crédito
      parameters:
      - in: query
        name: credito
        schema:
          type: integer
        description: ID del crédito
      - in: query
        name: fecha_desde
        schema:
          type: string
          format: date
        description: Fecha desde (YYYY-MM-DD)
      - in: query
        name: fecha_hasta
        schema:
          type: string
          format: date
        description: Fecha hasta (YYYY-MM-DD)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - in: query
        name: metodo_pago
        schema:
          type: integer
        description: ID del método de pago
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      tags:
      - Pagos de Crédito
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPagosCreditoList'
          description: ''
    post:
      operationId: pagos_credito_create
      description: "\n        Registra un nuevo pago para un crédito.\n        \n
        \       **Validaciones:**\n        - El crédito debe existir y no estar liquidado\n
        \       - El monto no puede exceder el adeudo actual\n        - El monto debe
        ser mayor a cero\n        \n        **Nota:** Una vez registrado, el pago
        no puede ser modificado ni eliminado.\n        "
      summary: Registrar pago de crédito
      tags:
      - Pagos de Crédito
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PagoCreditoCreateSingular'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PagoCreditoCreateSingular'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PagoCreditoCreateSingular'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoClienteList'
          description: ''
        '400':
          description: Error de validación
  /api/pagos-credito-proveedor/:
    get:
      operationId: pagos_credito_proveedor_list
      description: Listar pagos con filtros
      summary: Listar pagos de crédito de proveedor
      parameters:
      - in: query
        name: credito
        schema:
          type: integer
      - in: query
        name: fecha_desde
        schema:
          type: string
          format: date
      - in: query
        name: fecha_hasta
        schema:
          type: string
          format: date
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - in: query
        name: metodo_pago
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      tags:
      - Pagos Crédito Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPagosCreditoProveedorList'
          description: ''
    post:
      operationId: pagos_credito_proveedor_create
      description: "\n        Registra un nuevo pago para un crédito de proveedor.\n
        \       \n        **Campos requeridos:**\n        - credito: ID del crédito\n
        \       - cantidad_pagar: Monto que se aplicará al crédito\n        - pagos:
        Array de pagos con diferentes métodos\n        \n        **Validaciones:**\n
        \       - El crédito debe existir y no estar liquidado\n        - cantidad_pagar
        no puede exceder el adeudo\n        - Total de pagos >= cantidad_pagar\n        \n
        \       **NO requiere caja abierta** - Los pagos a proveedores son independientes
        del sistema de caja.\n        "
      summary: Registrar pago de crédito de proveedor
      tags:
      - Pagos Crédito Proveedor
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PagoCreditoProveedorCreateSingular'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PagoCreditoProveedorCreateSingular'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PagoCreditoProveedorCreateSingular'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoProveedorList'
          description: ''
        '400':
          description: Error de validación
  /api/pagos-credito-proveedor/{id}/:
    get:
      operationId: pagos_credito_proveedor_retrieve
      description: ViewSet para gestión de pagos de crédito de proveedor
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este pagos credito proveedor.
        required: true
      tags:
      - pagos-credito-proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagosCreditoProveedor'
          description: ''
  /api/pagos-credito-proveedor/por-proveedor/{proveedor_id}/:
    get:
      operationId: pagos_credito_proveedor_por_proveedor_retrieve
      description: Listar pagos de un proveedor específico
      summary: Pagos por proveedor
      parameters:
      - in: path
        name: proveedor_id
        schema:
          type: string
        required: true
      tags:
      - Pagos Crédito Proveedor
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagosCreditoProveedor'
          description: ''
  /api/pagos-credito-proveedor/registrar-masivo/:
    post:
      operationId: pagos_credito_proveedor_registrar_masivo_create
      description: "\n        Registra pagos a múltiples créditos de proveedor en
        una sola petición.\n        \n        **Características:**\n        - Procesa
        todos los pagos en una transacción atómica\n        - Si algún pago falla,
        se revierten todos los cambios\n        - NO requiere caja abierta\n        -
        Valida duplicados en la lista\n        - Cada pago debe incluir su campo cantidad_pagar\n
        \       \n        **Estructura del request:**\n        ```json\n        {\n
        \           \"lista\": [\n                {\n                    \"credito\":
        1,\n                    \"cantidad_pagar\": 1000.00,\n                    \"pagos\":
        [\n                        {\n                            \"metodo_pago\":
        1,\n                            \"monto\": 500.00\n                        },\n
        \                       {\n                            \"metodo_pago\": 2,\n
        \                           \"monto\": 500.00\n                        }\n
        \                   ]\n                }\n            ]\n        }\n        ```\n
        \       "
      summary: Registrar pagos masivos a proveedores
      tags:
      - Pagos Crédito Proveedor
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PagoCreditoProveedorCreateMasivo'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PagoCreditoProveedorCreateMasivo'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PagoCreditoProveedorCreateMasivo'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          description: Pagos registrados
  /api/pagos-credito/{id}/:
    get:
      operationId: pagos_credito_retrieve
      description: Obtiene el detalle completo de un pago registrado.
      summary: Detalle de pago
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este pagos credito.
        required: true
      tags:
      - Pagos de Crédito
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PagosCredito'
          description: ''
        '404':
          description: Pago no encontrado
  /api/pagos-credito/cancelar-abono/:
    post:
      operationId: pagos_credito_cancelar_abono_create
      description: "\n        Cancela un abono existente de un crédito.\n        \n
        \       **Proceso:**\n        - Elimina el pago y sus transacciones de caja\n
        \       - Revierte el monto pagado en el crédito\n        - Revierte el saldo
        del cliente\n        - Registra una transacción de salida en caja por la cancelación\n
        \       - Si el crédito estaba liquidado, lo reactiva\n        \n        **Nota:**
        Esta operación es atómica, si algo falla se revierten todos los cambios.\n
        \       "
      summary: Cancelar abono de crédito
      tags:
      - Pagos de Crédito
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PagoCreditoCancelar'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PagoCreditoCancelar'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PagoCreditoCancelar'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Abono cancelado exitosamente
        '400':
          description: Error de validación
  /api/pagos-credito/editar-abono/:
    put:
      operationId: pagos_credito_editar_abono_update
      description: "\n        Edita un abono existente de un crédito.\n        \n
        \       **Proceso:**\n        - Elimina el pago anterior y sus transacciones
        de caja\n        - Revierte el monto pagado en el crédito y saldo del cliente\n
        \       - Crea los nuevos pagos con los montos indicados\n        - Registra
        las nuevas transacciones en caja\n        \n        **Nota:** Esta operación
        es atómica, si algo falla se revierten todos los cambios.\n        "
      summary: Editar abono de crédito
      tags:
      - Pagos de Crédito
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PagoCreditoUpdate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PagoCreditoUpdate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PagoCreditoUpdate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreditoClienteList'
          description: ''
        '400':
          description: Error de validación
  /api/pagos-credito/estadisticas/:
    get:
      operationId: pagos_credito_estadisticas_retrieve
      description: Obtiene estadísticas generales de todos los pagos registrados.
      summary: Estadísticas de pagos
      tags:
      - Pagos de Crédito
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Estadísticas de pagos
  /api/pagos-credito/por-cliente/{cliente_id}/:
    get:
      operationId: pagos_credito_por_cliente_list
      description: Lista todos los pagos realizados por un cliente específico.
      summary: Pagos por cliente
      parameters:
      - in: path
        name: cliente_id
        schema:
          type: integer
        description: ID del cliente
        required: true
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      tags:
      - Pagos de Crédito
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPagosCreditoList'
          description: ''
  /api/pagos-credito/por-credito/{credito_id}/:
    get:
      operationId: pagos_credito_por_credito_list
      description: Lista todos los pagos realizados a un crédito específico.
      summary: Pagos por crédito
      parameters:
      - in: path
        name: credito_id
        schema:
          type: integer
        description: ID del crédito
        required: true
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      tags:
      - Pagos de Crédito
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPagosCreditoList'
          description: ''
  /api/pagos-credito/registrar-masivo/:
    post:
      operationId: pagos_credito_registrar_masivo_create
      description: "\n        Registra pagos a múltiples créditos en una sola petición.\n
        \       \n        **Características:**\n        - Procesa todos los pagos
        en una transacción atómica\n        - Si algún pago falla, se revierten todos
        los cambios\n        - Valida que el usuario tenga caja abierta\n        -
        Valida que cada pago no exceda el adeudo del crédito\n        - Registra transacciones
        en la caja del usuario\n        \n        **Estructura del request:**\n        ```json\n
        \       {\n            \"lista\": [\n                {\n                    \"credito\":
        1,\n                    \"pagos\": [\n                        {\n                            \"metodo_pago\":
        1,\n                            \"monto\": 1000.00,\n                            \"referencia\":
        \"REF-001\"\n                        }\n                    ]\n                }\n
        \           ]\n        }\n        ```\n        "
      summary: Registrar pagos masivos
      tags:
      - Pagos de Crédito
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PagoCreditoCreateMasivo'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PagoCreditoCreateMasivo'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PagoCreditoCreateMasivo'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          description: Pagos masivos procesados exitosamente
        '400':
          description: Error de validación
  /api/permisos/:
    get:
      operationId: permisos_list
      description: Obtiene una lista de todos los permisos disponibles en el sistema
      summary: Listar permisos disponibles
      parameters:
      - in: query
        name: app
        schema:
          type: string
        description: 'Filtrar permisos por app (ej: inventario, erp)'
        examples:
          PermisosDeInventario:
            value: inventario
            summary: Permisos de inventario
          PermisosDeERP:
            value: erp
            summary: Permisos de ERP
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - in: query
        name: model
        schema:
          type: string
        description: Filtrar permisos por modelo específico
        examples:
          PermisosDeProductos:
            value: producto
            summary: Permisos de productos
          PermisosDeCompras:
            value: compra
            summary: Permisos de compras
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - Grupos y Permisos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedPermissionList'
          description: ''
  /api/permisos/{id}/:
    get:
      operationId: permisos_retrieve
      description: Obtiene los detalles de un permiso específico
      summary: Obtener detalles del permiso
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este permiso.
        required: true
      tags:
      - Grupos y Permisos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Permission'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
  /api/permisos/grouped/:
    get:
      operationId: permisos_grouped_retrieve
      description: Retorna los permisos agrupados por modelo (content_type.model)
      tags:
      - permisos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Permission'
          description: ''
  /api/piso/:
    get:
      operationId: piso_list
      description: Obtiene una lista de pisos activos, opcionalmente filtrados por
        almacen cedis
      summary: Listar pisos
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacen para filtrar los pisos
      tags:
      - piso
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PisoMini'
          description: ''
    post:
      operationId: piso_create
      tags:
      - piso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PisoMini'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PisoMini'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PisoMini'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PisoMini'
          description: ''
  /api/piso/{id}/:
    get:
      operationId: piso_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este piso.
        required: true
      tags:
      - piso
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PisoMini'
          description: ''
    put:
      operationId: piso_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este piso.
        required: true
      tags:
      - piso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PisoMini'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PisoMini'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PisoMini'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PisoMini'
          description: ''
    patch:
      operationId: piso_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este piso.
        required: true
      tags:
      - piso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedPisoMini'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedPisoMini'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedPisoMini'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PisoMini'
          description: ''
    delete:
      operationId: piso_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este piso.
        required: true
      tags:
      - piso
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/pisos-por-almacen/:
    get:
      operationId: pisos_por_almacen_list
      description: Devuelve una lista de pisos activos filtrados por el id de almacén.
      summary: Detalle interno del CEDIS
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacén
        required: true
      tags:
      - pisos-por-almacen
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Piso'
          description: ''
  /api/producto-inventario/:
    get:
      operationId: producto_inventario_retrieve
      description: Obtiene información detallada del producto incluyendo inventario,
        precios, costos y último precio del último lote
      summary: Detalle del inventario del producto por alamcen
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacén específico (opcional)
      - in: query
        name: producto_id
        schema:
          type: integer
        description: ID del producto
        required: true
      tags:
      - producto-inventario
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoInventarioAlamcen'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductoNotFound'
          description: ''
  /api/productos/:
    get:
      operationId: productos_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - productos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedProductoList'
          description: ''
    post:
      operationId: productos_create
      tags:
      - productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Producto'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Producto'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Producto'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Producto'
          description: ''
  /api/productos-mini/:
    get:
      operationId: productos_mini_list
      description: Lista productos con precio personalizado según cliente y stock
        según almacén
      summary: productos
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: ID del almacén para obtener inventario específico
      - in: query
        name: cliente_id
        schema:
          type: integer
        description: ID del cliente para calcular precio personalizado según tipo
      - in: query
        name: is_compras
        schema:
          type: boolean
        description: Indica si se está en el contexto de compras para ajustar la búsqueda
          del precio
      - in: query
        name: search
        schema:
          type: string
        description: Buscar por nombre, código o ID
      tags:
      - productos-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductoMini'
          description: ''
  /api/productos-solicitud/:
    get:
      operationId: productos_solicitud_list
      description: Obtiene una lista paginada de todas las solicitudes de productos
        con filtros avanzados
      summary: Listar solicitudes de productos
      parameters:
      - in: query
        name: almacen
        schema:
          type: integer
        description: Filtrar por ID del almacén
      - in: query
        name: fase
        schema:
          type: string
          enum:
          - ATENDIDO
          - CANCELADO
          - SOLICITUD
        description: Filtrar por fase de la solicitud
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - in: query
        name: motivo
        schema:
          type: string
          enum:
          - BAJA EXISTENCIA
          - PREVENTA INCOMPLETA
        description: Filtrar por motivo de la solicitud
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - in: query
        name: producto
        schema:
          type: integer
        description: Filtrar por ID del producto solicitado
      - in: query
        name: search
        schema:
          type: string
        description: Buscar en nombre del producto o código
      tags:
      - Solicitudes de Productos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedProductosSolicitudMiniList'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
    post:
      operationId: productos_solicitud_create
      description: Crea una nueva solicitud de producto.
      summary: Crear nueva solicitud de producto
      tags:
      - Solicitudes de Productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductosSolicitud'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ProductosSolicitud'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ProductosSolicitud'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductosSolicitud'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
  /api/productos-solicitud/{id}/:
    get:
      operationId: productos_solicitud_retrieve
      description: Obtiene los detalles completos de una solicitud específica
      summary: Obtener detalles de solicitud
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Producto en Solicitud.
        required: true
      tags:
      - Solicitudes de Productos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductosSolicitud'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
    put:
      operationId: productos_solicitud_update
      description: Actualiza todos los campos de una solicitud existente
      summary: Actualizar solicitud completa
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Producto en Solicitud.
        required: true
      tags:
      - Solicitudes de Productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ProductosSolicitud'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ProductosSolicitud'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ProductosSolicitud'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductosSolicitud'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
    patch:
      operationId: productos_solicitud_partial_update
      description: Actualiza campos específicos de una solicitud existente
      summary: Actualizar solicitud parcial
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Producto en Solicitud.
        required: true
      tags:
      - Solicitudes de Productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProductosSolicitud'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProductosSolicitud'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProductosSolicitud'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductosSolicitud'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
    delete:
      operationId: productos_solicitud_destroy
      description: Elimina una solicitud de producto del sistema
      summary: Eliminar solicitud
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Producto en Solicitud.
        required: true
      tags:
      - Solicitudes de Productos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
  /api/productos-solicitud/{id}/cambiar_fase/:
    patch:
      operationId: productos_solicitud_cambiar_fase_partial_update
      description: Cambia la fase de una solicitud específica
      summary: Cambiar fase de solicitud
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Producto en Solicitud.
        required: true
      tags:
      - Solicitudes de Productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCambiarFaseRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCambiarFaseRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCambiarFaseRequest'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductosSolicitud'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
          description: ''
  /api/productos-solicitud/cambiar-fase-masivo/:
    patch:
      operationId: productos_solicitud_cambiar_fase_masivo_partial_update
      description: Cambia la fase de múltiples solicitudes de forma masiva. Acepta
        un array de IDs o un array de objetos con ID.
      summary: Cambiar fase de múltiples solicitudes
      tags:
      - Solicitudes de Productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedCambiarFaseMasivoRequest'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedCambiarFaseMasivoRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedCambiarFaseMasivoRequest'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CambiarFaseMasivoResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ValidationError'
          description: ''
  /api/productos/{id}/:
    get:
      operationId: productos_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este producto.
        required: true
      tags:
      - productos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Producto'
          description: ''
    put:
      operationId: productos_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este producto.
        required: true
      tags:
      - productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Producto'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Producto'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Producto'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Producto'
          description: ''
    patch:
      operationId: productos_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este producto.
        required: true
      tags:
      - productos
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProducto'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProducto'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProducto'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Producto'
          description: ''
    delete:
      operationId: productos_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este producto.
        required: true
      tags:
      - productos
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/proveedores/:
    get:
      operationId: proveedores_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - proveedores
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedProveedorList'
          description: ''
    post:
      operationId: proveedores_create
      tags:
      - proveedores
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Proveedor'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Proveedor'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Proveedor'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Proveedor'
          description: ''
  /api/proveedores-mini/:
    get:
      operationId: proveedores_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - proveedores-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProveedorMini'
          description: ''
  /api/proveedores/{id}/:
    get:
      operationId: proveedores_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Proveedor.
        required: true
      tags:
      - proveedores
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Proveedor'
          description: ''
    put:
      operationId: proveedores_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Proveedor.
        required: true
      tags:
      - proveedores
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Proveedor'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Proveedor'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Proveedor'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Proveedor'
          description: ''
    patch:
      operationId: proveedores_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Proveedor.
        required: true
      tags:
      - proveedores
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedProveedor'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedProveedor'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedProveedor'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Proveedor'
          description: ''
    delete:
      operationId: proveedores_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Proveedor.
        required: true
      tags:
      - proveedores
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/proveedores/{id}/info-credito/:
    get:
      operationId: proveedores_info_credito_retrieve
      description: |-
        Obtener información del cliente para créditos

        GET /api/proveedores/{id}/info-credito/
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Proveedor.
        required: true
      tags:
      - proveedores
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Proveedor'
          description: ''
  /api/rack/:
    get:
      operationId: rack_list
      description: Obtiene una lista de racks activos, opcionalmente filtrados por
        piso
      summary: Listar racks
      parameters:
      - in: query
        name: zona_id
        schema:
          type: integer
        description: ID de la zona para filtrar los racks
      tags:
      - rack
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Rack'
          description: ''
    post:
      operationId: rack_create
      tags:
      - rack
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Rack'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Rack'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Rack'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rack'
          description: ''
  /api/rack/{id}/:
    get:
      operationId: rack_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este rack.
        required: true
      tags:
      - rack
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rack'
          description: ''
    put:
      operationId: rack_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este rack.
        required: true
      tags:
      - rack
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Rack'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Rack'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Rack'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rack'
          description: ''
    patch:
      operationId: rack_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este rack.
        required: true
      tags:
      - rack
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedRack'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedRack'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedRack'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rack'
          description: ''
    delete:
      operationId: rack_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este rack.
        required: true
      tags:
      - rack
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/reparto/entrega-producto/:
    post:
      operationId: reparto_entrega_producto_create
      description: Registra la entrega de productos de una venta/preventa durante
        el reparto en ruta
      summary: Registrar entrega de productos en ruta
      tags:
      - Reparto
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EntragaProductoRuta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/EntragaProductoRuta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/EntragaProductoRuta'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EntregaProductoResponse'
          description: ''
        '400':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
        '404':
          content:
            application/json:
              schema:
                type: object
                additionalProperties: {}
                description: Unspecified response body
          description: ''
  /api/rutas/:
    get:
      operationId: rutas_list
      description: Listar rutas con filtros opcionales
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - rutas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedRutasList'
          description: ''
    post:
      operationId: rutas_create
      description: Crear nueva ruta (el almacén se crea automáticamente)
      tags:
      - rutas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Rutas'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Rutas'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Rutas'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rutas'
          description: ''
  /api/rutas-mini/:
    get:
      operationId: rutas_mini_list
      description: Listar rutas básicas con filtros
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - rutas-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RutasMini'
          description: ''
  /api/rutas/{id}/:
    get:
      operationId: rutas_retrieve
      description: Obtener una ruta específica por ID
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Ruta de Entrega.
        required: true
      tags:
      - rutas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rutas'
          description: ''
    put:
      operationId: rutas_update
      description: Actualizar ruta (parcial o completa)
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Ruta de Entrega.
        required: true
      tags:
      - rutas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Rutas'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Rutas'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Rutas'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rutas'
          description: ''
    patch:
      operationId: rutas_partial_update
      description: ViewSet completo para CRUD de rutas
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Ruta de Entrega.
        required: true
      tags:
      - rutas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedRutas'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedRutas'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedRutas'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Rutas'
          description: ''
    delete:
      operationId: rutas_destroy
      description: Eliminación lógica de ruta
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Ruta de Entrega.
        required: true
      tags:
      - rutas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/schema/:
    get:
      operationId: schema_retrieve
      description: |-
        OpenApi3 schema for this API. Format can be selected via content negotiation.

        - YAML: application/vnd.oai.openapi
        - JSON: application/vnd.oai.openapi+json
      parameters:
      - in: query
        name: format
        schema:
          type: string
          enum:
          - json
          - yaml
      - in: query
        name: lang
        schema:
          type: string
          enum:
          - af
          - ar
          - ar-dz
          - ast
          - az
          - be
          - bg
          - bn
          - br
          - bs
          - ca
          - ckb
          - cs
          - cy
          - da
          - de
          - dsb
          - el
          - en
          - en-au
          - en-gb
          - eo
          - es
          - es-ar
          - es-co
          - es-mx
          - es-ni
          - es-ve
          - et
          - eu
          - fa
          - fi
          - fr
          - fy
          - ga
          - gd
          - gl
          - he
          - hi
          - hr
          - hsb
          - hu
          - hy
          - ia
          - id
          - ig
          - io
          - is
          - it
          - ja
          - ka
          - kab
          - kk
          - km
          - kn
          - ko
          - ky
          - lb
          - lt
          - lv
          - mk
          - ml
          - mn
          - mr
          - ms
          - my
          - nb
          - ne
          - nl
          - nn
          - os
          - pa
          - pl
          - pt
          - pt-br
          - ro
          - ru
          - sk
          - sl
          - sq
          - sr
          - sr-latn
          - sv
          - sw
          - ta
          - te
          - tg
          - th
          - tk
          - tr
          - tt
          - udm
          - ug
          - uk
          - ur
          - uz
          - vi
          - zh-hans
          - zh-hant
      tags:
      - schema
      security:
      - cookieAuth: []
      - jwtAuth: []
      - {}
      responses:
        '200':
          content:
            application/vnd.oai.openapi:
              schema:
                type: object
                additionalProperties: {}
            application/yaml:
              schema:
                type: object
                additionalProperties: {}
            application/vnd.oai.openapi+json:
              schema:
                type: object
                additionalProperties: {}
            application/json:
              schema:
                type: object
                additionalProperties: {}
          description: ''
  /api/solicitudes-traspaso/:
    get:
      operationId: solicitudes_traspaso_list
      description: "\n        Lista todas las solicitudes de traspaso con información
        resumida.\n        \n        **Filtros disponibles:**\n        - `estado`:
        PENDIENTE, APROBADO, RECHAZADO\n        - `almacen_solicitante`: ID del almacén
        solicitante\n        - `almacen_surtidor`: ID del almacén surtidor\n        \n
        \       **Ejemplos:**\n        - `?estado=PENDIENTE` - Solo solicitudes pendientes\n
        \       - `?almacen_solicitante=5` - Solicitudes del almacén 5\n        "
      summary: Listar solicitudes de traspaso
      parameters:
      - in: query
        name: almacen_solicitante
        schema:
          type: integer
        description: Filtrar por almacén solicitante
      - in: query
        name: almacen_surtidor
        schema:
          type: integer
        description: Filtrar por almacén surtidor
      - in: query
        name: estado
        schema:
          type: string
        description: Filtrar por estado
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      tags:
      - Solicitudes de Traspaso
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSolicitudTraspasoListList'
          description: ''
    post:
      operationId: solicitudes_traspaso_create
      description: "\n        Crea una nueva solicitud de traspaso con sus productos.\n
        \       \n        **Validaciones:**\n        - Almacén solicitante y surtidor
        deben ser diferentes\n        - Debe incluir al menos un producto\n        -
        No puede haber productos duplicados\n        - Cantidades deben ser mayores
        a 0\n        \n        La solicitud se crea en estado PENDIENTE.\n        "
      summary: Crear solicitud de traspaso
      tags:
      - Solicitudes de Traspaso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          description: ''
  /api/solicitudes-traspaso/{id}/:
    get:
      operationId: solicitudes_traspaso_retrieve
      description: Obtiene el detalle completo de una solicitud de traspaso incluyendo
        todos sus productos.
      summary: Ver detalle de solicitud
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este solicitud traspaso.
        required: true
      tags:
      - Solicitudes de Traspaso
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SolicitudTraspasoDetail'
          description: ''
    put:
      operationId: solicitudes_traspaso_update
      description: "\n        Actualiza una solicitud de traspaso completa.\n        \n
        \       **Importante:**\n        - Solo se pueden actualizar solicitudes en
        estado PENDIENTE\n        - Se reemplazan todos los productos por los nuevos
        proporcionados\n        "
      summary: Actualizar solicitud de traspaso
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este solicitud traspaso.
        required: true
      tags:
      - Solicitudes de Traspaso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          description: ''
    patch:
      operationId: solicitudes_traspaso_partial_update
      description: Actualiza uno o más campos de la solicitud. Solo disponible para
        solicitudes PENDIENTES.
      summary: Actualizar parcialmente solicitud
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este solicitud traspaso.
        required: true
      tags:
      - Solicitudes de Traspaso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSolicitudTraspasoCreateUpdate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSolicitudTraspasoCreateUpdate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSolicitudTraspasoCreateUpdate'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SolicitudTraspasoCreateUpdate'
          description: ''
  /api/solicitudes-traspaso/{id}/aprobar/:
    post:
      operationId: solicitudes_traspaso_aprobar_create
      description: "\n        Aprueba una solicitud de traspaso que está en estado
        PENDIENTE.\n        \n        **Proceso:**\n        1. Valida que la solicitud
        esté PENDIENTE\n        2. Cambia el estado a APROBADO\n        3. Registra
        quién aprobó y cuándo\n        4. El movimiento de inventario se creará posteriormente
        (por implementar)\n        \n        **Parámetros opcionales:**\n        -
        `nota`: Justificación de la aprobación\n        "
      summary: Aprobar solicitud de traspaso
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este solicitud traspaso.
        required: true
      tags:
      - Solicitudes de Traspaso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AprobarRechazarSolicitud'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AprobarRechazarSolicitud'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AprobarRechazarSolicitud'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Solicitud aprobada exitosamente
        '400':
          description: No se puede aprobar (ya no está PENDIENTE)
        '404':
          description: Solicitud no encontrada
  /api/solicitudes-traspaso/{id}/rechazar/:
    post:
      operationId: solicitudes_traspaso_rechazar_create
      description: "\n        Rechaza una solicitud de traspaso que está en estado
        PENDIENTE.\n        \n        **Proceso:**\n        1. Valida que la solicitud
        esté PENDIENTE\n        2. Cambia el estado a RECHAZADO\n        3. Registra
        quién rechazó y cuándo\n        \n        **Parámetros opcionales:**\n        -
        `nota`: Justificación del rechazo\n        "
      summary: Rechazar solicitud de traspaso
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este solicitud traspaso.
        required: true
      tags:
      - Solicitudes de Traspaso
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AprobarRechazarSolicitud'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AprobarRechazarSolicitud'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AprobarRechazarSolicitud'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          description: Solicitud rechazada exitosamente
        '400':
          description: No se puede rechazar (ya no está PENDIENTE)
        '404':
          description: Solicitud no encontrada
  /api/sucursales/:
    get:
      operationId: sucursales_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - sucursales
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedSucursalList'
          description: ''
    post:
      operationId: sucursales_create
      tags:
      - sucursales
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Sucursal'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Sucursal'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Sucursal'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sucursal'
          description: ''
  /api/sucursales-mini/:
    get:
      operationId: sucursales_mini_list
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - sucursales-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SucursalMini'
          description: ''
  /api/sucursales/{id}/:
    get:
      operationId: sucursales_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Sucursal.
        required: true
      tags:
      - sucursales
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sucursal'
          description: ''
    put:
      operationId: sucursales_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Sucursal.
        required: true
      tags:
      - sucursales
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Sucursal'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Sucursal'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Sucursal'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sucursal'
          description: ''
    patch:
      operationId: sucursales_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Sucursal.
        required: true
      tags:
      - sucursales
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedSucursal'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedSucursal'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedSucursal'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Sucursal'
          description: ''
    delete:
      operationId: sucursales_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Sucursal.
        required: true
      tags:
      - sucursales
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/token/:
    post:
      operationId: token_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MyTokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MyTokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MyTokenObtainPair'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MyTokenObtainPair'
          description: ''
  /api/token/refresh/:
    post:
      operationId: token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/token/verify/:
    post:
      operationId: token_verify_create
      description: |-
        Takes a token and indicates if it is valid.  This view provides no
        information about a token's fitness for a particular use.
      tags:
      - token
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenVerify'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenVerify'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenVerify'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenVerify'
          description: ''
  /api/transacciones-caja/:
    get:
      operationId: transacciones_caja_list
      description: "\n        Obtiene una lista de transacciones de caja con filtros
        opcionales.\n        \n        **Filtros disponibles:**\n        - `apertura_id`:
        ID de la apertura de caja (recomendado)\n        - `tipo`: Tipo de transacción
        (ENTRADA o SALIDA)\n        - `metodo_pago`: ID del método de pago\n        \n
        \       **Respuesta incluye:**\n        - Lista de transacciones ordenadas
        por fecha (más recientes primero)\n        - Información del método de pago\n
        \       - Detalles de la apertura de caja\n        "
      summary: Listar transacciones de caja
      parameters:
      - in: query
        name: apertura_id
        schema:
          type: integer
        description: ID de la apertura de caja para filtrar transacciones
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - in: query
        name: metodo_pago
        schema:
          type: integer
        description: ID del método de pago
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: tipo
        schema:
          type: string
          enum:
          - ENTRADA
          - SALIDA
        description: Tipo de transacción
      tags:
      - Cajas - Transacciones
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedMovimientoCajaTransaccionList'
          description: ''
  /api/transformaciones/:
    get:
      operationId: transformaciones_list
      description: Listar todas las transformaciones con paginación y filtros.
      parameters:
      - in: query
        name: almacen_id
        schema:
          type: integer
        description: Filtrar por ID del almacén
      - in: query
        name: almacen_nombre
        schema:
          type: string
        description: Filtrar por nombre del almacén (búsqueda parcial)
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: tipo
        schema:
          type: string
        description: Filtrar por tipo de transformación (TRANSFORMACION o MERMA)
      tags:
      - transformaciones
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedTransformacionListList'
          description: ''
    post:
      operationId: transformaciones_create
      description: Crear una nueva transformación o merma en el inventario.
      tags:
      - transformaciones
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TransformacionCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TransformacionCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TransformacionCreate'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          description: Transformación creada exitosamente.
        '400':
          description: Error en los datos proporcionados.
  /api/transformaciones/{id}/:
    get:
      operationId: transformaciones_retrieve
      description: Obtener el detalle completo de una transformación con sus movimientos
        y productos.
      parameters:
      - in: path
        name: id
        schema:
          type: string
        required: true
      tags:
      - transformaciones
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransformacionDetail'
          description: ''
        '404':
          description: Transformación no encontrada.
  /api/unidades-vehiculares/:
    get:
      operationId: unidades_vehiculares_list
      description: Lista todas las unidades vehiculares con filtros avanzados
      parameters:
      - in: query
        name: anio
        schema:
          type: integer
        description: Filtrar por año del vehículo
      - in: query
        name: capacidad_max
        schema:
          type: number
        description: Filtrar por capacidad máxima en toneladas
      - in: query
        name: capacidad_min
        schema:
          type: number
        description: Filtrar por capacidad mínima en toneladas
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - in: query
        name: marca
        schema:
          type: string
        description: Filtrar por marca del vehículo
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: ordering
        required: false
        in: query
        description: Qué campo usar para ordenar los resultados.
        schema:
          type: string
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      - in: query
        name: tipo
        schema:
          type: string
          enum:
          - CAMIONETA
          - CAMIÓN
          - OTRO
          - TRÁILER
        description: Filtrar por tipo de vehículo
      tags:
      - unidades-vehiculares
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUnidadVehicularList'
          description: ''
    post:
      operationId: unidades_vehiculares_create
      description: ViewSet completo para CRUD de unidades vehiculares
      tags:
      - unidades-vehiculares
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnidadVehicular'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UnidadVehicular'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UnidadVehicular'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnidadVehicular'
          description: ''
  /api/unidades-vehiculares-mini/:
    get:
      operationId: unidades_vehiculares_mini_list
      description: Lista básica de unidades vehiculares
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      - in: query
        name: tipo
        schema:
          type: string
          enum:
          - CAMIONETA
          - CAMIÓN
          - OTRO
          - TRÁILER
        description: Filtrar por tipo de vehículo
      tags:
      - unidades-vehiculares-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UnidadVehicularMini'
          description: ''
  /api/unidades-vehiculares/{id}/:
    get:
      operationId: unidades_vehiculares_retrieve
      description: ViewSet completo para CRUD de unidades vehiculares
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Unidad Vehicular.
        required: true
      tags:
      - unidades-vehiculares
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnidadVehicular'
          description: ''
    put:
      operationId: unidades_vehiculares_update
      description: ViewSet completo para CRUD de unidades vehiculares
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Unidad Vehicular.
        required: true
      tags:
      - unidades-vehiculares
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UnidadVehicular'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/UnidadVehicular'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/UnidadVehicular'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnidadVehicular'
          description: ''
    patch:
      operationId: unidades_vehiculares_partial_update
      description: ViewSet completo para CRUD de unidades vehiculares
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Unidad Vehicular.
        required: true
      tags:
      - unidades-vehiculares
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUnidadVehicular'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUnidadVehicular'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUnidadVehicular'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnidadVehicular'
          description: ''
    delete:
      operationId: unidades_vehiculares_destroy
      description: ViewSet completo para CRUD de unidades vehiculares
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Unidad Vehicular.
        required: true
      tags:
      - unidades-vehiculares
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/unidades-vehiculares/tipos-disponibles/:
    get:
      operationId: unidades_vehiculares_tipos_disponibles_retrieve
      description: Obtiene los tipos de vehículos disponibles
      tags:
      - unidades-vehiculares
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UnidadVehicular'
          description: ''
  /api/usuarios/:
    get:
      operationId: usuarios_list
      parameters:
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - usuarios
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedUsuarioListList'
          description: ''
    post:
      operationId: usuarios_create
      tags:
      - usuarios
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Usuario'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Usuario'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Usuario'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
          description: ''
  /api/usuarios-mini/:
    get:
      operationId: usuarios_mini_list
      parameters:
      - in: query
        name: role
        schema:
          type: string
        description: Filtra usuarios que pertenezcan al grupo especificado
      - in: query
        name: search
        schema:
          type: string
        description: 'Buscar usuarios por campos mínimos (ej: nombre, username, email)'
      tags:
      - usuarios-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UsuarioMini'
          description: ''
  /api/usuarios/{id}/:
    get:
      operationId: usuarios_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este usuario.
        required: true
      tags:
      - usuarios
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
          description: ''
    put:
      operationId: usuarios_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este usuario.
        required: true
      tags:
      - usuarios
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Usuario'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Usuario'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Usuario'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
          description: ''
    patch:
      operationId: usuarios_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este usuario.
        required: true
      tags:
      - usuarios
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedUsuario'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedUsuario'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedUsuario'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Usuario'
          description: ''
    delete:
      operationId: usuarios_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este usuario.
        required: true
      tags:
      - usuarios
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/ventas/:
    get:
      operationId: ventas_list
      description: Obtiene una lista de ventas con filtros opcionales
      parameters:
      - in: query
        name: cliente
        schema:
          type: integer
        description: ID del cliente para filtrar sus ventas
        examples:
          ClienteEspecífico:
            value: 123
            summary: Cliente específico
      - in: query
        name: fase
        schema:
          type: string
          enum:
          - CANCELADA
          - EN_PROCESO
          - PRE_VENTA
        description: Filtrar por fase de la venta
        examples:
          SoloPreventas:
            value: PRE_VENTA
            summary: Solo preventas
          SoloTerminadas:
            value: TERMINADA
            summary: Solo terminadas
      - in: query
        name: fecha_desde
        schema:
          type: string
          format: date
        description: 'Filtrar ventas desde esta fecha (formato: YYYY-MM-DD)'
        examples:
          Desde1Enero2024:
            value: '2024-01-01'
            summary: Desde 1 enero 2024
      - in: query
        name: fecha_hasta
        schema:
          type: string
          format: date
        description: 'Filtrar ventas hasta esta fecha (formato: YYYY-MM-DD)'
        examples:
          HastaHoy:
            value: '2024-12-31'
            summary: Hasta hoy
      - name: limit
        required: false
        in: query
        description: Número de resultados a devolver por página.
        schema:
          type: integer
      - name: offset
        required: false
        in: query
        description: El índice inicial a partir del cual devolver los resultados.
        schema:
          type: integer
      - in: query
        name: ordering
        schema:
          type: string
          enum:
          - -created_at
          - -fase
          - -total
          - created_at
          - fase
          - total
        description: Ordenar resultados por campo específico. Usar "-" para orden
          descendente
        examples:
          MásRecientesPrimero:
            value: -created_at
            summary: Más recientes primero
          MenorAMayorMonto:
            value: total
            summary: Menor a mayor monto
      - in: query
        name: preventa
        schema:
          type: string
        description: 'Filtrar por ventas que fueron preventa. Valores: "true", "1",
          "false", "0"'
        examples:
          SoloPreventas:
            value: 'true'
            summary: Solo preventas
          ExcluirPreventas:
            value: 'false'
            summary: Excluir preventas
      - in: query
        name: ruta
        schema:
          type: integer
        description: ID de la ruta para filtrar ventas de esa ruta
        examples:
          RutaEspecífica:
            value: 5
            summary: Ruta específica
      - in: query
        name: search
        schema:
          type: string
        description: Búsqueda por código de venta, nombre de cliente, razón social
          o nombre de ruta
        examples:
          PorCódigo:
            value: VNT-001
            summary: Por código
          PorCliente:
            value: Juan Pérez
            summary: Por cliente
      tags:
      - ventas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedVentaMiniList'
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VentasListError'
          description: ''
    post:
      operationId: ventas_create
      description: Crear nueva venta con detalles
      tags:
      - ventas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Venta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Venta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Venta'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Venta'
          description: ''
  /api/ventas-mini/:
    get:
      operationId: ventas_mini_list
      description: Listar ventas básicas con filtros
      parameters:
      - name: search
        required: false
        in: query
        description: Un término de búsqueda.
        schema:
          type: string
      tags:
      - ventas-mini
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/VentaMini'
          description: ''
  /api/ventas/{id}/:
    get:
      operationId: ventas_retrieve
      description: Obtener una venta específica por ID con todos sus detalles y lotes
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Venta.
        required: true
      tags:
      - ventas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Venta'
          description: ''
    put:
      operationId: ventas_update
      description: Actualizar venta (solo campos básicos, no detalles)
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Venta.
        required: true
      tags:
      - ventas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Venta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Venta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Venta'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Venta'
          description: ''
    patch:
      operationId: ventas_partial_update
      description: ViewSet completo para CRUD de ventas con control de lotes
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Venta.
        required: true
      tags:
      - ventas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedVenta'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedVenta'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedVenta'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Venta'
          description: ''
    delete:
      operationId: ventas_destroy
      description: Eliminación lógica de venta
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Venta.
        required: true
      tags:
      - ventas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
  /api/ventas/{id}/cancelar/:
    post:
      operationId: ventas_cancelar_create
      description: "\n        Cancela una venta existente cambiando su fase a CANCELADA.\n
        \       \n        **Validaciones:**\n        - La venta no debe estar ya cancelada\n
        \       - Solo ventas en fases válidas pueden ser canceladas\n        \n        **Efectos:**\n
        \       - Cambia la fase de la venta a CANCELADA\n        - Puede revertir
        cambios en inventario (según lógica implementada)\n        - Puede generar
        notificaciones o registros adicionales\n        \n        **Nota:** Esta operación
        puede desencadenar signals que reviertan el inventario automáticamente.\n
        \       "
      summary: Cancelar venta
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Venta.
        required: true
      tags:
      - ventas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelarVentaSuccess'
              examples:
                CancelaciónExitosa:
                  value:
                    detail: Venta cancelada correctamente
                    venta:
                      id: 123
                      codigo: VNT-001
                      fase: CANCELADA
                      total: '1500.00'
                  summary: Cancelación exitosa
          description: ''
        '400':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelarVentaError'
              examples:
                VentaYaCancelada:
                  value:
                    detail: La venta ya está cancelada.
                  summary: Venta ya cancelada
          description: ''
        '404':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VentaNotFound'
          description: ''
  /api/ventas/{id}/fase/:
    patch:
      operationId: ventas_fase_partial_update
      description: Cambiar la fase de una venta (PRE_VENTA → EN_PROCESO → TERMINADA)
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este Venta.
        required: true
      tags:
      - ventas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedVentaEstado'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedVentaEstado'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedVentaEstado'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VentaEstado'
          description: ''
  /api/ventas/cancelar-masivo/:
    post:
      operationId: ventas_cancelar_masivo_create
      description: "\n        Cancela múltiples ventas en una sola operación cambiando
        su fase a CANCELADA.\n        \n        **Proceso:**\n        1. Recibe un
        array de IDs de ventas\n        2. Procesa cada venta individualmente\n        3.
        Valida que no esté ya cancelada\n        4. Cambia la fase a CANCELADA\n        5.
        Retorna el resultado de cada operación\n        \n        **Validaciones por
        venta:**\n        - La venta debe existir\n        - No debe estar ya cancelada\n
        \       \n        **Efectos:**\n        - Cambia la fase de cada venta a CANCELADA\n
        \       - Puede revertir cambios en inventario (según signals configurados)\n
        \       - Procesa todas las ventas independientemente (no transaccional)\n
        \       \n        **Nota:** \n        - Si una venta falla, las demás continúan
        procesándose\n        - Cada resultado indica el estado individual de cada
        venta\n        - Esta operación puede desencadenar signals que reviertan el
        inventario automáticamente\n        "
      summary: Cancelar ventas masivamente
      tags:
      - Ventas
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CancelarVentasMasivoRequest'
            examples:
              RequestEjemplo:
                value:
                  ventas:
                  - 123
                  - 124
                  - 125
                summary: Request ejemplo
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CancelarVentasMasivoRequest'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CancelarVentasMasivoRequest'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CancelarVentasMasivoResponse'
              examples:
                ResponseExitosoMixto:
                  value:
                  - venta_id: 123
                    status: success
                    detail: Venta cancelada correctamente.
                  - venta_id: 124
                    status: error
                    detail: La venta ya está cancelada.
                  - venta_id: 125
                    status: error
                    detail: Venta no encontrada.
                  summary: Response exitoso mixto
                ResponseTodoExitoso:
                  value:
                  - venta_id: 123
                    status: success
                    detail: Venta cancelada correctamente.
                  - venta_id: 124
                    status: success
                    detail: Venta cancelada correctamente.
                  - venta_id: 125
                    status: success
                    detail: Venta cancelada correctamente.
                  summary: Response todo exitoso
          description: ''
  /api/ventas/estadisticas/:
    get:
      operationId: ventas_estadisticas_retrieve
      description: Obtener estadísticas generales de ventas
      tags:
      - ventas
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/VentasEstadisticas'
          description: ''
  /api/zona/:
    get:
      operationId: zona_list
      description: Obtiene una lista de zonas activas, opcionalmente filtradas por
        piso
      summary: Listar zonas
      parameters:
      - in: query
        name: piso_id
        schema:
          type: integer
        description: ID del piso para filtrar las zonas
      tags:
      - zona
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Zona'
          description: ''
    post:
      operationId: zona_create
      tags:
      - zona
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Zona'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Zona'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Zona'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Zona'
          description: ''
  /api/zona/{id}/:
    get:
      operationId: zona_retrieve
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este zona.
        required: true
      tags:
      - zona
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Zona'
          description: ''
    put:
      operationId: zona_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este zona.
        required: true
      tags:
      - zona
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Zona'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Zona'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Zona'
        required: true
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Zona'
          description: ''
    patch:
      operationId: zona_partial_update
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este zona.
        required: true
      tags:
      - zona
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchedZona'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedZona'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedZona'
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Zona'
          description: ''
    delete:
      operationId: zona_destroy
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: Un valor de entero único que identifique este zona.
        required: true
      tags:
      - zona
      security:
      - cookieAuth: []
      - jwtAuth: []
      responses:
        '204':
          description: No response body
components:
  schemas:
    AbastecimientoErrorResponse:
      type: object
      description: Serializer para respuestas de error
      properties:
        success:
          type: boolean
          default: false
          description: Indica que la operación falló
        message:
          type: string
          description: Mensaje descriptivo del error
        errors:
          type: object
          additionalProperties:
            type: string
          description: Detalles específicos del error
      required:
      - errors
      - message
    AbastecimientoItem:
      type: object
      description: Serializer para un item individual en el abastecimiento
      properties:
        producto:
          type: integer
          description: ID del producto a abastecer
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          description: Cantidad a abastecer (debe ser mayor a 0)
        ubicacion_rack:
          type: integer
          nullable: true
          description: ID del rack donde se ubicará el producto, esto sera obligatorio
            para almacenes tipo CEDIS
      required:
      - cantidad
      - producto
    AbastecimientoResponse:
      type: object
      description: Serializer completo para la respuesta exitosa del abastecimiento
      properties:
        movimiento_principal:
          allOf:
          - $ref: '#/components/schemas/MovimientoPrincipalResponse'
          description: Información del movimiento principal creado
        compra:
          allOf:
          - $ref: '#/components/schemas/CompraResponse'
          nullable: true
          description: Información de la compra relacionada
        almacen_destino:
          allOf:
          - $ref: '#/components/schemas/AlmacenDestinoResponse'
          description: Información del almacén destino
        resumen:
          allOf:
          - $ref: '#/components/schemas/ResumenAbastecimiento'
          description: Resumen estadístico del abastecimiento
        productos_abastecidos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoAbastecido'
          description: Lista detallada de productos abastecidos
        metadatos:
          allOf:
          - $ref: '#/components/schemas/MetadatosAbastecimiento'
          description: Metadatos del proceso de abastecimiento
      required:
      - almacen_destino
      - compra
      - metadatos
      - movimiento_principal
      - productos_abastecidos
      - resumen
    AbastecimientoSuccessResponse:
      type: object
      description: Serializer para la respuesta completa de éxito
      properties:
        success:
          type: boolean
          default: true
          description: Indica si la operación fue exitosa
        message:
          type: string
          default: Abastecimiento realizado exitosamente
          description: Mensaje descriptivo del resultado
        data:
          allOf:
          - $ref: '#/components/schemas/AbastecimientoResponse'
          description: Datos detallados del abastecimiento realizado
      required:
      - data
    Almacen:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        codigo:
          type: string
          readOnly: true
          description: Código del almacén
          maxLength: 10
          minLength: 5
        encargado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
        encargado:
          type: integer
          nullable: true
          description: 'ID del encargado del almacén o diccionario {''id'': <pk>}'
        empresa:
          type: integer
          nullable: true
          description: 'ID de la empresa o diccionario {''id'': <pk>}'
        empresa_obj:
          allOf:
          - $ref: '#/components/schemas/EmpresaMini'
          readOnly: true
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionAlmacen'
          nullable: true
          description: Dirección del almacén
        direccion_obj:
          allOf:
          - $ref: '#/components/schemas/DireccionAlmacenObj'
          readOnly: true
          description: Objeto de dirección del almacén
        tipo:
          type: string
          readOnly: true
        nombre:
          type: string
          maxLength: 200
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        comentarios:
          type: string
          nullable: true
        info_extra:
          type: string
          nullable: true
          title: Información Extra
        is_cedis:
          type: boolean
          title: Es CEDIS
        is_ruta_fijo:
          type: boolean
          title: Es Ruta Fijo
        pertence:
          type: integer
          nullable: true
          title: Pertenece a o (obtener almacen tara)
      required:
      - codigo
      - created_at
      - created_by
      - direccion_obj
      - empresa
      - empresa_obj
      - encargado
      - encargado_obj
      - id
      - nombre
      - tipo
      - updated_at
      - updated_by
    AlmacenDestinoResponse:
      type: object
      description: Serializer para la información del almacén destino
      properties:
        id:
          type: integer
          description: ID del almacén destino
        nombre:
          type: string
          description: Nombre del almacén destino
        tipo:
          type: string
          description: Tipo de almacén (CEDIS, SUCURSAL, etc.)
      required:
      - id
      - nombre
      - tipo
    AlmacenDetalleView:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          readOnly: true
      required:
      - codigo
      - id
      - nombre
    AlmacenInventario:
      type: object
      description: Serializer para almacenes con inventario de un producto específico
      properties:
        almacen_id:
          type: integer
          readOnly: true
        almacen_nombre:
          type: string
          readOnly: true
        almacen_tipo:
          type: string
          readOnly: true
        cantidad_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        valor_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        numero_lotes:
          type: integer
          readOnly: true
        lotes_detalle:
          type: array
          items:
            $ref: '#/components/schemas/LoteInventario'
          readOnly: true
      required:
      - almacen_id
      - almacen_nombre
      - almacen_tipo
      - cantidad_total
      - lotes_detalle
      - numero_lotes
      - valor_total
    AlmacenMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
        nombre:
          type: string
          maxLength: 200
        encargado_name:
          type: string
          readOnly: true
      required:
      - codigo
      - encargado_name
      - id
      - nombre
    AprobarRechazarSolicitud:
      type: object
      description: Serializer para aprobar o rechazar una solicitud
      properties:
        nota:
          type: string
          description: Nota opcional para justificar la aprobación o rechazo
          maxLength: 500
    AsignarPermisosRequest:
      type: object
      properties:
        permission_ids:
          type: array
          items:
            type: integer
          description: Lista de IDs de permisos a agregar
      required:
      - permission_ids
    AtenderInsidenciaLote:
      type: object
      description: Serializer para atender múltiples lotes de una insidencia
      properties:
        lotes:
          type: array
          items:
            $ref: '#/components/schemas/AtenderInsidenciaLoteItem'
          description: Lista de lotes a atender
      required:
      - lotes
    AtenderInsidenciaLoteItem:
      type: object
      description: Serializer para un item de lote a atender
      properties:
        insidencia_lote_id:
          type: integer
          description: ID del InsidenciaLote a atender
        nota:
          type: string
          nullable: true
          description: Nota de atención (opcional)
      required:
      - insidencia_lote_id
    AtenderInsidenciaLoteResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        lotes_atendidos:
          type: integer
        insidencias_resueltas:
          type: array
          items:
            type: integer
      required:
      - insidencias_resueltas
      - lotes_atendidos
      - message
      - success
    BlankEnum:
      enum:
      - ''
    Caja:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre de la Caja
          maxLength: 100
        tipo:
          allOf:
          - $ref: '#/components/schemas/CajaTipoEnum'
          title: Tipo de Caja
        sucursal:
          type: integer
          nullable: true
          description: 'ID de la sucursal o dic (id: <id>) requerido si es tipo SUCURSAL'
        sucursal_name:
          type: string
          readOnly: true
        ruta:
          type: integer
          nullable: true
          description: 'ID de la ruta o dic (id: <id>) requerido si es tipo RUTA'
        ruta_name:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
      required:
      - created_at
      - created_by
      - id
      - nombre
      - ruta_name
      - sucursal_name
      - updated_at
      - updated_by
    CajaApertura:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        caja:
          type: integer
          description: 'ID de la caja o dic (id: <id>)'
        usuario:
          type: integer
          nullable: true
          description: 'ID del usuario asignado (id: <id>)'
        monto_inicial:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        fecha_apertura:
          type: string
          format: date-time
          readOnly: true
        monto_final:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
          nullable: true
        is_abierta:
          type: boolean
          readOnly: true
          title: Caja Abierta
        caja_name:
          type: string
          readOnly: true
        usuario_name:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        estadisticas_ingresos:
          type: array
          items:
            $ref: '#/components/schemas/EstadisticaMetodoPago'
          readOnly: true
        estadisticas_salidas:
          type: array
          items:
            $ref: '#/components/schemas/EstadisticaMetodoPago'
          readOnly: true
        estadisticas_gastos:
          type: array
          items:
            $ref: '#/components/schemas/EstadisticaMetodoPago'
          readOnly: true
        total_ingresos:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        total_salidas:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        balance_neto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        fecha_cierre:
          type: string
          readOnly: true
        efectivo_caja:
          type: string
          readOnly: true
      required:
      - balance_neto
      - caja
      - caja_name
      - created_at
      - created_by
      - efectivo_caja
      - estadisticas_gastos
      - estadisticas_ingresos
      - estadisticas_salidas
      - fecha_apertura
      - fecha_cierre
      - id
      - is_abierta
      - monto_final
      - monto_inicial
      - total_ingresos
      - total_salidas
      - updated_at
      - updated_by
      - usuario
      - usuario_name
    CajaAperturaMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        caja:
          type: integer
          readOnly: true
        monto_inicial:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        fecha_apertura:
          type: string
          format: date-time
          readOnly: true
        caja_name:
          type: string
          readOnly: true
        is_abierta:
          type: boolean
          readOnly: true
          title: Caja Abierta
        monto_final:
          type: string
          readOnly: true
        usuario_name:
          type: string
          readOnly: true
        fecha_cierre:
          type: string
          readOnly: true
        aperturada_por:
          type: string
          readOnly: true
        usuario_cierre_name:
          type: string
          readOnly: true
        usuario_apertura_name:
          type: string
          readOnly: true
      required:
      - aperturada_por
      - caja
      - caja_name
      - fecha_apertura
      - fecha_cierre
      - id
      - is_abierta
      - monto_final
      - monto_inicial
      - usuario_apertura_name
      - usuario_cierre_name
      - usuario_name
    CajaMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre de la Caja
          maxLength: 100
      required:
      - id
      - nombre
    CajaTipoEnum:
      enum:
      - RUTA
      - SUCURSAL
      type: string
      description: |-
        * `RUTA` - RUTA
        * `SUCURSAL` - SUCURSAL
    CambiarFaseMasivoResponse:
      type: object
      properties:
        exitosas:
          type: integer
          description: Cantidad de solicitudes actualizadas exitosamente
        fallidas:
          type: integer
          description: Cantidad de solicitudes que fallaron
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/DetalleResultado'
        solicitudes_actualizadas:
          type: array
          items:
            $ref: '#/components/schemas/ProductosSolicitudMini'
      required:
      - detalles
      - exitosas
      - fallidas
      - solicitudes_actualizadas
    CancelarVentaError:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    CancelarVentaSuccess:
      type: object
      properties:
        detail:
          type: string
          default: Venta cancelada correctamente
        venta:
          $ref: '#/components/schemas/Venta'
      required:
      - venta
    CancelarVentasMasivoRequest:
      type: object
      properties:
        ventas:
          type: array
          items:
            type: integer
          description: Array de IDs de ventas a cancelar
          minItems: 1
      required:
      - ventas
    CancelarVentasMasivoResponse:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/ResultadoVentaCancelacion'
      required:
      - results
    Categoria:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
          title: Descripción
      required:
      - created_at
      - created_by
      - id
      - nombre
      - updated_at
      - updated_by
    CategoriaCliente:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        nombre:
          type: string
          maxLength: 100
        limite_credito_max:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          title: Límite de Crédito máximo
        limite_credito_min:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          title: Límite de Crédito mínimo
        descripcion:
          type: string
          nullable: true
          title: Descripción
      required:
      - created_at
      - created_by
      - id
      - nombre
      - updated_at
      - updated_by
    CategoriaClienteMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 100
        limite_credito_min:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          title: Límite de Crédito mínimo
        limite_credito_max:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          title: Límite de Crédito máximo
      required:
      - id
      - nombre
    CategoriaMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
      required:
      - id
      - nombre
    CheckinProductoResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        embarque_id:
          type: integer
        ventas_procesadas:
          type: integer
        productos_checkin:
          type: integer
      required:
      - embarque_id
      - message
      - productos_checkin
      - success
      - ventas_procesadas
    Cliente:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        limite_credito:
          type: number
          format: double
          nullable: true
          default: 0.0
        total_credito:
          type: number
          format: double
          readOnly: true
          default: 0.0
        plazos_semanas:
          type: integer
          nullable: true
          default: 0
        clasificacion:
          type: integer
          description: 'ID de la clasificación del cliente o diccionario {''id'':
            <pk>}'
        tipo:
          nullable: true
          default: ESTANDAR
          description: |-
            Tipo de cliente

            * `POTENCIAL` - Potencial
            * `ESTANDAR` - Estándar
            * `NO CREDITO` - No Crédito
            * `CREDITO SEMANAL` - Crédito Semanal
            * `EVENTUAL` - Eventual
            * `BUEN CLIENTE` - Buen Cliente
            * `PREMIUM` - Premium
          oneOf:
          - $ref: '#/components/schemas/TipoCb6Enum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        precio_tipo:
          nullable: true
          default: PÚBLICO
          description: |-
            Tipo de precio

            * `SEMI MAYOREO` - SEMI MAYOREO
            * `MAYOREO` - MAYOREO
            * `PÚBLICO` - PÚBLICO
          oneOf:
          - $ref: '#/components/schemas/PrecioTipoEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        clasificacion_name:
          type: string
          readOnly: true
          description: Nombre de la clasificación del cliente
        vendedor:
          type: integer
          nullable: true
          description: 'ID del vendedor asignado al cliente o diccionario {''id'':
            <pk>}'
        vendedor_name:
          type: string
          readOnly: true
          description: Nombre del vendedor
        vendedor_detalle:
          allOf:
          - $ref: '#/components/schemas/UsuarioDetalle'
          readOnly: true
          description: Detalle del vendedor asignado al cliente
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionCliente'
          nullable: true
          description: Direcciones asociadas al cliente
        direccion_obj:
          type: array
          items:
            $ref: '#/components/schemas/DireccionClienteObj'
          readOnly: true
        regimen_fiscal:
          type: integer
          description: 'ID del régimen fiscal del cliente o diccionario {''id'': <pk>}'
        regimen_fiscal_detalle:
          allOf:
          - $ref: '#/components/schemas/RegimenFiscalDetail'
          readOnly: true
          description: Detalle del régimen fiscal del cliente
        nombre_completo:
          type: string
          readOnly: true
          description: Nombre completo del cliente
        puede_pagar_credito:
          type: string
          readOnly: true
          description: Indica si el cliente puede realizar pagos a crédito
        rfc:
          type: string
          description: RFC del cliente
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        apellido_paterno:
          type: string
          nullable: true
          maxLength: 200
        apellido_materno:
          type: string
          nullable: true
          maxLength: 200
        razon_social:
          type: string
          nullable: true
          title: Razón social
          maxLength: 180
        tipo_persona:
          nullable: true
          title: Tipo de Persona
          oneOf:
          - $ref: '#/components/schemas/TipoPersonaEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 15
        email:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 150
        uso_cfdi:
          type: string
          nullable: true
          maxLength: 100
        sujeto_credito:
          type: boolean
          title: Sujeto a Crédito
      required:
      - clasificacion_name
      - codigo
      - created_at
      - created_by
      - direccion_obj
      - id
      - nombre_completo
      - puede_pagar_credito
      - regimen_fiscal
      - regimen_fiscal_detalle
      - rfc
      - total_credito
      - updated_at
      - updated_by
      - vendedor
      - vendedor_detalle
      - vendedor_name
    ClienteCredito:
      type: object
      description: Serializer simplificado para mostrar información del cliente en
        contexto de créditos
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre_completo:
          type: string
          readOnly: true
        razon_social:
          type: string
          readOnly: true
          nullable: true
          title: Razón social
        rfc:
          type: string
          readOnly: true
          nullable: true
        telefono:
          type: string
          readOnly: true
          nullable: true
          title: Teléfono
        email:
          type: string
          format: email
          readOnly: true
          nullable: true
          title: Correo Electrónico
        sujeto_credito:
          type: boolean
          readOnly: true
          title: Sujeto a Crédito
        limite_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
          nullable: true
          title: Límite de crédito
        total_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
          nullable: true
          title: Total de crédito
        disponible_credito:
          type: string
          readOnly: true
        plazos_semanas:
          type: integer
          readOnly: true
          nullable: true
          title: Plazos en semanas
        puede_pagar_credito:
          type: string
          readOnly: true
      required:
      - codigo
      - disponible_credito
      - email
      - id
      - limite_credito
      - nombre_completo
      - plazos_semanas
      - puede_pagar_credito
      - razon_social
      - rfc
      - sujeto_credito
      - telefono
      - total_credito
    ClienteCreditoNotFound:
      type: object
      properties:
        detail:
          type: string
          default: Cliente no encontrado.
    ClienteInfo:
      type: object
      description: Información básica del cliente
      properties:
        id:
          type: integer
        codigo:
          type: string
        nombre:
          type: string
      required:
      - codigo
      - id
      - nombre
    ClienteMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        get_full_name:
          type: string
          readOnly: true
        rfc:
          type: string
          nullable: true
          maxLength: 15
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 15
        email:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 150
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        razon_social:
          type: string
          nullable: true
          title: Razón social
          maxLength: 180
      required:
      - get_full_name
      - id
    ClienteNotFound:
      type: object
      properties:
        detail:
          type: string
          default: Cliente no encontrado.
    CodigoPostal:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        codigo_postal:
          type: string
          maxLength: 10
      required:
      - codigo_postal
      - id
    Colonia:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        d_asenta:
          type: string
          maxLength: 100
      required:
      - d_asenta
      - id
    Compra:
      type: object
      description: Serializer completo para compra con sus detalles y pagos
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        is_app:
          type: boolean
          description: Indica si la compra fue creada desde la App Móvil
        orden_compra:
          type: integer
          nullable: true
          description: 'ID de la orden de compra (opcional, puede ser un entero o
            {"id": <pk>})'
        orden_compra_obj:
          allOf:
          - $ref: '#/components/schemas/OrdenCompraMini'
          readOnly: true
        proveedor:
          type: integer
          description: 'ID del proveedor (solo activos, puede ser un entero o {"id":
            <pk>})'
        proveedor_obj:
          allOf:
          - $ref: '#/components/schemas/ProveedorMini'
          readOnly: true
        almacen_destino:
          type: integer
          description: 'ID del almacén destino (solo activos, puede ser un entero
            o {"id": <pk>})'
        almacen_destino_obj:
          allOf:
          - $ref: '#/components/schemas/AlmacenMini'
          readOnly: true
        destino_is_cedis:
          type: boolean
          readOnly: true
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,23}(?:\.\d{0,2})?$
          readOnly: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado4abEnum'
          default: PROCESANDO
          description: |-
            Estado de la compra

            * `PROCESANDO` - PROCESANDO
            * `EN CAMINO` - EN CAMINO
            * `FINALIZADA` - FINALIZADA
            * `CANCELADA` - CANCELADA
        existe_diferencia:
          type: boolean
          readOnly: true
        tiempo_recorrido:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        fecha_salida:
          type: string
          format: date
        latitud:
          type: string
          format: decimal
          pattern: ^-?\d{0,2}(?:\.\d{0,8})?$
          nullable: true
        longitud:
          type: string
          format: decimal
          pattern: ^-?\d{0,2}(?:\.\d{0,8})?$
          nullable: true
        nota:
          type: string
          nullable: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/CompraDetalle'
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        condicion_pago:
          nullable: true
          default: CONTADO
          description: |-
            Condición de pago

            * `CONTADO` - CONTADO
            * `CRÉDITO` - CRÉDITO
            * `MIXTA` - MIXTA
          oneOf:
          - $ref: '#/components/schemas/CondicionPagoEnum'
          - $ref: '#/components/schemas/NullEnum'
        pagos_detalle:
          type: string
          readOnly: true
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPago'
          description: Lista de métodos de pago asociados a la orden de compra
        pagar_con_credito:
          type: boolean
          default: false
          description: Indica si se pagará con crédito del proveedor
        pago_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          nullable: true
          default: '0.0000'
          description: Monto a pagar con crédito del proveedor
      required:
      - almacen_destino
      - almacen_destino_obj
      - codigo
      - created_at
      - created_by
      - destino_is_cedis
      - existe_diferencia
      - fecha_salida
      - id
      - is_app
      - orden_compra_obj
      - pagos_detalle
      - proveedor
      - proveedor_obj
      - total
      - updated_at
      - updated_by
    CompraDetalle:
      type: object
      description: Serializer para los detalles de una compra
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
          description: 'ID del producto (solo activos, puede ser un entero o {"id":
            <pk>})'
        producto_obj:
          allOf:
          - $ref: '#/components/schemas/ProductoMini'
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        precio_unitario:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        subtotal:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          readOnly: true
        existe_diferencia:
          type: boolean
          readOnly: true
        es_producto_nuevo:
          type: boolean
          readOnly: true
          title: Es Nuevo
        cantidad_entrada:
          type: string
          format: decimal
          pattern: ^-?\d{0,23}(?:\.\d{0,2})?$
          readOnly: true
          title: Diferencia
      required:
      - cantidad
      - cantidad_entrada
      - es_producto_nuevo
      - existe_diferencia
      - id
      - producto
      - producto_obj
      - subtotal
    CompraGastoList:
      type: object
      description: Serializer para los gastos asociados a una compra
      properties:
        id:
          type: integer
          readOnly: true
        compra_folio:
          type: string
          readOnly: true
        descripcion:
          type: string
          title: Descripción
          maxLength: 250
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        concepto:
          type: string
          maxLength: 150
        created_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
      required:
      - compra_folio
      - concepto
      - created_at
      - created_by
      - descripcion
      - id
      - monto
    CompraGastoRetrieve:
      type: object
      description: Serializer para los gastos asociados a una compra
      properties:
        id:
          type: integer
          readOnly: true
        compra_folio:
          type: string
          readOnly: true
        descripcion:
          type: string
          title: Descripción
          maxLength: 250
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        concepto:
          type: string
          maxLength: 150
        created_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
      required:
      - compra_folio
      - concepto
      - created_at
      - created_by
      - descripcion
      - id
      - monto
      - updated_at
      - updated_by
    CompraMini:
      type: object
      description: Serializer mini para listar compras básicas
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        is_app:
          type: boolean
          readOnly: true
          title: Creado desde App Móvil
        orden_compra_codigo:
          type: string
          readOnly: true
          nullable: true
        proveedor_nombre:
          type: string
          readOnly: true
        almacen_destino_nombre:
          type: string
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado4abEnum'
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,23}(?:\.\d{0,2})?$
        fecha_salida:
          type: string
          format: date
          nullable: true
          title: Fecha de Salida
        existe_diferencia:
          type: boolean
        created_at:
          type: string
          readOnly: true
      required:
      - almacen_destino_nombre
      - codigo
      - created_at
      - id
      - is_app
      - orden_compra_codigo
      - proveedor_nombre
      - total
    CompraMiniList:
      type: object
      description: Serializer mini para listar compras básicas
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        is_app:
          type: boolean
          readOnly: true
          title: Creado desde App Móvil
      required:
      - codigo
      - id
      - is_app
    CompraMiniListError:
      type: object
      properties:
        detail:
          type: string
          default: Error en los parámetros de filtrado
    CompraResponse:
      type: object
      description: Serializer para la información de compra en la respuesta
      properties:
        id:
          type: integer
          nullable: true
          description: ID de la compra
        codigo:
          type: string
          nullable: true
          description: Código de la compra
        estado_actual:
          type: string
          nullable: true
          description: Estado actual de la compra
      required:
      - codigo
      - estado_actual
      - id
    CondicionPagoEnum:
      enum:
      - CONTADO
      - CRÉDITO
      - MIXTA
      type: string
      description: |-
        * `CONTADO` - CONTADO
        * `CRÉDITO` - CRÉDITO
        * `MIXTA` - MIXTA
    CreditoClienteList:
      type: object
      description: Serializer completo para detalle de créditos con historial de pagos
      properties:
        id:
          type: integer
          readOnly: true
        cliente:
          type: integer
        cliente_codigo:
          type: string
          readOnly: true
        cliente_nombre:
          type: string
          readOnly: true
        fecha:
          type: string
          format: date
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        monto_pagado:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        adeudo_actual:
          type: string
          readOnly: true
        fecha_vencimiento:
          type: string
          format: date
          nullable: true
        dias_para_vencimiento:
          type: string
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado600Enum'
        venta:
          type: integer
          nullable: true
        is_pagado:
          type: boolean
        ha_vencido:
          type: string
          readOnly: true
        referencia:
          type: string
          nullable: true
          maxLength: 100
        observaciones:
          type: string
          nullable: true
        historial_pagos:
          type: array
          items:
            $ref: '#/components/schemas/PagosCreditoMini'
          readOnly: true
      required:
      - adeudo_actual
      - cliente
      - cliente_codigo
      - cliente_nombre
      - dias_para_vencimiento
      - ha_vencido
      - historial_pagos
      - id
    CreditoClienteMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        cliente:
          type: integer
        cliente_nombre:
          type: string
          readOnly: true
        fecha:
          type: string
          format: date
        venta:
          type: integer
          nullable: true
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        monto_pagado:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        adeudo_actual:
          type: string
          readOnly: true
        fecha_vencimiento:
          type: string
          format: date
          nullable: true
        estado:
          $ref: '#/components/schemas/Estado600Enum'
        is_pagado:
          type: boolean
        referencia:
          type: string
          nullable: true
          maxLength: 100
        ha_vencido:
          type: string
          readOnly: true
      required:
      - adeudo_actual
      - cliente
      - cliente_nombre
      - ha_vencido
      - id
    CreditoProveedorList:
      type: object
      description: Serializer para listados con datos adicionales pero sin pagos
      properties:
        id:
          type: integer
          readOnly: true
        proveedor:
          type: string
          readOnly: true
        fecha:
          type: string
          format: date
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        monto_pagado:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        adeudo:
          type: string
          readOnly: true
        dias_plazo:
          type: integer
          maximum: 2147483647
          minimum: 0
          title: Plazo en días
        fecha_vencimiento:
          type: string
          format: date
          nullable: true
        is_pagado:
          type: boolean
        fecha_pago:
          type: string
          format: date
          nullable: true
          title: Fecha de liquidación del crédito
        ha_vencido:
          type: boolean
          readOnly: true
        dias_vencido:
          type: string
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado600Enum'
        total_pagos:
          type: string
          readOnly: true
        compra_id:
          type: integer
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Fecha de creación
      required:
      - adeudo
      - compra_id
      - created_at
      - dias_vencido
      - ha_vencido
      - id
      - proveedor
      - total_pagos
    CreditoProveedorMini:
      type: object
      description: Serializer simplificado para listados de créditos de proveedor
      properties:
        id:
          type: integer
          readOnly: true
        proveedor:
          type: string
          readOnly: true
        fecha:
          type: string
          format: date
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        monto_pagado:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        adeudo:
          type: string
          readOnly: true
        fecha_vencimiento:
          type: string
          format: date
          nullable: true
        is_pagado:
          type: boolean
        ha_vencido:
          type: boolean
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado600Enum'
        compra:
          type: integer
          nullable: true
      required:
      - adeudo
      - ha_vencido
      - id
      - proveedor
    CreditosPaginados:
      type: object
      description: Listado paginado de créditos
      properties:
        count:
          type: integer
        next:
          type: string
          nullable: true
        previous:
          type: string
          nullable: true
        results:
          type: array
          items:
            $ref: '#/components/schemas/CreditoClienteList'
      required:
      - count
      - results
    DetalleInventarioPorProducto:
      type: object
      description: Serializer para mostrar el inventario de un producto específico
        en todos los almacenes
      properties:
        producto_id:
          type: integer
          readOnly: true
        producto_nombre:
          type: string
          readOnly: true
        producto_codigo:
          type: string
          readOnly: true
        precio_publico:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        precio_mayoreo:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        costo_ultimo_lote:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        unidad_medida:
          type: string
          readOnly: true
        unidad_clave:
          type: string
          readOnly: true
        fecha_consulta:
          type: string
          format: date-time
          readOnly: true
        cantidad_total_global:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        total_almacenes:
          type: integer
          readOnly: true
        total_lotes_global:
          type: integer
          readOnly: true
        almacenes:
          type: array
          items:
            $ref: '#/components/schemas/AlmacenInventario'
          readOnly: true
      required:
      - almacenes
      - cantidad_total_global
      - costo_ultimo_lote
      - fecha_consulta
      - precio_mayoreo
      - precio_publico
      - producto_codigo
      - producto_id
      - producto_nombre
      - total_almacenes
      - total_lotes_global
      - unidad_clave
      - unidad_medida
    DetalleInventarioRack:
      type: object
      description: Serializer para los detalles de inventario de un rack específico
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
        fecha_consulta:
          type: string
          format: date-time
          readOnly: true
        total_productos:
          type: integer
          readOnly: true
        total_lotes:
          type: integer
          readOnly: true
        cantidad_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        valor_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,13}(?:\.\d{0,2})?$
          readOnly: true
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoInventario'
          readOnly: true
      required:
      - cantidad_total
      - fecha_consulta
      - id
      - nombre
      - productos
      - total_lotes
      - total_productos
      - valor_total
    DetalleResultado:
      type: object
      properties:
        id:
          type: integer
        fase:
          type: string
        mensaje:
          type: string
      required:
      - fase
      - id
      - mensaje
    DireccionAlmacen:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        estado:
          type: integer
          nullable: true
          description: ID del estado
        estado_name:
          type: string
          readOnly: true
          description: Nombre del estado
        municipio:
          type: integer
          nullable: true
          description: ID del municipio
        municipio_name:
          type: string
          readOnly: true
          description: Nombre del municipio
        codigo_postal:
          type: integer
          nullable: true
          description: ID del código postal
        codigo_postal_name:
          type: string
          readOnly: true
          description: Código postal
        colonia:
          type: integer
          nullable: true
          description: ID de la colonia
        colonia_name:
          type: string
          readOnly: true
          description: Nombre de la colonia
        calle:
          type: string
          nullable: true
          description: Nombre de la calle
          maxLength: 200
        numero_exterior:
          type: string
          nullable: true
          description: Número exterior del almacén
          maxLength: 20
        numero_interior:
          type: string
          nullable: true
          description: Número interior del almacén (opcional)
          maxLength: 20
      required:
      - codigo_postal
      - codigo_postal_name
      - colonia
      - colonia_name
      - estado
      - estado_name
      - id
      - municipio
      - municipio_name
    DireccionAlmacenObj:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        calle:
          type: string
          readOnly: true
          nullable: true
        numero_exterior:
          type: string
          readOnly: true
          nullable: true
        numero_interior:
          type: string
          readOnly: true
          nullable: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado'
          readOnly: true
        municipio:
          allOf:
          - $ref: '#/components/schemas/Municipio'
          readOnly: true
        codigo_postal:
          allOf:
          - $ref: '#/components/schemas/CodigoPostal'
          readOnly: true
        colonia:
          allOf:
          - $ref: '#/components/schemas/Colonia'
          readOnly: true
      required:
      - calle
      - codigo_postal
      - colonia
      - estado
      - id
      - municipio
      - numero_exterior
      - numero_interior
    DireccionCliente:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        estado:
          type: integer
          nullable: true
          description: ID del estado
        estado_name:
          type: string
          readOnly: true
          description: Nombre del estado
        municipio:
          type: integer
          nullable: true
          description: ID del municipio
        municipio_name:
          type: string
          readOnly: true
          description: Nombre del municipio
        codigo_postal:
          type: integer
          nullable: true
          description: ID del código postal
        codigo_postal_name:
          type: string
          readOnly: true
          description: Código postal
        colonia:
          type: integer
          nullable: true
          description: ID de la colonia
        colonia_name:
          type: string
          readOnly: true
          description: Nombre de la colonia
        calle:
          type: string
          nullable: true
          description: Nombre de la calle
          maxLength: 200
        numero_exterior:
          type: string
          nullable: true
          description: Número exterior del domicilio
          maxLength: 20
        numero_interior:
          type: string
          nullable: true
          description: Número interior del domicilio (opcional)
          maxLength: 20
        latitud:
          type: number
          format: double
          nullable: true
          description: Latitud de la dirección (opcional)
        longitud:
          type: number
          format: double
          nullable: true
          description: Longitud de la dirección (opcional)
      required:
      - codigo_postal
      - codigo_postal_name
      - colonia
      - colonia_name
      - estado
      - estado_name
      - id
      - municipio
      - municipio_name
    DireccionClienteObj:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        calle:
          type: string
          readOnly: true
          nullable: true
        numero_exterior:
          type: string
          readOnly: true
          nullable: true
        numero_interior:
          type: string
          readOnly: true
          nullable: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado'
          readOnly: true
        municipio:
          allOf:
          - $ref: '#/components/schemas/Municipio'
          readOnly: true
        codigo_postal:
          allOf:
          - $ref: '#/components/schemas/CodigoPostal'
          readOnly: true
        colonia:
          allOf:
          - $ref: '#/components/schemas/Colonia'
          readOnly: true
        latitud:
          type: number
          format: double
          nullable: true
        longitud:
          type: number
          format: double
          nullable: true
      required:
      - calle
      - codigo_postal
      - colonia
      - estado
      - id
      - municipio
      - numero_exterior
      - numero_interior
    DireccionSucursal:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        estado:
          type: integer
          nullable: true
          description: ID del estado
        estado_name:
          type: string
          readOnly: true
          description: Nombre del estado
        municipio:
          type: integer
          nullable: true
          description: ID del municipio
        municipio_name:
          type: string
          readOnly: true
          description: Nombre del municipio
        codigo_postal:
          type: integer
          nullable: true
          description: ID del código postal
        codigo_postal_name:
          type: string
          readOnly: true
          description: Código postal
        colonia:
          type: integer
          nullable: true
          description: ID de la colonia
        colonia_name:
          type: string
          readOnly: true
          description: Nombre de la colonia
        calle:
          type: string
          nullable: true
          description: Nombre de la calle
          maxLength: 200
        numero_exterior:
          type: string
          nullable: true
          description: Número exterior del almacén
          maxLength: 20
        numero_interior:
          type: string
          nullable: true
          description: Número interior del almacén (opcional)
          maxLength: 20
      required:
      - codigo_postal
      - codigo_postal_name
      - colonia
      - colonia_name
      - estado
      - estado_name
      - id
      - municipio
      - municipio_name
    DireccionUsuario:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        estado:
          type: integer
          nullable: true
          description: ID del estado
        estado_name:
          type: string
          readOnly: true
          description: Nombre del estado
        municipio:
          type: integer
          nullable: true
          description: ID del municipio
        municipio_name:
          type: string
          readOnly: true
          description: Nombre del municipio
        codigo_postal:
          type: integer
          nullable: true
          description: ID del código postal
        codigo_postal_name:
          type: string
          readOnly: true
          description: Código postal
        colonia:
          type: integer
          nullable: true
          description: ID de la colonia
        colonia_name:
          type: string
          readOnly: true
          description: Nombre de la colonia
        calle:
          type: string
          nullable: true
          description: Nombre de la calle
          maxLength: 200
        numero_exterior:
          type: string
          nullable: true
          description: Número exterior del almacén
          maxLength: 20
        numero_interior:
          type: string
          nullable: true
          description: Número interior del almacén (opcional)
          maxLength: 20
      required:
      - codigo_postal
      - codigo_postal_name
      - colonia
      - colonia_name
      - estado
      - estado_name
      - id
      - municipio
      - municipio_name
    DireccionUsuarioObj:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        calle:
          type: string
          readOnly: true
          nullable: true
        numero_exterior:
          type: string
          readOnly: true
          nullable: true
        numero_interior:
          type: string
          readOnly: true
          nullable: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado'
          readOnly: true
        municipio:
          allOf:
          - $ref: '#/components/schemas/Municipio'
          readOnly: true
        codigo_postal:
          allOf:
          - $ref: '#/components/schemas/CodigoPostal'
          readOnly: true
        colonia:
          allOf:
          - $ref: '#/components/schemas/Colonia'
          readOnly: true
      required:
      - calle
      - codigo_postal
      - colonia
      - estado
      - id
      - municipio
      - numero_exterior
      - numero_interior
    Embarque:
      type: object
      properties:
        almacen_origen:
          type: integer
          nullable: true
          description: 'ID del almacén de origen asociado al embarque o dic {id: <id>}'
        ruta:
          type: integer
          description: 'ID de la ruta asociada al embarque o dic {id: <id>}'
        pedidos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoEmbarqueVenta'
          description: 'Lista de preventas asociadas al embarque o lista de diccionarios
            {id: <id>, productos: [{id: <id>, cantidad: <cantidad>}, ...]}'
        productos_tara:
          type: array
          items:
            $ref: '#/components/schemas/ProductoEmbarque'
          description: Lista de productos en tara (opcional)
      required:
      - pedidos
      - ruta
    EmbarqueCreateResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        embarque:
          $ref: '#/components/schemas/Embarque'
        preventas_procesadas:
          type: array
          items:
            type: integer
        productos_tara_procesados:
          type: array
          items: {}
      required:
      - embarque
      - message
      - preventas_procesadas
      - productos_tara_procesados
      - success
    EmbarqueMini:
      type: object
      description: Serializer simplificado para listados de embarque
      properties:
        id:
          type: integer
          readOnly: true
        fase:
          $ref: '#/components/schemas/EmbarqueMiniFaseEnum'
        nota:
          type: string
          nullable: true
        fecha_salida:
          type: string
          format: date-time
          nullable: true
        fecha_finalizada:
          type: string
          format: date-time
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        ruta_id:
          type: integer
          readOnly: true
        ruta_nombre:
          type: string
          readOnly: true
        ruta_codigo:
          type: string
          readOnly: true
        encargado_id:
          type: integer
          readOnly: true
          nullable: true
        encargado_nombre:
          type: string
          readOnly: true
          nullable: true
        condicion_pago:
          type: string
          readOnly: true
      required:
      - condicion_pago
      - created_at
      - encargado_id
      - encargado_nombre
      - id
      - ruta_codigo
      - ruta_id
      - ruta_nombre
    EmbarqueMiniFaseEnum:
      enum:
      - CARGA
      - REPARTO
      - TERMINADO
      - CANCELADO
      type: string
      description: |-
        * `CARGA` - CARGA
        * `REPARTO` - REPARTO
        * `TERMINADO` - TERMINADO
        * `CANCELADO` - CANCELADO
    EmbarqueRutaCreateResponse:
      type: object
      properties:
        message:
          type: string
        data:
          type: object
          additionalProperties: {}
      required:
      - data
      - message
    Empresa:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre o Razón Social
          maxLength: 255
        rfc:
          type: string
          maxLength: 13
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 15
        email:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 254
        direccion_fiscal:
          type: string
          nullable: true
          title: Dirección Fiscal
          description: Dirección fiscal de la empresa
        regimen_fiscal:
          type: integer
          nullable: true
          description: 'ID del régimen fiscal de la empresa (puede ser un entero o
            {"id": <pk>})'
        regimen_fiscal_detalle:
          allOf:
          - $ref: '#/components/schemas/RegimenFiscalDetail'
          readOnly: true
          description: Detalle del régimen fiscal de la empresa
        cuenta_clave:
          type: string
          nullable: true
          description: Cuenta clave de la empresa
          maxLength: 20
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
      required:
      - created_at
      - created_by
      - id
      - nombre
      - regimen_fiscal_detalle
      - rfc
      - updated_at
      - updated_by
    EmpresaCreateRequest:
      type: object
      properties:
        nombre:
          type: string
        rfc:
          type: string
        telefono:
          type: string
        email:
          type: string
          format: email
        direccion_fiscal:
          type: string
        regimen_fiscal:
          $ref: '#/components/schemas/RegimenFK'
        cuenta_clave:
          type: string
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          readOnly: true
      required:
      - nombre
      - regimen_fiscal
      - rfc
      - status_model
    EmpresaMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
          title: Nombre o Razón Social
        rfc:
          type: string
          readOnly: true
      required:
      - id
      - nombre
      - rfc
    EmpresaUpdateRequest:
      type: object
      properties:
        nombre:
          type: string
        rfc:
          type: string
        telefono:
          type: string
        email:
          type: string
          format: email
        direccion_fiscal:
          type: string
        regimen_fiscal:
          $ref: '#/components/schemas/RegimenFK'
        cuenta_clave:
          type: string
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          readOnly: true
      required:
      - regimen_fiscal
      - status_model
    EntragaProductoRuta:
      type: object
      properties:
        venta:
          type: integer
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductosEntrega'
      required:
      - productos
      - venta
    EntregaProductoResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        venta_id:
          type: integer
        productos_entregados:
          type: integer
      required:
      - message
      - productos_entregados
      - success
      - venta_id
    EstadisticaMetodoPago:
      type: object
      description: Serializer para estadísticas agrupadas por método de pago
      properties:
        metodo_pago_id:
          type: integer
          nullable: true
          description: ID del método de pago
        metodo_pago:
          type: string
          description: Nombre del método de pago
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          description: Total acumulado para este método de pago
      required:
      - metodo_pago
      - metodo_pago_id
      - total
    EstadisticasClienteResponse:
      type: object
      description: Serializer para la respuesta completa de estadísticas por cliente
      properties:
        cliente:
          $ref: '#/components/schemas/ClienteInfo'
        estadisticas:
          $ref: '#/components/schemas/EstadisticasCreditoCliente'
        creditos:
          $ref: '#/components/schemas/CreditosPaginados'
      required:
      - cliente
      - creditos
      - estadisticas
    EstadisticasCreditoCliente:
      type: object
      description: Estadísticas de créditos de un cliente
      properties:
        total_creditos:
          type: integer
        total_dispersado:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        total_pagado:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        adeudo_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
        creditos_activos:
          type: integer
        creditos_liquidados:
          type: integer
        creditos_vencidos:
          type: integer
        promedio_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
      required:
      - adeudo_total
      - creditos_activos
      - creditos_liquidados
      - creditos_vencidos
      - promedio_credito
      - total_creditos
      - total_dispersado
      - total_pagado
    Estado:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 100
      required:
      - id
      - nombre
    Estado1f6Enum:
      enum:
      - APROBADO
      - RECHAZADO
      - PENDIENTE
      type: string
      description: |-
        * `APROBADO` - APROBADO
        * `RECHAZADO` - RECHAZADO
        * `PENDIENTE` - PENDIENTE
    Estado4abEnum:
      enum:
      - PROCESANDO
      - EN CAMINO
      - FINALIZADA
      - CANCELADA
      type: string
      description: |-
        * `PROCESANDO` - PROCESANDO
        * `EN CAMINO` - EN CAMINO
        * `FINALIZADA` - FINALIZADA
        * `CANCELADA` - CANCELADA
    Estado600Enum:
      enum:
      - ACTIVA
      - PAGADA
      type: string
      description: |-
        * `ACTIVA` - ACTIVA
        * `PAGADA` - PAGADA
    Estado9cdEnum:
      enum:
      - SOLICITUD
      - PENDIENTE
      - EN PROCESO
      - CANCELADA
      - FINALIZADA
      type: string
      description: |-
        * `SOLICITUD` - SOLICITUD
        * `PENDIENTE` - PENDIENTE
        * `EN PROCESO` - EN PROCESO
        * `CANCELADA` - CANCELADA
        * `FINALIZADA` - FINALIZADA
    Fase576Enum:
      enum:
      - SOLICITUD
      - ATENDIDO
      - CANCELADO
      type: string
      description: |-
        * `SOLICITUD` - SOLICITUD
        * `ATENDIDO` - ATENDIDO
        * `CANCELADO` - CANCELADO
    Fase877Enum:
      enum:
      - PRE VENTA
      - VENTA COMANDERA
      - EN CURSO
      - TERMINADA
      - CANCELADA
      type: string
      description: |-
        * `PRE VENTA` - PRE VENTA
        * `VENTA COMANDERA` - VENTA COMANDERA
        * `EN CURSO` - EN CURSO
        * `TERMINADA` - TERMINADA
        * `CANCELADA` - CANCELADA
    FaseEa6Enum:
      enum:
      - FASE PROCESO
      - FASE TERMINADA
      type: string
      description: |-
        * `FASE PROCESO` - FASE PROCESO
        * `FASE TERMINADA` - FASE TERMINADA
    FinalizarRepartoRequest:
      type: object
      properties:
        reparto_id:
          type: integer
          description: ID del embarque/reparto a finalizar
      required:
      - reparto_id
    FinalizarRepartoResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        reparto_id:
          type: integer
        fase:
          type: string
      required:
      - fase
      - message
      - reparto_id
      - success
    GastoDeleteResponse:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    GastoTipoEnum:
      enum:
      - GASTO VIATICO XALAPA
      - GASTO VIATICO CORDOBA
      - GASTO INSUMOS PLASTICOS
      - GASTO MECANICO
      - OTRO
      type: string
      description: |-
        * `GASTO VIATICO XALAPA` - GASTO VIATICO XALAPA
        * `GASTO VIATICO CORDOBA` - GASTO VIATICO CORDOBA
        * `GASTO INSUMOS PLASTICOS` - GASTO INSUMOS PLASTICOS
        * `GASTO MECANICO` - GASTO MECANICO
        * `OTRO` - OTRO
    GastosCompraCreate:
      type: object
      description: Serializer para los gastos asociados a una compra
      properties:
        compra:
          type: integer
          description: 'ID de la compra asociada (solo activas, puede ser un entero
            o {"id": <pk>})'
        descripcion:
          type: string
          title: Descripción
          maxLength: 250
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        concepto:
          type: string
          maxLength: 150
      required:
      - compra
      - concepto
      - descripcion
      - monto
    GastosCompraMultipleCreate:
      type: object
      description: Serializer para crear múltiples gastos de compra
      properties:
        gastos:
          type: array
          items:
            $ref: '#/components/schemas/GastosCompraCreate'
      required:
      - gastos
    GastosMultipleCreateResponse:
      type: object
      properties:
        detail:
          type: string
        gastos_creados:
          type: integer
        gastos:
          type: array
          items:
            $ref: '#/components/schemas/CompraGastoRetrieve'
      required:
      - detail
      - gastos
      - gastos_creados
    Group:
      type: object
      description: Serializer para grupos con gestión de permisos
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Nombre
          maxLength: 150
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          readOnly: true
        permission_ids:
          type: array
          items:
            type: integer
          writeOnly: true
          description: Lista de IDs de permisos a asignar al grupo
        users_count:
          type: string
          readOnly: true
        permissions_count:
          type: string
          readOnly: true
      required:
      - id
      - name
      - permissions
      - permissions_count
      - users_count
    GroupMini:
      type: object
      description: Serializer simplificado para grupos (para listas)
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Nombre
          maxLength: 150
        users_count:
          type: string
          readOnly: true
        permissions_count:
          type: string
          readOnly: true
      required:
      - id
      - name
      - permissions_count
      - users_count
    InformacionCliente:
      type: object
      description: Serializer optimizado para información completa del cliente con
        sus últimas compras
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          nullable: true
          title: Código
          maxLength: 20
        get_full_name:
          type: string
          readOnly: true
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        apellido_paterno:
          type: string
          nullable: true
          maxLength: 200
        apellido_materno:
          type: string
          nullable: true
          maxLength: 200
        razon_social:
          type: string
          nullable: true
          title: Razón social
          maxLength: 180
        tipo_persona:
          nullable: true
          title: Tipo de Persona
          oneOf:
          - $ref: '#/components/schemas/TipoPersonaEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 15
        email:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 150
        rfc:
          type: string
          nullable: true
          maxLength: 15
        tipo:
          allOf:
          - $ref: '#/components/schemas/TipoCb6Enum'
          title: Tipo de Cliente
        limite_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        total_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        ultimos_productos_comprados:
          type: array
          items:
            type: object
            properties:
              producto_id:
                type: integer
              producto_codigo:
                type: string
              producto_nombre:
                type: string
              ultima_cantidad:
                type: integer
              ultimo_precio:
                type: number
                format: decimal
              fecha_ultima_compra:
                type: string
                format: date
              venta_codigo:
                type: string
          readOnly: true
        adeudo:
          type: boolean
          readOnly: true
        total_ventas:
          type: object
          properties:
            cantidad_ventas:
              type: integer
            monto_total:
              type: number
              format: decimal
            promedio_venta:
              type: number
              format: decimal
          readOnly: true
        productos_favoritos:
          type: array
          items:
            type: object
            properties:
              producto_id:
                type: integer
                description: ID del producto
              producto_codigo:
                type: string
                description: Código del producto
              producto_nombre:
                type: string
                description: Nombre del producto
              veces_comprado:
                type: integer
                description: Número de veces que ha comprado este producto
              total_cantidad:
                type: number
                format: decimal
                description: Cantidad total comprada de este producto
          description: Top 10 productos más comprados por el cliente
          readOnly: true
        ventas_recientes:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                description: ID de la venta
              codigo:
                type: string
                description: Código de la venta
              pertenece:
                type: string
                description: Almacén al que pertenece la venta
              ruta:
                type: string
                description: Ruta de la venta
              fase:
                type: string
                description: Fase de la venta
              total:
                type: number
                format: decimal
                description: Total de la venta
              productos_count:
                type: integer
                description: Cantidad de productos en la venta
              created_at:
                type: string
                format: date-time
                description: Fecha de creación de la venta
              updated_at:
                type: string
                format: date-time
                description: Fecha de actualización de la venta
              created_by:
                type: string
                description: Usuario que creó la venta
              updated_by:
                type: string
                description: Usuario que actualizó la venta
          description: Últimas 10 ventas terminadas del cliente
          readOnly: true
      required:
      - adeudo
      - get_full_name
      - id
      - limite_credito
      - productos_favoritos
      - total_credito
      - total_ventas
      - ultimos_productos_comprados
      - ventas_recientes
    IniciarRepartoRequest:
      type: object
      properties:
        embarque_id:
          type: integer
          description: ID del embarque a iniciar
        encargado_id:
          type: integer
          description: ID del encargado del reparto (opcional)
        nota:
          type: string
          description: Nota adicional (opcional)
      required:
      - embarque_id
    IniciarRepartoResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        embarque_id:
          type: integer
        fase:
          type: string
        fecha_salida:
          type: string
          format: date-time
      required:
      - embarque_id
      - fase
      - fecha_salida
      - message
      - success
    InsidenciaMini:
      type: object
      description: Serializer liviano para listado de insidencias
      properties:
        id:
          type: integer
          readOnly: true
        descripcion:
          type: string
          title: Descripción de la Insidencia
        resuelta:
          type: boolean
          title: Insidencia Resuelta
        created_at:
          type: string
          format: date-time
          readOnly: true
        total_lotes:
          type: string
          readOnly: true
        lotes_atendidos:
          type: string
          readOnly: true
      required:
      - created_at
      - descripcion
      - id
      - lotes_atendidos
      - total_lotes
    InventarioAlmacen:
      type: object
      description: Serializer para el inventario por almacén
      properties:
        almacen_id:
          type: integer
        almacen_nombre:
          type: string
        cantidad_total:
          type: number
          format: double
        lotes_count:
          type: integer
        costo_promedio:
          type: number
          format: double
      required:
      - almacen_id
      - almacen_nombre
      - cantidad_total
      - costo_promedio
      - lotes_count
    InventarioAlmacenView:
      type: object
      description: |-
        Serializer para representar el inventario completo de un almacén.
        Incluye información del almacén y lista de productos ordenados por cantidad descendente.
      properties:
        almacen_id:
          type: integer
          readOnly: true
          description: ID único del almacén
        almacen_nombre:
          type: string
          readOnly: true
          description: Nombre del almacén
          maxLength: 200
        encargado_nombre:
          type: string
          readOnly: true
          description: Nombre completo del encargado del almacén
        productos:
          type: array
          items:
            $ref: '#/components/schemas/InventarioProductoView'
          readOnly: true
          description: Lista de productos en el almacén ordenados por cantidad disponible
            (mayor a menor)
      required:
      - almacen_id
      - almacen_nombre
      - encargado_nombre
      - productos
    InventarioPorAlmacen:
      type: object
      description: Serializer principal para mostrar inventario completo por almacén
      properties:
        almacen_id:
          type: integer
          readOnly: true
        almacen_nombre:
          type: string
          readOnly: true
        almacen_tipo:
          type: string
          readOnly: true
        fecha_consulta:
          type: string
          format: date-time
          readOnly: true
        total_productos:
          type: integer
          readOnly: true
        total_lotes:
          type: integer
          readOnly: true
        valor_total_inventario:
          type: string
          format: decimal
          pattern: ^-?\d{0,13}(?:\.\d{0,2})?$
          readOnly: true
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoInventario'
          readOnly: true
      required:
      - almacen_id
      - almacen_nombre
      - almacen_tipo
      - fecha_consulta
      - productos
      - total_lotes
      - total_productos
      - valor_total_inventario
    InventarioProductoView:
      type: object
      description: |-
        Serializer para representar un producto en el inventario.
        Incluye información del producto y su cantidad disponible.
      properties:
        producto_id:
          type: integer
          readOnly: true
          description: ID único del producto
        producto_nombre:
          type: string
          readOnly: true
          description: Nombre completo del producto
          maxLength: 150
        producto_clave:
          type: string
          readOnly: true
          description: Clave o código del producto
          maxLength: 30
        producto_unidad:
          type: string
          readOnly: true
          description: Nombre de la unidad de medida del producto
        producto_unidad_clave:
          type: string
          readOnly: true
          description: Clave SAT de la unidad de medida
        cantidad_disponible:
          type: integer
          readOnly: true
          description: Cantidad total disponible en el almacén (suma de todos los
            lotes)
      required:
      - cantidad_disponible
      - producto_clave
      - producto_id
      - producto_nombre
      - producto_unidad
      - producto_unidad_clave
    LoteEntrada:
      type: object
      properties:
        lote:
          type: integer
          description: Lote relacionado
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          description: Cantidad a ingresar del lote
      required:
      - cantidad
      - lote
    LoteInventario:
      type: object
      description: Serializer para los lotes de inventario
      properties:
        id:
          type: integer
          readOnly: true
        producto_id:
          type: integer
          readOnly: true
        producto_nombre:
          type: string
          readOnly: true
        unidad_medida:
          type: string
          readOnly: true
          nullable: true
        unidad_clave:
          type: string
          readOnly: true
          nullable: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        costo_unitario:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        fecha_vencimiento:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        fecha_ingreso:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        ubicacion:
          type: string
          readOnly: true
          nullable: true
        estado:
          type: string
          readOnly: true
      required:
      - cantidad
      - costo_unitario
      - estado
      - fecha_ingreso
      - fecha_vencimiento
      - id
      - producto_id
      - producto_nombre
      - ubicacion
      - unidad_clave
      - unidad_medida
    LoteMovimiento:
      type: object
      properties:
        lote:
          type: string
          description: Número de lote
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          description: Cantidad a mover del lote
      required:
      - cantidad
      - lote
    LotesMovimiento:
      type: object
      description: Serializer para los lotes en un movimiento de inventario
      properties:
        lote:
          type: integer
          description: ID o dic con el id del lote
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,5})?$
          description: Cantidad del lote a mover (debe ser mayor a 0)
      required:
      - cantidad
      - lote
    LotesProductoTransformacion:
      type: object
      description: Serializer para los lotes en un movimiento de inventario
      properties:
        lote:
          type: integer
          description: ID o dic con el id del lote
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,5})?$
          description: Cantidad del lote a mover (debe ser mayor a 0)
      required:
      - cantidad
      - lote
    MetadatosAbastecimiento:
      type: object
      description: Serializer para metadatos del abastecimiento
      properties:
        referencia:
          type: string
          description: Referencia del abastecimiento
        nota:
          type: string
          description: Nota adicional del abastecimiento
        fecha_proceso:
          type: string
          format: date-time
          description: Fecha y hora del procesamiento
        procesado_por:
          allOf:
          - $ref: '#/components/schemas/UsuarioProcesador'
          description: Usuario que procesó el abastecimiento
      required:
      - fecha_proceso
      - nota
      - procesado_por
      - referencia
    MetodoPago:
      type: object
      description: Serializer para cada método de pago en una transacción de caja
      properties:
        metodo_pago:
          type: integer
          description: 'ID del método de pago o dic {id: <id>}'
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          description: Monto asignado al método de pago
        referencia:
          type: string
          nullable: true
          description: Referencia del pago (número de transferencia, cheque, etc.)
          maxLength: 100
      required:
      - metodo_pago
      - monto
    MetodoPagoCajaApertura:
      type: object
      description: Serializer para cada método de pago en una transacción de caja
      properties:
        metodo_pago:
          type: integer
          description: 'ID del método de pago o dic {id: <id>}'
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          description: Monto asignado al método de pago
        referencia:
          type: string
          nullable: true
          description: Referencia del pago (número de transferencia, cheque, etc.)
          maxLength: 100
      required:
      - metodo_pago
      - monto
    MetodoPagoMini:
      type: object
      description: Serializer mini para método de pago (solo lectura)
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
      required:
      - id
      - nombre
    MiDataResponse:
      type: object
      description: Serializer para la respuesta de los datos del usuario autenticado
      properties:
        username:
          type: string
          description: Nombre de usuario
        email:
          type: string
          format: email
          description: Correo electrónico del usuario
        full_name:
          type: string
          description: Nombre completo del usuario
        permisos:
          type: array
          items:
            type: string
          description: Lista de permisos del usuario
        is_superuser:
          type: boolean
          description: Indica si el usuario es superusuario
        is_staff:
          type: boolean
          description: Indica si el usuario es staff
        is_active:
          type: boolean
          description: Indica si el usuario está activo
        caja_abierta:
          type: boolean
          description: Indica si el usuario tiene una caja abierta
        mi_almacen_nombre:
          type: string
          nullable: true
          description: Nombre del almacén asignado al usuario
        mi_almacen_id:
          type: integer
          nullable: true
          description: ID del almacén asignado al usuario
      required:
      - caja_abierta
      - email
      - full_name
      - is_active
      - is_staff
      - is_superuser
      - mi_almacen_id
      - mi_almacen_nombre
      - permisos
      - username
    MotivoEnum:
      enum:
      - BAJA EXISTENCIA
      - PREVENTA INCOMPLETA
      type: string
      description: |-
        * `BAJA EXISTENCIA` - BAJA EXISTENCIA
        * `PREVENTA INCOMPLETA` - PREVENTA INCOMPLETA
    MovimientoCajaTransaccion:
      type: object
      description: Serializer de respuesta para el registro de pagos en caja
      properties:
        referencia:
          type: string
          readOnly: true
          nullable: true
          title: Referencia de la Transacción
        metodo_pago:
          type: integer
          readOnly: true
          nullable: true
          title: Método de Pago
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        created_at:
          type: string
          readOnly: true
        tipo:
          allOf:
          - $ref: '#/components/schemas/MovimientoCajaTransaccionTipoEnum'
          readOnly: true
          title: Tipo de Transacción
        descripcion:
          type: string
          readOnly: true
          nullable: true
          title: Descripción
        id:
          type: integer
          readOnly: true
        caja_apertura:
          type: integer
          readOnly: true
          title: Apertura de Caja
        metodo_name:
          type: string
          readOnly: true
        gasto_tipo:
          readOnly: true
          nullable: true
          title: Tipo de Gasto
          oneOf:
          - $ref: '#/components/schemas/GastoTipoEnum'
          - $ref: '#/components/schemas/NullEnum'
      required:
      - caja_apertura
      - created_at
      - descripcion
      - gasto_tipo
      - id
      - metodo_name
      - metodo_pago
      - monto
      - referencia
      - tipo
    MovimientoCajaTransaccionTipoEnum:
      enum:
      - ENTRADA
      - SALIDA
      - GASTO
      type: string
      description: |-
        * `ENTRADA` - ENTRADA
        * `SALIDA` - SALIDA
        * `GASTO` - GASTO
    MovimientoCajaVenta:
      type: object
      description: |-
        Serializer para registrar pagos de una venta en la caja

        Este serializer:
        1. Valida que el usuario tenga una caja abierta
        2. Valida que el total de pagos coincida con el total de la venta (o sea un abono)
        3. Crea los registros en CajaTransaccion
        4. Crea los registros en PagosVenta
        5. Actualiza el total_pagado de la venta
      properties:
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPagoCajaApertura'
          description: Lista de métodos de pago y montos asociados al movimiento
        venta:
          type: integer
          description: 'ID de la venta o dic {id: <id>}'
        pagar_con_credito:
          type: boolean
          default: false
          description: Indica si se debe usar crédito del cliente para este pago
        pago_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          nullable: true
          default: '0.00'
          description: Monto a pagar con crédito del cliente (si aplica)
        caja_apertura_id:
          type: integer
          readOnly: true
        cajero:
          type: string
          readOnly: true
        total_pagos:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        nuevo_saldo:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
      required:
      - caja_apertura_id
      - cajero
      - nuevo_saldo
      - total_pagos
      - venta
    MovimientoEmbarqueCreateRuta:
      type: object
      properties:
        ruta:
          type: integer
          description: 'ID de la ruta o dic {id: <id>}'
        productos_embarque:
          type: array
          items:
            $ref: '#/components/schemas/ProductosMovimientoLote'
          description: Lista de productos a mover en el embarque con sus respectivos
            lotes
        productos_tara:
          type: array
          items:
            $ref: '#/components/schemas/ProductosMovimientoLote'
          description: Lista de productos en tara abierta con sus respectivos lotes
            (opcional)
      required:
      - productos_embarque
      - ruta
    MovimientoEntrada:
      type: object
      properties:
        solicitud_traspaso:
          type: integer
          nullable: true
          description: 'Solicitud de traspaso relacionada id o {"id": <pk>}'
        movimiento:
          type: integer
          description: Movimiento de entrada relacionado
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoEntrada'
          description: Lista de productos en el movimiento de entrada
      required:
      - movimiento
      - productos
    MovimientoEntradaAbastecimiento:
      type: object
      properties:
        compra:
          type: integer
          description: ID de la compra relacionada al abastecimiento
        items:
          type: array
          items:
            $ref: '#/components/schemas/AbastecimientoItem'
          description: Lista de productos a abastecer
        nota:
          type: string
          description: Notas adicionales sobre el abastecimiento
      required:
      - compra
      - items
    MovimientoEnum:
      enum:
      - ENTRADA ABASTECIMIENTO
      - ENTRADA TRASPASO
      - ENTRADA TRASPASO VIRTUAL
      - ENTRADA EMBARQUE
      - ENTRADA VENTA CANCELADA
      - ENTRADA TRANSFORMACION
      - SALIDA VENTA
      - SALIDA TRASPASO
      - SALIDA MERMA
      - SALIDA TRANSFORMACION
      - SALIDA TRASPASO VIRTUAL
      - SALIDA EMBARQUE
      - AJUSTE MANUAL
      type: string
      description: |-
        * `ENTRADA ABASTECIMIENTO` - ENTRADA ABASTECIMIENTO
        * `ENTRADA TRASPASO` - ENTRADA TRASPASO
        * `ENTRADA TRASPASO VIRTUAL` - ENTRADA TRASPASO VIRTUAL
        * `ENTRADA EMBARQUE` - ENTRADA EMBARQUE
        * `ENTRADA VENTA CANCELADA` - ENTRADA VENTA CANCELADA
        * `ENTRADA TRANSFORMACION` - ENTRADA TRANSFORMACION
        * `SALIDA VENTA` - SALIDA VENTA
        * `SALIDA TRASPASO` - SALIDA TRASPASO
        * `SALIDA MERMA` - SALIDA MERMA
        * `SALIDA TRANSFORMACION` - SALIDA TRANSFORMACION
        * `SALIDA TRASPASO VIRTUAL` - SALIDA TRASPASO VIRTUAL
        * `SALIDA EMBARQUE` - SALIDA EMBARQUE
        * `AJUSTE MANUAL` - AJUSTE MANUAL
    MovimientoPrincipal:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        detalle_nota:
          type: string
          readOnly: true
        folio:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        almacen_salida:
          type: string
          readOnly: true
        almacen_destino:
          type: string
          readOnly: true
          nullable: true
        movimiento:
          type: string
          readOnly: true
        tipo:
          type: string
          readOnly: true
        referencia:
          type: string
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          readOnly: true
        nota:
          type: string
          readOnly: true
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoMovimiento'
          description: Lista de productos en el movimiento
      required:
      - almacen_destino
      - almacen_salida
      - cantidad
      - created_at
      - detalle_nota
      - folio
      - id
      - movimiento
      - nota
      - productos
      - referencia
      - tipo
    MovimientoPrincipalResponse:
      type: object
      description: Serializer para el movimiento principal en la respuesta
      properties:
        id:
          type: integer
          description: ID del movimiento principal creado
        referencia:
          type: string
          description: Referencia del movimiento
        tipo:
          type: string
          description: Tipo de movimiento (TIPO_ENTRADA)
        movimiento:
          type: string
          description: Subtipo específico (ENTRADA_ABASTECIMIENTO)
        fase:
          type: string
          description: Fase del movimiento (FASE_TERMINADA)
      required:
      - fase
      - id
      - movimiento
      - referencia
      - tipo
    MovimientoSalida:
      type: object
      properties:
        almacen_origen:
          type: integer
          nullable: true
          description: ID o dic con el id del almacén de origen o almacén de la operación,
            POR DEFECTO SE TOMA EL ALMACÉN DEL USUARIO
        almacen_destino:
          type: integer
          nullable: true
          description: ID o dic con el id del almacén de destino que recibe el producto
            (SI ES TRASPASO)
        nota:
          type: string
          description: Nota adicional sobre el movimiento
          maxLength: 255
        tipo_display:
          type: string
          readOnly: true
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductosMovimientoLote'
          description: Lista de productos a mover
      required:
      - productos
      - tipo_display
    MovimientoSalidaDetalle:
      type: object
      description: Serializer para mostrar el detalle completo de un movimiento de
        salida
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        almacen:
          type: integer
          nullable: true
          description: Almacén donde se realiza el movimiento
        almacen_salida_nombre:
          type: string
          readOnly: true
        almacen_destino:
          type: integer
          nullable: true
          description: Almacén de destino para el movimiento
        almacen_destino_nombre:
          type: string
          readOnly: true
        tipo:
          $ref: '#/components/schemas/Tipo5dcEnum'
        tipo_display:
          type: string
          readOnly: true
        movimiento:
          $ref: '#/components/schemas/MovimientoEnum'
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        nota:
          type: string
          nullable: true
        referencia:
          type: string
          nullable: true
          maxLength: 150
        fase:
          $ref: '#/components/schemas/FaseEa6Enum'
        productos_movimiento:
          type: array
          items:
            $ref: '#/components/schemas/ProductosMovimientoDetalle'
          readOnly: true
      required:
      - almacen_destino_nombre
      - almacen_salida_nombre
      - created_at
      - created_by
      - id
      - movimiento
      - productos_movimiento
      - tipo_display
      - updated_at
    MovimimientosMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        folio:
          type: string
          readOnly: true
        referencia:
          type: string
          nullable: true
          maxLength: 150
        tipo:
          $ref: '#/components/schemas/Tipo5dcEnum'
        movimiento:
          $ref: '#/components/schemas/MovimientoEnum'
        fase:
          $ref: '#/components/schemas/FaseEa6Enum'
        almacen_origen:
          type: string
          readOnly: true
        almacen_destino:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        detalle_nota:
          type: string
          readOnly: true
      required:
      - almacen_destino
      - almacen_origen
      - created_at
      - detalle_nota
      - folio
      - id
      - movimiento
    Municipio:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 100
      required:
      - id
      - nombre
    MyTokenObtainPair:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
      required:
      - password
      - username
    NotFound:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    Notificacion:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        titulo:
          type: string
          maxLength: 255
        mensaje:
          type: string
        tipo:
          $ref: '#/components/schemas/NotificacionTipoEnum'
        url_destino:
          type: string
          format: uri
          nullable: true
          description: Enlace opcional al que redirige la notificación.
          maxLength: 200
        leida:
          type: boolean
        creada_el:
          type: string
          format: date-time
        leida_el:
          type: string
          format: date-time
          nullable: true
        usuario:
          type: integer
          description: Usuario que recibirá la notificación.
        leida_por:
          type: integer
          nullable: true
          description: Usuario que marcó la notificación como leída.
      required:
      - id
      - mensaje
      - titulo
      - usuario
    NotificacionTipoEnum:
      enum:
      - info
      - success
      - warning
      - error
      - mensaje
      type: string
      description: |-
        * `info` - info
        * `success` - success
        * `warning` - warning
        * `error` - error
        * `mensaje` - mensaje
    NullEnum:
      enum:
      - null
    OrdenCompra:
      type: object
      description: Serializer completo para órden de compra con sus detalles
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        proveedor:
          type: integer
          description: 'ID del proveedor (solo activos, puede ser un entero o {"id":
            <pk>})'
        proveedor_obj:
          allOf:
          - $ref: '#/components/schemas/ProveedorMini'
          readOnly: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado9cdEnum'
          readOnly: true
        total_productos:
          type: string
          readOnly: true
        encargado:
          type: integer
          description: 'ID del encargado (solo activos, puede ser un entero o {"id":
            <pk>})'
        encargado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
        condicion_pago:
          nullable: true
          default: CONTADO
          description: |-
            Condición de pago

            * `CONTADO` - CONTADO
            * `CRÉDITO` - CRÉDITO
            * `MIXTA` - MIXTA
          oneOf:
          - $ref: '#/components/schemas/CondicionPagoEnum'
          - $ref: '#/components/schemas/NullEnum'
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/OrdenCompraDetalle'
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPago'
          description: Lista de métodos de pago asociados a la orden de compra
        pagos_detalle:
          type: string
          readOnly: true
        pagar_con_credito:
          type: boolean
          default: false
          description: Indica si se pagará con crédito del proveedor
        pago_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          nullable: true
          default: '0.0000'
          description: Monto a pagar con crédito del proveedor
      required:
      - codigo
      - created_at
      - created_by
      - detalles
      - encargado
      - encargado_obj
      - estado
      - id
      - pagos_detalle
      - proveedor
      - proveedor_obj
      - total_productos
      - updated_at
      - updated_by
    OrdenCompraDetalle:
      type: object
      description: Serializer para los detalles de una orden de compra
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
          description: 'ID del producto (solo activos, puede ser un entero o {"id":
            <pk>})'
        producto_obj:
          allOf:
          - $ref: '#/components/schemas/ProductoMini'
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        precio:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          title: Precio Unitario
      required:
      - cantidad
      - id
      - producto
      - producto_obj
    OrdenCompraEstado:
      type: object
      description: Serializer específico para actualizar solo el estado de una orden
        de compra
      properties:
        estado:
          $ref: '#/components/schemas/Estado9cdEnum'
    OrdenCompraMini:
      type: object
      description: Serializer mini para listar órdenes de compra básicas
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        proveedor_nombre:
          type: string
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado9cdEnum'
        created_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        encargado_nombre:
          type: string
          readOnly: true
      required:
      - codigo
      - created_at
      - created_by
      - encargado_nombre
      - id
      - proveedor_nombre
      - updated_at
      - updated_by
    OrdenCompraMiniListError:
      type: object
      properties:
        detail:
          type: string
          default: Error en los parámetros de filtrado
    OrigenEnum:
      enum:
      - MÉXICO
      - ESTADOS UNIDOS
      - OTRO
      type: string
      description: |-
        * `MÉXICO` - MÉXICO
        * `ESTADOS UNIDOS` - ESTADOS UNIDOS
        * `OTRO` - OTRO
    PaginatedAlmacenList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Almacen'
    PaginatedCajaAperturaMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CajaAperturaMini'
    PaginatedCajaList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Caja'
    PaginatedCategoriaClienteList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CategoriaCliente'
    PaginatedCategoriaList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Categoria'
    PaginatedClienteList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Cliente'
    PaginatedCompraGastoListList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CompraGastoList'
    PaginatedCompraList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Compra'
    PaginatedCreditoClienteListList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CreditoClienteList'
    PaginatedCreditoClienteMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CreditoClienteMini'
    PaginatedCreditoProveedorListList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CreditoProveedorList'
    PaginatedCreditoProveedorMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/CreditoProveedorMini'
    PaginatedEmbarqueMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/EmbarqueMini'
    PaginatedEmpresaList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Empresa'
    PaginatedGroupMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/GroupMini'
    PaginatedMovimientoCajaTransaccionList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/MovimientoCajaTransaccion'
    PaginatedMovimimientosMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/MovimimientosMini'
    PaginatedOrdenCompraList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/OrdenCompra'
    PaginatedOrdenCompraMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/OrdenCompraMini'
    PaginatedPagosCreditoList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/PagosCredito'
    PaginatedPagosCreditoProveedorList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/PagosCreditoProveedor'
    PaginatedPermissionList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
    PaginatedProductoList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Producto'
    PaginatedProductosSolicitudMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/ProductosSolicitudMini'
    PaginatedProveedorList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Proveedor'
    PaginatedRutasList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Rutas'
    PaginatedSolicitudTraspasoListList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/SolicitudTraspasoList'
    PaginatedSucursalList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/Sucursal'
    PaginatedTransformacionListList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/TransformacionList'
    PaginatedUnidadVehicularList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/UnidadVehicular'
    PaginatedUsuarioListList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/UsuarioList'
    PaginatedVentaMiniList:
      type: object
      required:
      - count
      - results
      properties:
        count:
          type: integer
          example: 123
        next:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=400&limit=100
        previous:
          type: string
          nullable: true
          format: uri
          example: http://api.example.org/accounts/?offset=200&limit=100
        results:
          type: array
          items:
            $ref: '#/components/schemas/VentaMini'
    PagoCreditoCancelar:
      type: object
      description: |-
        Serializer para cancelar un abono de crédito.

        Elimina el pago y revierte el monto en el crédito y el saldo del cliente.
      properties:
        pago_id:
          type: integer
          description: ID del pago a cancelar
        motivo:
          type: string
          default: ''
          description: Motivo de la cancelación
          maxLength: 500
      required:
      - pago_id
    PagoCreditoCreateMasivo:
      type: object
      description: |-
        Serializer para registrar pagos masivos a múltiples créditos

        Permite registrar pagos a varios créditos en una sola petición,
        cada uno con sus propios métodos de pago.
      properties:
        lista:
          type: array
          items:
            $ref: '#/components/schemas/PagoCreditoCreateSingular'
          description: Lista de créditos con sus pagos a registrar
      required:
      - lista
    PagoCreditoCreateSingular:
      type: object
      properties:
        credito:
          type: integer
          description: 'ID del crédito o dic {id: <id>}'
        cantidad_pagar:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          description: Cantidad a pagar del crédito
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPagoCajaApertura'
          description: Lista de pagos a registrar en el crédito
      required:
      - cantidad_pagar
      - credito
      - pagos
    PagoCreditoProveedorCreateMasivo:
      type: object
      description: |-
        Serializer para crear pagos masivos a múltiples créditos de proveedor

        Estructura esperada:
        {
            "lista": [
                {
                    "credito": 1,
                    "pagos": [
                        {"metodo_pago": 1, "monto": 500.00},
                        {"metodo_pago": 2, "monto": 300.00}
                    ]
                },
                {
                    "credito": 2,
                    "pagos": [
                        {"metodo_pago": 1, "monto": 1000.00}
                    ]
                }
            ]
        }
      properties:
        lista:
          type: array
          items:
            $ref: '#/components/schemas/PagoCreditoProveedorCreateSingular'
      required:
      - lista
    PagoCreditoProveedorCreateSingular:
      type: object
      description: |-
        Serializer para crear un pago singular a un crédito de proveedor

        Validaciones:
        - El crédito debe existir y no estar liquidado
        - El monto total de pagos no debe exceder el adeudo
        - cantidad_pagar es el monto que se aplicará al crédito
        - Si total de pagos > cantidad_pagar con EFECTIVO, se calcula cambio
      properties:
        credito:
          type: integer
          description: ID del crédito de proveedor a pagar
        cantidad_pagar:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          description: Monto total a pagar al crédito (puede ser menor al total de
            pagos si hay cambio)
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPagoCajaApertura'
      required:
      - cantidad_pagar
      - credito
      - pagos
    PagoCreditoUpdate:
      type: object
      description: |-
        Serializer para actualizar un abono de crédito.

        Elimina los pagos existentes y las transacciones de caja asociadas,
        luego crea los nuevos pagos.
      properties:
        credito:
          type: integer
          description: 'ID del crédito o dic {id: <id>}'
        cantidad_pagar:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          description: Nueva cantidad a pagar del crédito
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPagoCajaApertura'
          description: Lista de nuevos pagos a registrar en el crédito
        pago_anterior_id:
          type: integer
          description: ID del pago anterior a eliminar/actualizar
      required:
      - cantidad_pagar
      - credito
      - pago_anterior_id
      - pagos
    PagosCredito:
      type: object
      description: Serializer para PagosCredito
      properties:
        id:
          type: integer
          readOnly: true
        credito:
          type: integer
          nullable: true
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        metodo_pago:
          type: integer
          nullable: true
        metodo_pago_nombre:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Fecha de creación
        created_by:
          type: integer
          readOnly: true
          nullable: true
        created_by_username:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          title: Estado
      required:
      - created_at
      - created_by
      - created_by_username
      - id
      - metodo_pago_nombre
      - monto
    PagosCreditoMini:
      type: object
      description: Serializer mini para PagosCredito
      properties:
        id:
          type: integer
          readOnly: true
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        metodo_pago:
          type: integer
          nullable: true
        pago_name:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Fecha de creación
        created_by:
          type: integer
          nullable: true
        creado_por_name:
          type: string
          readOnly: true
      required:
      - creado_por_name
      - created_at
      - id
      - monto
      - pago_name
    PagosCreditoProveedor:
      type: object
      description: Serializer para listar pagos de crédito de proveedor
      properties:
        id:
          type: integer
          readOnly: true
        credito_id:
          type: integer
          readOnly: true
        proveedor:
          type: string
          readOnly: true
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        metodo_pago:
          type: string
          readOnly: true
        fecha_pago:
          type: string
          format: date-time
          readOnly: true
        created_by_nombre:
          type: string
          readOnly: true
        token:
          type: string
          format: uuid
          readOnly: true
      required:
      - created_by_nombre
      - credito_id
      - fecha_pago
      - id
      - metodo_pago
      - monto
      - proveedor
      - token
    PagosVenta:
      type: object
      description: Serializer para los pagos de una compra
      properties:
        id:
          type: integer
          readOnly: true
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        metodo_pago:
          type: integer
          description: 'ID del método de pago (puede ser un entero o {"id": <pk>})'
        metodo_pago_obj:
          allOf:
          - $ref: '#/components/schemas/MetodoPagoMini'
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        referencia:
          type: string
          description: Referencia del pago (opcional)
          maxLength: 100
      required:
      - created_at
      - created_by
      - id
      - metodo_pago
      - metodo_pago_obj
      - monto
      - updated_at
      - updated_by
    PatchedAlmacen:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        codigo:
          type: string
          readOnly: true
          description: Código del almacén
          maxLength: 10
          minLength: 5
        encargado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
        encargado:
          type: integer
          nullable: true
          description: 'ID del encargado del almacén o diccionario {''id'': <pk>}'
        empresa:
          type: integer
          nullable: true
          description: 'ID de la empresa o diccionario {''id'': <pk>}'
        empresa_obj:
          allOf:
          - $ref: '#/components/schemas/EmpresaMini'
          readOnly: true
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionAlmacen'
          nullable: true
          description: Dirección del almacén
        direccion_obj:
          allOf:
          - $ref: '#/components/schemas/DireccionAlmacenObj'
          readOnly: true
          description: Objeto de dirección del almacén
        tipo:
          type: string
          readOnly: true
        nombre:
          type: string
          maxLength: 200
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        comentarios:
          type: string
          nullable: true
        info_extra:
          type: string
          nullable: true
          title: Información Extra
        is_cedis:
          type: boolean
          title: Es CEDIS
        is_ruta_fijo:
          type: boolean
          title: Es Ruta Fijo
        pertence:
          type: integer
          nullable: true
          title: Pertenece a o (obtener almacen tara)
    PatchedCaja:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre de la Caja
          maxLength: 100
        tipo:
          allOf:
          - $ref: '#/components/schemas/CajaTipoEnum'
          title: Tipo de Caja
        sucursal:
          type: integer
          nullable: true
          description: 'ID de la sucursal o dic (id: <id>) requerido si es tipo SUCURSAL'
        sucursal_name:
          type: string
          readOnly: true
        ruta:
          type: integer
          nullable: true
          description: 'ID de la ruta o dic (id: <id>) requerido si es tipo RUTA'
        ruta_name:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
    PatchedCajaApertura:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        caja:
          type: integer
          description: 'ID de la caja o dic (id: <id>)'
        usuario:
          type: integer
          nullable: true
          description: 'ID del usuario asignado (id: <id>)'
        monto_inicial:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        fecha_apertura:
          type: string
          format: date-time
          readOnly: true
        monto_final:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
          nullable: true
        is_abierta:
          type: boolean
          readOnly: true
          title: Caja Abierta
        caja_name:
          type: string
          readOnly: true
        usuario_name:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        estadisticas_ingresos:
          type: array
          items:
            $ref: '#/components/schemas/EstadisticaMetodoPago'
          readOnly: true
        estadisticas_salidas:
          type: array
          items:
            $ref: '#/components/schemas/EstadisticaMetodoPago'
          readOnly: true
        estadisticas_gastos:
          type: array
          items:
            $ref: '#/components/schemas/EstadisticaMetodoPago'
          readOnly: true
        total_ingresos:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        total_salidas:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        balance_neto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
        fecha_cierre:
          type: string
          readOnly: true
        efectivo_caja:
          type: string
          readOnly: true
    PatchedCambiarFaseMasivoRequest:
      type: object
      properties:
        solicitudes:
          type: array
          items: {}
          description: 'Array de IDs (enteros) o objetos con ''id''. Ejemplos: [1,
            2, 3] o [{''id'': 1}, {''id'': 2}]'
        fase:
          allOf:
          - $ref: '#/components/schemas/Fase576Enum'
          description: |-
            Nueva fase para todas las solicitudes

            * `SOLICITUD` - SOLICITUD
            * `ATENDIDO` - ATENDIDO
            * `CANCELADO` - CANCELADO
    PatchedCambiarFaseRequest:
      type: object
      properties:
        fase:
          allOf:
          - $ref: '#/components/schemas/Fase576Enum'
          description: |-
            Nueva fase para la solicitud

            * `SOLICITUD` - SOLICITUD
            * `ATENDIDO` - ATENDIDO
            * `CANCELADO` - CANCELADO
        observaciones:
          type: string
          description: Observaciones adicionales sobre el cambio de fase
    PatchedCategoria:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
          title: Descripción
    PatchedCategoriaCliente:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        nombre:
          type: string
          maxLength: 100
        limite_credito_max:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          title: Límite de Crédito máximo
        limite_credito_min:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          title: Límite de Crédito mínimo
        descripcion:
          type: string
          nullable: true
          title: Descripción
    PatchedCliente:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        limite_credito:
          type: number
          format: double
          nullable: true
          default: 0.0
        total_credito:
          type: number
          format: double
          readOnly: true
          default: 0.0
        plazos_semanas:
          type: integer
          nullable: true
          default: 0
        clasificacion:
          type: integer
          description: 'ID de la clasificación del cliente o diccionario {''id'':
            <pk>}'
        tipo:
          nullable: true
          default: ESTANDAR
          description: |-
            Tipo de cliente

            * `POTENCIAL` - Potencial
            * `ESTANDAR` - Estándar
            * `NO CREDITO` - No Crédito
            * `CREDITO SEMANAL` - Crédito Semanal
            * `EVENTUAL` - Eventual
            * `BUEN CLIENTE` - Buen Cliente
            * `PREMIUM` - Premium
          oneOf:
          - $ref: '#/components/schemas/TipoCb6Enum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        precio_tipo:
          nullable: true
          default: PÚBLICO
          description: |-
            Tipo de precio

            * `SEMI MAYOREO` - SEMI MAYOREO
            * `MAYOREO` - MAYOREO
            * `PÚBLICO` - PÚBLICO
          oneOf:
          - $ref: '#/components/schemas/PrecioTipoEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        clasificacion_name:
          type: string
          readOnly: true
          description: Nombre de la clasificación del cliente
        vendedor:
          type: integer
          nullable: true
          description: 'ID del vendedor asignado al cliente o diccionario {''id'':
            <pk>}'
        vendedor_name:
          type: string
          readOnly: true
          description: Nombre del vendedor
        vendedor_detalle:
          allOf:
          - $ref: '#/components/schemas/UsuarioDetalle'
          readOnly: true
          description: Detalle del vendedor asignado al cliente
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionCliente'
          nullable: true
          description: Direcciones asociadas al cliente
        direccion_obj:
          type: array
          items:
            $ref: '#/components/schemas/DireccionClienteObj'
          readOnly: true
        regimen_fiscal:
          type: integer
          description: 'ID del régimen fiscal del cliente o diccionario {''id'': <pk>}'
        regimen_fiscal_detalle:
          allOf:
          - $ref: '#/components/schemas/RegimenFiscalDetail'
          readOnly: true
          description: Detalle del régimen fiscal del cliente
        nombre_completo:
          type: string
          readOnly: true
          description: Nombre completo del cliente
        puede_pagar_credito:
          type: string
          readOnly: true
          description: Indica si el cliente puede realizar pagos a crédito
        rfc:
          type: string
          description: RFC del cliente
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        apellido_paterno:
          type: string
          nullable: true
          maxLength: 200
        apellido_materno:
          type: string
          nullable: true
          maxLength: 200
        razon_social:
          type: string
          nullable: true
          title: Razón social
          maxLength: 180
        tipo_persona:
          nullable: true
          title: Tipo de Persona
          oneOf:
          - $ref: '#/components/schemas/TipoPersonaEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 15
        email:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 150
        uso_cfdi:
          type: string
          nullable: true
          maxLength: 100
        sujeto_credito:
          type: boolean
          title: Sujeto a Crédito
    PatchedCompra:
      type: object
      description: Serializer completo para compra con sus detalles y pagos
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        is_app:
          type: boolean
          description: Indica si la compra fue creada desde la App Móvil
        orden_compra:
          type: integer
          nullable: true
          description: 'ID de la orden de compra (opcional, puede ser un entero o
            {"id": <pk>})'
        orden_compra_obj:
          allOf:
          - $ref: '#/components/schemas/OrdenCompraMini'
          readOnly: true
        proveedor:
          type: integer
          description: 'ID del proveedor (solo activos, puede ser un entero o {"id":
            <pk>})'
        proveedor_obj:
          allOf:
          - $ref: '#/components/schemas/ProveedorMini'
          readOnly: true
        almacen_destino:
          type: integer
          description: 'ID del almacén destino (solo activos, puede ser un entero
            o {"id": <pk>})'
        almacen_destino_obj:
          allOf:
          - $ref: '#/components/schemas/AlmacenMini'
          readOnly: true
        destino_is_cedis:
          type: boolean
          readOnly: true
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,23}(?:\.\d{0,2})?$
          readOnly: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado4abEnum'
          default: PROCESANDO
          description: |-
            Estado de la compra

            * `PROCESANDO` - PROCESANDO
            * `EN CAMINO` - EN CAMINO
            * `FINALIZADA` - FINALIZADA
            * `CANCELADA` - CANCELADA
        existe_diferencia:
          type: boolean
          readOnly: true
        tiempo_recorrido:
          type: integer
          maximum: 2147483647
          minimum: -2147483648
          nullable: true
        fecha_salida:
          type: string
          format: date
        latitud:
          type: string
          format: decimal
          pattern: ^-?\d{0,2}(?:\.\d{0,8})?$
          nullable: true
        longitud:
          type: string
          format: decimal
          pattern: ^-?\d{0,2}(?:\.\d{0,8})?$
          nullable: true
        nota:
          type: string
          nullable: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/CompraDetalle'
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        condicion_pago:
          nullable: true
          default: CONTADO
          description: |-
            Condición de pago

            * `CONTADO` - CONTADO
            * `CRÉDITO` - CRÉDITO
            * `MIXTA` - MIXTA
          oneOf:
          - $ref: '#/components/schemas/CondicionPagoEnum'
          - $ref: '#/components/schemas/NullEnum'
        pagos_detalle:
          type: string
          readOnly: true
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPago'
          description: Lista de métodos de pago asociados a la orden de compra
        pagar_con_credito:
          type: boolean
          default: false
          description: Indica si se pagará con crédito del proveedor
        pago_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          nullable: true
          default: '0.0000'
          description: Monto a pagar con crédito del proveedor
    PatchedCompraEstado:
      type: object
      description: Serializer específico para actualizar solo el estado de una compra
      properties:
        estado:
          $ref: '#/components/schemas/Estado4abEnum'
    PatchedEmpresa:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre o Razón Social
          maxLength: 255
        rfc:
          type: string
          maxLength: 13
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 15
        email:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 254
        direccion_fiscal:
          type: string
          nullable: true
          title: Dirección Fiscal
          description: Dirección fiscal de la empresa
        regimen_fiscal:
          type: integer
          nullable: true
          description: 'ID del régimen fiscal de la empresa (puede ser un entero o
            {"id": <pk>})'
        regimen_fiscal_detalle:
          allOf:
          - $ref: '#/components/schemas/RegimenFiscalDetail'
          readOnly: true
          description: Detalle del régimen fiscal de la empresa
        cuenta_clave:
          type: string
          nullable: true
          description: Cuenta clave de la empresa
          maxLength: 20
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
    PatchedGastosCompraCreate:
      type: object
      description: Serializer para los gastos asociados a una compra
      properties:
        compra:
          type: integer
          description: 'ID de la compra asociada (solo activas, puede ser un entero
            o {"id": <pk>})'
        descripcion:
          type: string
          title: Descripción
          maxLength: 250
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        concepto:
          type: string
          maxLength: 150
    PatchedGroup:
      type: object
      description: Serializer para grupos con gestión de permisos
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Nombre
          maxLength: 150
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/Permission'
          readOnly: true
        permission_ids:
          type: array
          items:
            type: integer
          writeOnly: true
          description: Lista de IDs de permisos a asignar al grupo
        users_count:
          type: string
          readOnly: true
        permissions_count:
          type: string
          readOnly: true
    PatchedNotificacion:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        titulo:
          type: string
          maxLength: 255
        mensaje:
          type: string
        tipo:
          $ref: '#/components/schemas/NotificacionTipoEnum'
        url_destino:
          type: string
          format: uri
          nullable: true
          description: Enlace opcional al que redirige la notificación.
          maxLength: 200
        leida:
          type: boolean
        creada_el:
          type: string
          format: date-time
        leida_el:
          type: string
          format: date-time
          nullable: true
        usuario:
          type: integer
          description: Usuario que recibirá la notificación.
        leida_por:
          type: integer
          nullable: true
          description: Usuario que marcó la notificación como leída.
    PatchedOrdenCompra:
      type: object
      description: Serializer completo para órden de compra con sus detalles
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        proveedor:
          type: integer
          description: 'ID del proveedor (solo activos, puede ser un entero o {"id":
            <pk>})'
        proveedor_obj:
          allOf:
          - $ref: '#/components/schemas/ProveedorMini'
          readOnly: true
        estado:
          allOf:
          - $ref: '#/components/schemas/Estado9cdEnum'
          readOnly: true
        total_productos:
          type: string
          readOnly: true
        encargado:
          type: integer
          description: 'ID del encargado (solo activos, puede ser un entero o {"id":
            <pk>})'
        encargado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
        condicion_pago:
          nullable: true
          default: CONTADO
          description: |-
            Condición de pago

            * `CONTADO` - CONTADO
            * `CRÉDITO` - CRÉDITO
            * `MIXTA` - MIXTA
          oneOf:
          - $ref: '#/components/schemas/CondicionPagoEnum'
          - $ref: '#/components/schemas/NullEnum'
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/OrdenCompraDetalle'
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/MetodoPago'
          description: Lista de métodos de pago asociados a la orden de compra
        pagos_detalle:
          type: string
          readOnly: true
        pagar_con_credito:
          type: boolean
          default: false
          description: Indica si se pagará con crédito del proveedor
        pago_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          nullable: true
          default: '0.0000'
          description: Monto a pagar con crédito del proveedor
    PatchedOrdenCompraEstado:
      type: object
      description: Serializer específico para actualizar solo el estado de una orden
        de compra
      properties:
        estado:
          $ref: '#/components/schemas/Estado9cdEnum'
    PatchedPisoMini:
      type: object
      description: Serializer ligero para pisos con información básica de zonas
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        almacen_nombre:
          type: string
          readOnly: true
        empresa_nombre:
          type: string
          readOnly: true
        zonas:
          type: array
          items:
            $ref: '#/components/schemas/ZonaMini'
          readOnly: true
        almacen:
          type: integer
          description: 'ID del almacén (solo activos, puede ser un entero o {"id":
            <pk>})'
    PatchedProducto:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        categoria:
          type: integer
          description: 'ID de la categoría (solo activos, puede ser un entero o {"id":
            <pk>})'
        categoria_obj:
          allOf:
          - $ref: '#/components/schemas/CategoriaMini'
          readOnly: true
        unidad_sat:
          type: integer
          description: 'ID de la unidad de medida (solo activos, puede ser un entero
            o {"id": <pk>})'
        unidad_sat_obj:
          allOf:
          - $ref: '#/components/schemas/UnidadSatMini'
          readOnly: true
        stock_minimo:
          type: number
          format: double
        iva:
          type: number
          format: double
          nullable: true
          default: 0.0
        precio_base:
          type: number
          format: double
          readOnly: true
          default: 0.0
        otro_impuesto:
          type: number
          format: double
          nullable: true
          default: 0.0
        precio_mayoreo:
          type: number
          format: double
        precio_publico:
          type: number
          format: double
        horas_caducidad:
          type: integer
          default: 0
          description: Días para que un lote caduque después de su creación. 0 = No
            caduca
        proveedores:
          type: array
          items:
            type: integer
          description: 'IDs de los proveedores (solo activos, puede ser un array de
            enteros o un array de [ {"id": <pk> } ])'
        proveedores_obj:
          type: array
          items:
            $ref: '#/components/schemas/ProveedorMini'
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          maxLength: 150
        tipo_compra:
          nullable: true
          title: Tipo de Compra
          oneOf:
          - $ref: '#/components/schemas/TipoCompraEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        clave_sat:
          type: string
          nullable: true
          title: Clave SAT (Producto o Servicio)
          maxLength: 10
        descripcion:
          type: string
          nullable: true
          title: Descripción
    PatchedProductosSolicitud:
      type: object
      description: Serializer completo para solicitudes de productos
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
          description: Producto para el cual se hace la solicitud
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          description: Cantidad solicitada del producto
        fase:
          $ref: '#/components/schemas/Fase576Enum'
        motivo:
          $ref: '#/components/schemas/MotivoEnum'
        almacen:
          type: integer
          nullable: true
        tiempo_desde_solicitud:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
    PatchedProveedor:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        monto:
          type: number
          format: double
          default: 0.0
        origen:
          nullable: true
          default: MÉXICO
          description: |-
            Origen del proveedor

            * `MÉXICO` - MÉXICO
            * `ESTADOS UNIDOS` - ESTADOS UNIDOS
            * `OTRO` - OTRO
          oneOf:
          - $ref: '#/components/schemas/OrigenEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        razon_social:
          type: string
          nullable: true
          title: Razón Social
          maxLength: 180
        nombre:
          type: string
          title: Nombre del Proveedor
          maxLength: 200
        plazo_credito:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          title: Plazo de Crédito (días)
        total_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
          nullable: true
          title: Total de Crédito
        rfc:
          type: string
          nullable: true
          maxLength: 15
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        correo:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 254
        cuenta_clave:
          type: string
          nullable: true
          maxLength: 20
    PatchedRack:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        zona:
          type: integer
          description: 'ID de la zona (solo activos, puede ser un entero o {"id":
            <pk>})'
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
    PatchedRutas:
      type: object
      description: Serializer completo para rutas con sus relaciones
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          title: Nombre de la Ruta
          maxLength: 100
        descripcion:
          type: string
          nullable: true
          title: Descripción de la Ruta
        origen:
          type: string
          maxLength: 100
        destino:
          type: string
          maxLength: 100
        unidad:
          type: integer
          description: 'ID de la unidad vehicular asignada (solo activas, puede ser
            un entero o {"id": <pk>})'
        unidad_obj:
          allOf:
          - $ref: '#/components/schemas/UnidadVehicularMini'
          readOnly: true
        asignado:
          type: integer
          nullable: true
          description: 'ID del chofer asignado (solo activos, puede ser un entero
            o {"id": <pk>})'
        asignado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
        almacen_obj:
          allOf:
          - $ref: '#/components/schemas/AlmacenMini'
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
    PatchedSolicitudTraspasoCreateUpdate:
      type: object
      description: Serializer para crear y actualizar solicitudes de traspaso
      properties:
        id:
          type: integer
          readOnly: true
        almacen_solicitante:
          type: integer
          nullable: true
          description: Almacén que solicita el traspaso toma por defecto el almacén
            del usuario
        almacen_surtidor:
          type: integer
          description: Almacén desde donde se surtirá el traspaso
        nota:
          type: string
          nullable: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/SolicitudTraspasoDetalle'
    PatchedSucursal:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        codigo:
          type: string
          readOnly: true
          description: Código del sucursal
          maxLength: 10
          minLength: 5
        empresa:
          type: integer
          description: 'ID de la empresa o dic {id: <id>} a la que pertenece la sucursal'
        empresa_obj:
          allOf:
          - $ref: '#/components/schemas/EmpresaMini'
          readOnly: true
          description: Detalle de la empresa
        almacenes:
          type: array
          items:
            type: integer
          description: 'IDs de los almacenes (solo activos, puede ser un array de
            enteros o un array de [ {"id": <pk> } ])'
        almacenes_obj:
          type: array
          items:
            $ref: '#/components/schemas/AlmacenMini'
          readOnly: true
        encargado:
          type: integer
          description: 'ID del encargado de la sucursal o dic {id: <id>}'
        encargado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
          description: Detalle del encargado
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionSucursal'
          nullable: true
          description: Dirección de la sucursal
        direccion_obj:
          allOf:
          - $ref: '#/components/schemas/DireccionAlmacenObj'
          readOnly: true
          description: Detalle de la dirección del almacén asociado a la sucursal
        nombre:
          type: string
          maxLength: 200
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        comentarios:
          type: string
          nullable: true
    PatchedUnidadVehicular:
      type: object
      description: Serializer completo para unidades vehiculares
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre de la Unidad
          maxLength: 100
        tipo:
          allOf:
          - $ref: '#/components/schemas/Tipo5b2Enum'
          title: Tipo de Vehículo
        placas:
          type: string
          nullable: true
          maxLength: 20
        marca:
          type: string
          nullable: true
          maxLength: 50
        modelo:
          type: string
          nullable: true
          maxLength: 50
        anio:
          type: integer
          nullable: true
          description: Año del vehículo
        capacidad_carga:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
          description: Capacidad de carga en toneladas
        fecha_adquisicion:
          type: string
          format: date
          nullable: true
          title: Fecha de Adquisición
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        clave:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
    PatchedUsuario:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          title: Nombre de usuario
          description: Obligatorio. Longitud máxima 150 caracteres alfanuméricos.
            Letras, dígitos y @/./+/-/_ únicamente.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Dirección de correo electrónico
          maxLength: 254
        password:
          type: string
          writeOnly: true
          nullable: true
        last_login:
          type: string
          format: date-time
          readOnly: true
        is_superuser:
          type: boolean
          readOnly: true
        is_active:
          type: boolean
          title: Activo
          description: Indica si el usuario debe ser tratado como un usuario activo.
            Desactive este campo en lugar de eliminar usuarios.
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        apellido_paterno:
          type: string
          nullable: true
          maxLength: 200
        apellido_materno:
          type: string
          nullable: true
          maxLength: 200
        telefono_1:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        date_joined:
          type: string
          readOnly: true
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionUsuario'
          nullable: true
          description: Dirección del usuario
        direccion_obj:
          allOf:
          - $ref: '#/components/schemas/DireccionUsuarioObj'
          readOnly: true
          description: Objeto de dirección del usuario
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        full_name:
          type: string
          readOnly: true
        grupos:
          type: string
          readOnly: true
          description: Lista de grupos a los que pertenece el usuario
        permisos:
          type: string
          readOnly: true
          description: Lista de permisos asignados al usuario
        permisos_group:
          type: string
          readOnly: true
          description: Permisos del usuario agrupados por modelo
        groups:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        user_permissions:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        almacen:
          type: integer
          nullable: true
          description: ID del almacén asignado al usuario
        almacen_obj:
          type: string
          readOnly: true
          description: Objeto del almacén asignado al usuario
    PatchedVenta:
      type: object
      description: Serializer completo para ventas con detalles y control de lotes
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        cliente:
          type: integer
          description: 'ID del cliente (puede ser un entero o {"id": <pk>})'
        cliente_obj:
          allOf:
          - $ref: '#/components/schemas/ClienteMini'
          readOnly: true
        almacen:
          type: integer
          nullable: true
          description: 'ID del almacén donde se afectará el inventario (puede ser
            un entero o ("id": <pk>)). Obligatorio para fases VENTA COMANDERA'
        almacen_obj:
          type: string
          readOnly: true
        ruta:
          type: integer
          nullable: true
          description: 'ID de la ruta (requerido para preventa, puede ser un entero
            o {"id": <pk>})'
        ruta_obj:
          allOf:
          - $ref: '#/components/schemas/RutasMini'
          readOnly: true
        fase:
          $ref: '#/components/schemas/Fase877Enum'
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          readOnly: true
        total_calculado:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/VentaDetalle'
        total_detalles:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/PagosVenta'
          nullable: true
        condicion_pago:
          allOf:
          - $ref: '#/components/schemas/CondicionPagoEnum'
          description: |-
            Condición de pago

            * `CONTADO` - CONTADO
            * `CRÉDITO` - CRÉDITO
            * `MIXTA` - MIXTA
        is_entregado:
          type: boolean
          readOnly: true
          title: Entregado
          description: Indica si la venta ya fue entregada al cliente
        vendedor:
          type: integer
          nullable: true
          description: 'ID del vendedor - OBLIGATORIO cuando fase es VENTA COMANDERA
            (puede ser un entero o {"id": <pk>})'
        vendedor_nombre:
          type: string
          readOnly: true
        adeudo_total:
          type: string
          readOnly: true
        is_terminada:
          type: boolean
          readOnly: true
        cambio:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          readOnly: true
          title: Cambio Entregado
    PatchedVentaEstado:
      type: object
      description: Serializer específico para actualizar solo la fase de una venta
      properties:
        fase:
          $ref: '#/components/schemas/Fase877Enum'
    PatchedZona:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        piso:
          type: integer
          description: 'ID del piso (solo activos, puede ser un entero o {"id": <pk>})'
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        racks:
          type: array
          items:
            $ref: '#/components/schemas/Rack'
          readOnly: true
    Permission:
      type: object
      description: Serializer para permisos (solo lectura)
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          readOnly: true
          title: Nombre
        codename:
          type: string
          readOnly: true
          title: Nombre código
        content_type:
          type: integer
          readOnly: true
          title: Tipo de contenido
        content_type_name:
          type: string
          readOnly: true
        app_label:
          type: string
          readOnly: true
        model_name:
          type: string
          readOnly: true
      required:
      - app_label
      - codename
      - content_type
      - content_type_name
      - id
      - model_name
      - name
    Piso:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        almacen:
          type: integer
          description: 'ID del almacén (solo activos, puede ser un entero o {"id":
            <pk>})'
        almacen_obj:
          allOf:
          - $ref: '#/components/schemas/AlmacenDetalleView'
          readOnly: true
          description: Detalles del almacén
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        zonas:
          type: array
          items:
            $ref: '#/components/schemas/Zona'
          readOnly: true
      required:
      - almacen
      - almacen_obj
      - created_at
      - created_by
      - id
      - nombre
      - updated_at
      - updated_by
      - zonas
    PisoMini:
      type: object
      description: Serializer ligero para pisos con información básica de zonas
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        almacen_nombre:
          type: string
          readOnly: true
        empresa_nombre:
          type: string
          readOnly: true
        zonas:
          type: array
          items:
            $ref: '#/components/schemas/ZonaMini'
          readOnly: true
        almacen:
          type: integer
          description: 'ID del almacén (solo activos, puede ser un entero o {"id":
            <pk>})'
      required:
      - almacen
      - almacen_nombre
      - empresa_nombre
      - id
      - nombre
      - zonas
    PrecioTipoEnum:
      enum:
      - SEMI MAYOREO
      - MAYOREO
      - PÚBLICO
      type: string
      description: |-
        * `SEMI MAYOREO` - SEMI MAYOREO
        * `MAYOREO` - MAYOREO
        * `PÚBLICO` - PÚBLICO
    PreventaConDetalles:
      type: object
      properties:
        id:
          type: integer
        codigo:
          type: string
        cliente:
          $ref: '#/components/schemas/ClienteInfo'
        ruta:
          $ref: '#/components/schemas/RutaInfo'
        fase:
          type: string
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
        is_total_cargado:
          type: boolean
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoDetalle'
      required:
      - cliente
      - codigo
      - fase
      - id
      - is_total_cargado
      - productos
      - ruta
      - total
    PreventasConDetallesResponse:
      type: object
      properties:
        preventas:
          type: array
          items:
            $ref: '#/components/schemas/PreventaConDetalles'
      required:
      - preventas
    Producto:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        categoria:
          type: integer
          description: 'ID de la categoría (solo activos, puede ser un entero o {"id":
            <pk>})'
        categoria_obj:
          allOf:
          - $ref: '#/components/schemas/CategoriaMini'
          readOnly: true
        unidad_sat:
          type: integer
          description: 'ID de la unidad de medida (solo activos, puede ser un entero
            o {"id": <pk>})'
        unidad_sat_obj:
          allOf:
          - $ref: '#/components/schemas/UnidadSatMini'
          readOnly: true
        stock_minimo:
          type: number
          format: double
        iva:
          type: number
          format: double
          nullable: true
          default: 0.0
        precio_base:
          type: number
          format: double
          readOnly: true
          default: 0.0
        otro_impuesto:
          type: number
          format: double
          nullable: true
          default: 0.0
        precio_mayoreo:
          type: number
          format: double
        precio_publico:
          type: number
          format: double
        horas_caducidad:
          type: integer
          default: 0
          description: Días para que un lote caduque después de su creación. 0 = No
            caduca
        proveedores:
          type: array
          items:
            type: integer
          description: 'IDs de los proveedores (solo activos, puede ser un array de
            enteros o un array de [ {"id": <pk> } ])'
        proveedores_obj:
          type: array
          items:
            $ref: '#/components/schemas/ProveedorMini'
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          maxLength: 150
        tipo_compra:
          nullable: true
          title: Tipo de Compra
          oneOf:
          - $ref: '#/components/schemas/TipoCompraEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        clave_sat:
          type: string
          nullable: true
          title: Clave SAT (Producto o Servicio)
          maxLength: 10
        descripcion:
          type: string
          nullable: true
          title: Descripción
      required:
      - categoria
      - categoria_obj
      - codigo
      - created_at
      - created_by
      - id
      - nombre
      - precio_base
      - precio_mayoreo
      - precio_publico
      - proveedores
      - proveedores_obj
      - unidad_sat
      - unidad_sat_obj
      - updated_at
      - updated_by
    ProductoAbastecido:
      type: object
      description: Serializer para cada producto abastecido
      properties:
        producto:
          type: object
          additionalProperties:
            type: string
          description: Información del producto
        lote_id:
          type: integer
          description: ID del lote creado
        cantidad:
          type: number
          format: double
          description: Cantidad abastecida
        costo_unitario:
          type: number
          format: double
          description: Costo unitario del producto
        costo_total:
          type: number
          format: double
          description: Costo total del item
        ubicacion:
          type: string
          description: Ubicación del lote (rack o 'Sin asignar')
      required:
      - cantidad
      - costo_total
      - costo_unitario
      - lote_id
      - producto
      - ubicacion
    ProductoDetalle:
      type: object
      properties:
        id:
          type: integer
        unidad:
          type: string
          description: Nombre de la unidad SAT
        unidad_clave:
          type: string
          description: Clave de la unidad SAT
        nombre:
          type: string
        codigo:
          type: string
        cantidad_total:
          type: integer
        is_cargado:
          type: boolean
      required:
      - cantidad_total
      - codigo
      - id
      - is_cargado
      - nombre
      - unidad
      - unidad_clave
    ProductoEmbarque:
      type: object
      properties:
        producto:
          type: integer
          description: 'ID del producto o dic {id: <id>}'
        check:
          type: boolean
          description: Indica si el producto está seleccionado para el embarque
      required:
      - producto
    ProductoEmbarqueVenta:
      type: object
      properties:
        venta:
          type: integer
          description: 'ID de la venta o dic {id: <id>}'
        productos:
          type: array
          items:
            $ref: '#/components/schemas/ProductoEmbarque'
          description: Lista de productos asociados a la venta en el embarque
      required:
      - productos
      - venta
    ProductoEntrada:
      type: object
      properties:
        producto:
          type: integer
          description: Producto relacionado
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          description: Cantidad del producto a ingresar
        lotes:
          type: array
          items:
            $ref: '#/components/schemas/LoteEntrada'
          description: Lista de lotes asociados al producto
      required:
      - cantidad
      - lotes
      - producto
    ProductoInfo:
      type: object
      description: Serializer para la información del producto
      properties:
        id:
          type: integer
        nombre:
          type: string
        codigo:
          type: string
        categoria:
          type: string
          nullable: true
        clave:
          type: string
          nullable: true
        unidad:
          type: string
          nullable: true
        precio_base:
          type: number
          format: double
        precio_mayoreo:
          type: number
          format: double
        precio_publico:
          type: number
          format: double
        ultimo_precio:
          type: number
          format: double
      required:
      - categoria
      - clave
      - codigo
      - id
      - nombre
      - precio_base
      - precio_mayoreo
      - precio_publico
      - ultimo_precio
      - unidad
    ProductoInventario:
      type: object
      description: Serializer para productos en inventario con sus totales
      properties:
        producto_id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
        producto_nombre:
          type: string
          readOnly: true
        cantidad_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        valor_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,2})?$
          readOnly: true
        numero_lotes:
          type: integer
          readOnly: true
          description: Número de lotes asociados a este producto activos
        unidad_medida:
          type: string
          readOnly: true
        unidad_clave:
          type: string
          readOnly: true
        lotes_detalle:
          type: string
          readOnly: true
      required:
      - cantidad_total
      - codigo
      - lotes_detalle
      - numero_lotes
      - producto_id
      - producto_nombre
      - unidad_clave
      - unidad_medida
      - valor_total
    ProductoInventarioAlamcen:
      type: object
      description: Serializer que replica exactamente la estructura de respuesta de
        ProductoInventarioAPIView
      properties:
        producto:
          $ref: '#/components/schemas/ProductoInfo'
        inventario_almacen:
          allOf:
          - $ref: '#/components/schemas/InventarioAlmacen'
          nullable: true
        resumen_global:
          $ref: '#/components/schemas/ResumenGlobal'
      required:
      - inventario_almacen
      - producto
      - resumen_global
    ProductoMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        unidad_sat_clave:
          type: string
          readOnly: true
        unidad_sat_nombre:
          type: string
          readOnly: true
        precio_base:
          type: string
          readOnly: true
        inventario:
          type: string
          readOnly: true
      required:
      - codigo
      - id
      - inventario
      - nombre
      - precio_base
      - unidad_sat_clave
      - unidad_sat_nombre
    ProductoMovimiento:
      type: object
      properties:
        producto_nombre:
          type: string
          readOnly: true
        unidad_medida:
          type: string
          readOnly: true
          nullable: true
        unidad_clave:
          type: string
          readOnly: true
          nullable: true
        producto:
          type: string
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,16}(?:\.\d{0,4})?$
          description: Cantidad del producto a mover
        lotes:
          type: array
          items:
            $ref: '#/components/schemas/LoteMovimiento'
          description: Lista de lotes asociados al producto
      required:
      - cantidad
      - lotes
      - producto
      - producto_nombre
      - unidad_clave
      - unidad_medida
    ProductoNotFound:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    ProductoTransformadoMerma:
      type: object
      description: Serializer para los productos transformados en una transformación
      properties:
        producto:
          type: integer
          description: ID o dic con el id del producto transformado
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,5})?$
          description: Cantidad total del producto transformado (debe ser mayor a
            0)
      required:
      - cantidad
      - producto
    ProductosEntrega:
      type: object
      properties:
        producto:
          type: integer
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,12}(?:\.\d{0,6})?$
      required:
      - cantidad
      - producto
    ProductosMovimientoDetalle:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        producto_nombre:
          type: string
          readOnly: true
        lote_detalle:
          type: string
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        costo_unitario:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        costo_total:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        movimiento:
          type: integer
        producto:
          type: integer
          nullable: true
        lote:
          type: integer
          nullable: true
      required:
      - created_at
      - created_by
      - id
      - lote_detalle
      - movimiento
      - producto_nombre
      - updated_at
      - updated_by
    ProductosMovimientoLote:
      type: object
      properties:
        producto:
          type: integer
          description: ID o dic con el id del producto
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,5})?$
          description: Cantidad total del producto a mover (debe ser mayor a 0)
        lotes:
          type: array
          items:
            $ref: '#/components/schemas/LotesMovimiento'
          description: Lista de lotes para este producto
      required:
      - cantidad
      - lotes
      - producto
    ProductosSolicitud:
      type: object
      description: Serializer completo para solicitudes de productos
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
          description: Producto para el cual se hace la solicitud
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          description: Cantidad solicitada del producto
        fase:
          $ref: '#/components/schemas/Fase576Enum'
        motivo:
          $ref: '#/components/schemas/MotivoEnum'
        almacen:
          type: integer
          nullable: true
        tiempo_desde_solicitud:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
      required:
      - cantidad
      - created_at
      - created_by
      - id
      - producto
      - tiempo_desde_solicitud
      - updated_at
      - updated_by
    ProductosSolicitudMini:
      type: object
      description: Serializer mini para listar solicitudes básicas
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
          nullable: true
        nombre:
          type: string
          readOnly: true
        codigo:
          type: string
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
        fase:
          $ref: '#/components/schemas/Fase576Enum'
        created_at:
          type: string
          readOnly: true
        motivo:
          $ref: '#/components/schemas/MotivoEnum'
        tiempo_desde_solicitud:
          type: string
          readOnly: true
        unidad_sat_clave:
          type: string
          readOnly: true
        unidad_sat_nombre:
          type: string
          readOnly: true
        precio_base:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        solicitado_por:
          type: string
          readOnly: true
        almacen:
          type: integer
          readOnly: true
          nullable: true
        almacen_origen:
          type: string
          readOnly: true
      required:
      - almacen
      - almacen_origen
      - codigo
      - created_at
      - id
      - nombre
      - precio_base
      - solicitado_por
      - tiempo_desde_solicitud
      - unidad_sat_clave
      - unidad_sat_nombre
    ProductosTaraEmbarque:
      type: object
      properties:
        producto_carga:
          type: integer
          description: 'ID del producto en tara o dic {id: <id>}'
        check:
          type: boolean
          description: Indica si el producto en tara está seleccionado para el embarque
      required:
      - check
      - producto_carga
    ProductosTransformacion:
      type: object
      description: Serializer para los productos en un movimiento de inventario
      properties:
        producto:
          type: integer
          description: ID o dic con el id del producto
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,10}(?:\.\d{0,5})?$
          description: Cantidad total del producto a mover (debe ser mayor a 0)
        lotes:
          type: array
          items:
            $ref: '#/components/schemas/LotesProductoTransformacion'
          description: Lista de lotes asociados al producto
      required:
      - cantidad
      - producto
    Proveedor:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        monto:
          type: number
          format: double
          default: 0.0
        origen:
          nullable: true
          default: MÉXICO
          description: |-
            Origen del proveedor

            * `MÉXICO` - MÉXICO
            * `ESTADOS UNIDOS` - ESTADOS UNIDOS
            * `OTRO` - OTRO
          oneOf:
          - $ref: '#/components/schemas/OrigenEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        razon_social:
          type: string
          nullable: true
          title: Razón Social
          maxLength: 180
        nombre:
          type: string
          title: Nombre del Proveedor
          maxLength: 200
        plazo_credito:
          type: integer
          maximum: 2147483647
          minimum: 0
          nullable: true
          title: Plazo de Crédito (días)
        total_credito:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          readOnly: true
          nullable: true
          title: Total de Crédito
        rfc:
          type: string
          nullable: true
          maxLength: 15
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        correo:
          type: string
          format: email
          nullable: true
          title: Correo Electrónico
          maxLength: 254
        cuenta_clave:
          type: string
          nullable: true
          maxLength: 20
      required:
      - codigo
      - created_at
      - created_by
      - id
      - nombre
      - total_credito
      - updated_at
      - updated_by
    ProveedorMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre del Proveedor
          maxLength: 200
        codigo:
          type: string
          nullable: true
          title: Código
          maxLength: 20
        full_name:
          type: string
          readOnly: true
      required:
      - full_name
      - id
      - nombre
    Rack:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        zona:
          type: integer
          description: 'ID de la zona (solo activos, puede ser un entero o {"id":
            <pk>})'
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
      required:
      - created_at
      - created_by
      - id
      - nombre
      - updated_at
      - updated_by
      - zona
    RackMini:
      type: object
      description: Serializer ligero para racks sin relaciones complejas
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        zona:
          type: integer
          readOnly: true
      required:
      - id
      - nombre
      - zona
    RegimenFK:
      type: object
      properties:
        id:
          type: integer
      required:
      - id
    RegimenFiscalDetail:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          title: Código
        nombre:
          type: string
          readOnly: true
      required:
      - codigo
      - id
      - nombre
    RemoverPermisosRequest:
      type: object
      properties:
        permission_ids:
          type: array
          items:
            type: integer
          description: Lista de IDs de permisos a remover
      required:
      - permission_ids
    ResultadoVentaCancelacion:
      type: object
      properties:
        venta_id:
          type: integer
        status:
          $ref: '#/components/schemas/StatusEnum'
        detail:
          type: string
      required:
      - detail
      - status
      - venta_id
    ResumenAbastecimiento:
      type: object
      description: Serializer para el resumen del abastecimiento
      properties:
        total_items:
          type: integer
          description: Número total de items procesados
        cantidad_total:
          type: number
          format: double
          description: Cantidad total de productos abastecidos
        costo_total:
          type: number
          format: double
          description: Costo total del abastecimiento
        costo_promedio:
          type: number
          format: double
          description: Costo promedio por unidad
        lotes_creados:
          type: integer
          description: Número total de lotes creados
      required:
      - cantidad_total
      - costo_promedio
      - costo_total
      - lotes_creados
      - total_items
    ResumenGlobal:
      type: object
      description: Serializer para el resumen global
      properties:
        total_stock:
          type: number
          format: double
        almacenes_con_stock:
          type: integer
        valor_inventario:
          type: number
          format: double
      required:
      - almacenes_con_stock
      - total_stock
      - valor_inventario
    RutaInfo:
      type: object
      properties:
        id:
          type: integer
        nombre:
          type: string
        codigo:
          type: string
      required:
      - codigo
      - id
      - nombre
    Rutas:
      type: object
      description: Serializer completo para rutas con sus relaciones
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          title: Nombre de la Ruta
          maxLength: 100
        descripcion:
          type: string
          nullable: true
          title: Descripción de la Ruta
        origen:
          type: string
          maxLength: 100
        destino:
          type: string
          maxLength: 100
        unidad:
          type: integer
          description: 'ID de la unidad vehicular asignada (solo activas, puede ser
            un entero o {"id": <pk>})'
        unidad_obj:
          allOf:
          - $ref: '#/components/schemas/UnidadVehicularMini'
          readOnly: true
        asignado:
          type: integer
          nullable: true
          description: 'ID del chofer asignado (solo activos, puede ser un entero
            o {"id": <pk>})'
        asignado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
        almacen_obj:
          allOf:
          - $ref: '#/components/schemas/AlmacenMini'
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
      required:
      - almacen_obj
      - asignado_obj
      - codigo
      - created_at
      - created_by
      - destino
      - id
      - nombre
      - origen
      - unidad
      - unidad_obj
      - updated_at
      - updated_by
    RutasMini:
      type: object
      description: Serializer mini para listar rutas básicas
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Código
        nombre:
          type: string
          title: Nombre de la Ruta
          maxLength: 100
        origen:
          type: string
          maxLength: 100
        destino:
          type: string
          maxLength: 100
        unidad_nombre:
          type: string
          readOnly: true
        asignado_nombre:
          type: string
          readOnly: true
        almacen_nombre:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
      required:
      - almacen_nombre
      - asignado_nombre
      - codigo
      - created_at
      - destino
      - id
      - nombre
      - origen
      - unidad_nombre
    SalidaCajaGasto:
      type: object
      description: |-
        Serializer para registrar salidas/gastos de caja

        Este serializer:
        1. Valida que el usuario tenga una caja abierta
        2. Valida que haya suficiente saldo en efectivo (opcional)
        3. Crea el registro en CajaTransaccion con tipo SALIDA o GASTO
      properties:
        monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,18}(?:\.\d{0,2})?$
          description: Monto de la salida/gasto
        tipo:
          allOf:
          - $ref: '#/components/schemas/SalidaCajaGastoTipoEnum'
          default: SALIDA
          description: |-
            Tipo de transacción: GASTO (requiere gasto_tipo) o SALIDA (genérica)

            * `GASTO` - GASTO
            * `SALIDA` - SALIDA
        gasto_tipo:
          nullable: true
          description: |-
            Tipo de gasto específico (obligatorio si tipo=GASTO)

            * `GASTO VIATICO XALAPA` - GASTO VIATICO XALAPA
            * `GASTO VIATICO CORDOBA` - GASTO VIATICO CORDOBA
            * `GASTO INSUMOS PLASTICOS` - GASTO INSUMOS PLASTICOS
            * `GASTO MECANICO` - GASTO MECANICO
            * `OTRO` - OTRO
          oneOf:
          - $ref: '#/components/schemas/GastoTipoEnum'
          - $ref: '#/components/schemas/BlankEnum'
          - $ref: '#/components/schemas/NullEnum'
        descripcion:
          type: string
          nullable: true
          description: Descripción de la salida/gasto
          maxLength: 255
        referencia:
          type: string
          nullable: true
          description: Referencia o número de comprobante
          maxLength: 100
        metodo_pago:
          type: integer
          nullable: true
          description: 'Método de pago (ID o {id: <id>}). Por defecto se usa EFECTIVO'
      required:
      - monto
    SalidaCajaGastoTipoEnum:
      enum:
      - GASTO
      - SALIDA
      type: string
      description: |-
        * `GASTO` - GASTO
        * `SALIDA` - SALIDA
    SolicitudTraspasoCreateUpdate:
      type: object
      description: Serializer para crear y actualizar solicitudes de traspaso
      properties:
        id:
          type: integer
          readOnly: true
        almacen_solicitante:
          type: integer
          nullable: true
          description: Almacén que solicita el traspaso toma por defecto el almacén
            del usuario
        almacen_surtidor:
          type: integer
          description: Almacén desde donde se surtirá el traspaso
        nota:
          type: string
          nullable: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/SolicitudTraspasoDetalle'
      required:
      - almacen_surtidor
      - detalles
      - id
    SolicitudTraspasoDetail:
      type: object
      description: Serializer para ver el detalle completo de una solicitud de traspaso
      properties:
        id:
          type: integer
          readOnly: true
        referencia:
          type: string
          readOnly: true
        almacen_solicitante:
          type: integer
          nullable: true
        almacen_solicitante_nombre:
          type: string
          readOnly: true
        almacen_surtidor:
          type: integer
          nullable: true
        almacen_surtidor_nombre:
          type: string
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado1f6Enum'
        nota:
          type: string
          nullable: true
        movimiento:
          type: integer
          readOnly: true
          nullable: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/SolicitudTraspasoDetalle'
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Fecha de creación
        created_by:
          type: integer
          readOnly: true
          nullable: true
        creado_por_nombre:
          type: string
          readOnly: true
        aprobado_el:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        aprobado_por:
          type: integer
          readOnly: true
          nullable: true
        aprobado_por_nombre:
          type: string
          readOnly: true
        rechazado_el:
          type: string
          readOnly: true
        rechazado_por:
          type: integer
          readOnly: true
          nullable: true
        rechazado_por_nombre:
          type: string
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Fecha de actualización
      required:
      - almacen_solicitante_nombre
      - almacen_surtidor_nombre
      - aprobado_el
      - aprobado_por
      - aprobado_por_nombre
      - creado_por_nombre
      - created_at
      - created_by
      - detalles
      - id
      - movimiento
      - rechazado_el
      - rechazado_por
      - rechazado_por_nombre
      - referencia
      - updated_at
    SolicitudTraspasoDetalle:
      type: object
      description: Serializer para el detalle de productos en una solicitud de traspaso
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
          nullable: true
        producto_nombre:
          type: string
          readOnly: true
        producto_codigo:
          type: string
          readOnly: true
        producto_unidad:
          type: string
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,15}(?:\.\d{0,5})?$
      required:
      - id
      - producto_codigo
      - producto_nombre
      - producto_unidad
    SolicitudTraspasoList:
      type: object
      description: Serializer para listar solicitudes de traspaso (vista resumida)
      properties:
        id:
          type: integer
          readOnly: true
        referencia:
          type: string
          nullable: true
          maxLength: 150
        almacen_solicitante:
          type: integer
          nullable: true
        almacen_solicitante_nombre:
          type: string
          readOnly: true
        almacen_surtidor:
          type: integer
          nullable: true
        almacen_surtidor_nombre:
          type: string
          readOnly: true
        estado:
          $ref: '#/components/schemas/Estado1f6Enum'
        total_productos:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
          title: Fecha de creación
        creado_por_nombre:
          type: string
          readOnly: true
        aprobado_el:
          type: string
          format: date-time
          nullable: true
        aprobado_por_nombre:
          type: string
          readOnly: true
        rechazado_el:
          type: string
          format: date-time
          nullable: true
        rechazado_por_nombre:
          type: string
          readOnly: true
      required:
      - almacen_solicitante_nombre
      - almacen_surtidor_nombre
      - aprobado_por_nombre
      - creado_por_nombre
      - created_at
      - id
      - rechazado_por_nombre
      - total_productos
    StatusEnum:
      enum:
      - success
      - error
      type: string
      description: |-
        * `success` - success
        * `error` - error
    StatusModelEnum:
      enum:
      - ACTIVE
      - INACTIVE
      type: string
      description: |-
        * `ACTIVE` - Activo
        * `INACTIVE` - Inactivo
    Sucursal:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        codigo:
          type: string
          readOnly: true
          description: Código del sucursal
          maxLength: 10
          minLength: 5
        empresa:
          type: integer
          description: 'ID de la empresa o dic {id: <id>} a la que pertenece la sucursal'
        empresa_obj:
          allOf:
          - $ref: '#/components/schemas/EmpresaMini'
          readOnly: true
          description: Detalle de la empresa
        almacenes:
          type: array
          items:
            type: integer
          description: 'IDs de los almacenes (solo activos, puede ser un array de
            enteros o un array de [ {"id": <pk> } ])'
        almacenes_obj:
          type: array
          items:
            $ref: '#/components/schemas/AlmacenMini'
          readOnly: true
        encargado:
          type: integer
          description: 'ID del encargado de la sucursal o dic {id: <id>}'
        encargado_obj:
          allOf:
          - $ref: '#/components/schemas/UsuarioMini'
          readOnly: true
          description: Detalle del encargado
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionSucursal'
          nullable: true
          description: Dirección de la sucursal
        direccion_obj:
          allOf:
          - $ref: '#/components/schemas/DireccionAlmacenObj'
          readOnly: true
          description: Detalle de la dirección del almacén asociado a la sucursal
        nombre:
          type: string
          maxLength: 200
        telefono:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        comentarios:
          type: string
          nullable: true
      required:
      - almacenes
      - almacenes_obj
      - codigo
      - created_at
      - created_by
      - direccion_obj
      - empresa
      - empresa_obj
      - encargado
      - encargado_obj
      - id
      - nombre
      - updated_at
      - updated_by
    SucursalMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
        mi_empresa:
          type: string
          readOnly: true
        nombre_completo:
          type: string
          readOnly: true
      required:
      - id
      - mi_empresa
      - nombre
      - nombre_completo
    Tipo5b2Enum:
      enum:
      - CAMIÓN
      - CAMIONETA
      - TRÁILER
      - OTRO
      type: string
      description: |-
        * `CAMIÓN` - CAMIÓN
        * `CAMIONETA` - CAMIONETA
        * `TRÁILER` - TRÁILER
        * `OTRO` - OTRO
    Tipo5dcEnum:
      enum:
      - SALIDA
      - ENTRADA
      - AJUSTE
      type: string
      description: |-
        * `SALIDA` - SALIDA
        * `ENTRADA` - ENTRADA
        * `AJUSTE` - AJUSTE
    Tipo7e1Enum:
      enum:
      - TRANSFORMACION
      - MERMA
      type: string
      description: |-
        * `TRANSFORMACION` - TRANSFORMACION
        * `MERMA` - MERMA
    TipoCb6Enum:
      enum:
      - POTENCIAL
      - ESTANDAR
      - NO CREDITO
      - CREDITO SEMANAL
      - EVENTUAL
      - BUEN CLIENTE
      - PREMIUM
      type: string
      description: |-
        * `POTENCIAL` - Potencial
        * `ESTANDAR` - Estándar
        * `NO CREDITO` - No Crédito
        * `CREDITO SEMANAL` - Crédito Semanal
        * `EVENTUAL` - Eventual
        * `BUEN CLIENTE` - Buen Cliente
        * `PREMIUM` - Premium
    TipoCompraEnum:
      enum:
      - Local
      - Foranea
      type: string
      description: |-
        * `Local` - Local
        * `Foranea` - Foranea
    TipoPersonaEnum:
      enum:
      - PERSONA FISICA
      - PERSONA MORAL
      type: string
      description: |-
        * `PERSONA FISICA` - Persona Física
        * `PERSONA MORAL` - Persona Moral
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
      - access
      - refresh
    TokenVerify:
      type: object
      properties:
        token:
          type: string
          writeOnly: true
      required:
      - token
    TransformacionCreate:
      type: object
      description: Serializer para una transformación de productos en inventario
      properties:
        almacen:
          type: integer
          description: ID o dic con el id del almacén donde se realiza la transformación
        tipo:
          allOf:
          - $ref: '#/components/schemas/Tipo7e1Enum'
          description: |-
            Tipo de movimiento: TRANSFORMACION o MERMA

            * `TRANSFORMACION` - TRANSFORMACION
            * `MERMA` - MERMA
        productos_entrada:
          type: array
          items:
            $ref: '#/components/schemas/ProductosTransformacion'
          description: Lista de productos de entrada en la transformación
        productos_salida:
          type: array
          items:
            $ref: '#/components/schemas/ProductoTransformadoMerma'
          description: Producto de salida (producto nuevo) si es transformación
        nota:
          type: string
          description: Nota o comentario adicional sobre la transformación
          maxLength: 500
      required:
      - nota
      - productos_entrada
      - tipo
    TransformacionDetail:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        tipo:
          $ref: '#/components/schemas/Tipo7e1Enum'
        referencia:
          type: string
          nullable: true
          maxLength: 150
        nota:
          type: string
          nullable: true
        almacen_id:
          type: integer
          readOnly: true
        almacen_nombre:
          type: string
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        created_by_id:
          type: integer
          readOnly: true
        created_by_name:
          type: string
          readOnly: true
        productos_entrada:
          type: string
          readOnly: true
        productos_salida:
          type: string
          readOnly: true
      required:
      - almacen_id
      - almacen_nombre
      - created_at
      - created_by_id
      - created_by_name
      - id
      - productos_entrada
      - productos_salida
    TransformacionList:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        almacen_id:
          type: integer
          readOnly: true
        almacen_nombre:
          type: string
          readOnly: true
        tipo:
          $ref: '#/components/schemas/Tipo7e1Enum'
        created_at:
          type: string
          format: date-time
          readOnly: true
        created_by:
          type: integer
          nullable: true
        created_by_name:
          type: string
          readOnly: true
      required:
      - almacen_id
      - almacen_nombre
      - created_at
      - created_by_name
      - id
    Unauthorized:
      type: object
      properties:
        detail:
          type: string
          default: Credenciales de autenticación no fueron proporcionadas.
    UnidadSatMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        clave:
          type: string
          readOnly: true
        nombre:
          type: string
          readOnly: true
        name:
          type: string
          readOnly: true
      required:
      - clave
      - id
      - name
      - nombre
    UnidadVehicular:
      type: object
      description: Serializer completo para unidades vehiculares
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          title: Nombre de la Unidad
          maxLength: 100
        tipo:
          allOf:
          - $ref: '#/components/schemas/Tipo5b2Enum'
          title: Tipo de Vehículo
        placas:
          type: string
          nullable: true
          maxLength: 20
        marca:
          type: string
          nullable: true
          maxLength: 50
        modelo:
          type: string
          nullable: true
          maxLength: 50
        anio:
          type: integer
          nullable: true
          description: Año del vehículo
        capacidad_carga:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          nullable: true
          description: Capacidad de carga en toneladas
        fecha_adquisicion:
          type: string
          format: date
          nullable: true
          title: Fecha de Adquisición
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        clave:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
      required:
      - clave
      - created_at
      - created_by
      - id
      - nombre
      - updated_at
      - updated_by
    UnidadVehicularMini:
      type: object
      description: Serializer mini para listar unidades vehiculares básicas
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          readOnly: true
          title: Nombre de la Unidad
        placas:
          type: string
          readOnly: true
          nullable: true
        tipo:
          allOf:
          - $ref: '#/components/schemas/Tipo5b2Enum'
          readOnly: true
          title: Tipo de Vehículo
        marca:
          type: string
          readOnly: true
          nullable: true
        modelo:
          type: string
          readOnly: true
          nullable: true
        clave:
          type: string
          readOnly: true
      required:
      - clave
      - id
      - marca
      - modelo
      - nombre
      - placas
      - tipo
    Usuario:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          title: Nombre de usuario
          description: Obligatorio. Longitud máxima 150 caracteres alfanuméricos.
            Letras, dígitos y @/./+/-/_ únicamente.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Dirección de correo electrónico
          maxLength: 254
        password:
          type: string
          writeOnly: true
          nullable: true
        last_login:
          type: string
          format: date-time
          readOnly: true
        is_superuser:
          type: boolean
          readOnly: true
        is_active:
          type: boolean
          title: Activo
          description: Indica si el usuario debe ser tratado como un usuario activo.
            Desactive este campo en lugar de eliminar usuarios.
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        apellido_paterno:
          type: string
          nullable: true
          maxLength: 200
        apellido_materno:
          type: string
          nullable: true
          maxLength: 200
        telefono_1:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        date_joined:
          type: string
          readOnly: true
        direccion:
          type: array
          items:
            $ref: '#/components/schemas/DireccionUsuario'
          nullable: true
          description: Dirección del usuario
        direccion_obj:
          allOf:
          - $ref: '#/components/schemas/DireccionUsuarioObj'
          readOnly: true
          description: Objeto de dirección del usuario
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        full_name:
          type: string
          readOnly: true
        grupos:
          type: string
          readOnly: true
          description: Lista de grupos a los que pertenece el usuario
        permisos:
          type: string
          readOnly: true
          description: Lista de permisos asignados al usuario
        permisos_group:
          type: string
          readOnly: true
          description: Permisos del usuario agrupados por modelo
        groups:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        user_permissions:
          type: array
          items:
            type: integer
            writeOnly: true
          writeOnly: true
        almacen:
          type: integer
          nullable: true
          description: ID del almacén asignado al usuario
        almacen_obj:
          type: string
          readOnly: true
          description: Objeto del almacén asignado al usuario
      required:
      - almacen_obj
      - created_at
      - created_by
      - date_joined
      - direccion_obj
      - full_name
      - grupos
      - id
      - is_superuser
      - last_login
      - nombre
      - permisos
      - permisos_group
      - updated_at
      - updated_by
      - username
    UsuarioDetalle:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          readOnly: true
          title: Nombre de usuario
          description: Obligatorio. Longitud máxima 150 caracteres alfanuméricos.
            Letras, dígitos y @/./+/-/_ únicamente.
        full_name:
          type: string
          readOnly: true
      required:
      - full_name
      - id
      - username
    UsuarioList:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          title: Nombre de usuario
          description: Obligatorio. Longitud máxima 150 caracteres alfanuméricos.
            Letras, dígitos y @/./+/-/_ únicamente.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Dirección de correo electrónico
          maxLength: 254
        last_login:
          type: string
          format: date-time
          nullable: true
          title: Último ingreso
        is_superuser:
          type: boolean
          title: Es superusuario
          description: Indica que este usuario posee todos los permisos sin que sea
            necesario asignarle los mismos en forma explícita.
        is_active:
          type: boolean
          title: Activo
          description: Indica si el usuario debe ser tratado como un usuario activo.
            Desactive este campo en lugar de eliminar usuarios.
        nombre:
          type: string
          title: Nombres
          maxLength: 200
        apellido_paterno:
          type: string
          nullable: true
          maxLength: 200
        apellido_materno:
          type: string
          nullable: true
          maxLength: 200
        telefono_1:
          type: string
          nullable: true
          title: Teléfono
          maxLength: 20
        date_joined:
          type: string
          readOnly: true
        created_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        full_name:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        grupos:
          type: string
          readOnly: true
          description: Lista de grupos a los que pertenece el usuario
        almacen_obj:
          type: string
          readOnly: true
          description: Objeto del almacén asignado al usuario
      required:
      - almacen_obj
      - created_at
      - created_by
      - date_joined
      - full_name
      - grupos
      - id
      - nombre
      - updated_at
      - updated_by
      - username
    UsuarioMini:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          title: Nombre de usuario
          description: Obligatorio. Longitud máxima 150 caracteres alfanuméricos.
            Letras, dígitos y @/./+/-/_ únicamente.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        full_name:
          type: string
          readOnly: true
      required:
      - full_name
      - id
      - username
    UsuarioProcesador:
      type: object
      description: Serializer para la información del usuario que procesó
      properties:
        id:
          type: integer
          description: ID del usuario
        username:
          type: string
          description: Nombre de usuario
      required:
      - id
      - username
    ValidationError:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    Venta:
      type: object
      description: Serializer completo para ventas con detalles y control de lotes
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        cliente:
          type: integer
          description: 'ID del cliente (puede ser un entero o {"id": <pk>})'
        cliente_obj:
          allOf:
          - $ref: '#/components/schemas/ClienteMini'
          readOnly: true
        almacen:
          type: integer
          nullable: true
          description: 'ID del almacén donde se afectará el inventario (puede ser
            un entero o ("id": <pk>)). Obligatorio para fases VENTA COMANDERA'
        almacen_obj:
          type: string
          readOnly: true
        ruta:
          type: integer
          nullable: true
          description: 'ID de la ruta (requerido para preventa, puede ser un entero
            o {"id": <pk>})'
        ruta_obj:
          allOf:
          - $ref: '#/components/schemas/RutasMini'
          readOnly: true
        fase:
          $ref: '#/components/schemas/Fase877Enum'
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          readOnly: true
        total_calculado:
          type: string
          format: decimal
          pattern: ^-?\d{0,8}(?:\.\d{0,2})?$
          readOnly: true
        detalles:
          type: array
          items:
            $ref: '#/components/schemas/VentaDetalle'
        total_detalles:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        pagos:
          type: array
          items:
            $ref: '#/components/schemas/PagosVenta'
          nullable: true
        condicion_pago:
          allOf:
          - $ref: '#/components/schemas/CondicionPagoEnum'
          description: |-
            Condición de pago

            * `CONTADO` - CONTADO
            * `CRÉDITO` - CRÉDITO
            * `MIXTA` - MIXTA
        is_entregado:
          type: boolean
          readOnly: true
          title: Entregado
          description: Indica si la venta ya fue entregada al cliente
        vendedor:
          type: integer
          nullable: true
          description: 'ID del vendedor - OBLIGATORIO cuando fase es VENTA COMANDERA
            (puede ser un entero o {"id": <pk>})'
        vendedor_nombre:
          type: string
          readOnly: true
        adeudo_total:
          type: string
          readOnly: true
        is_terminada:
          type: boolean
          readOnly: true
        cambio:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          readOnly: true
          title: Cambio Entregado
      required:
      - adeudo_total
      - almacen_obj
      - cambio
      - cliente
      - cliente_obj
      - codigo
      - created_at
      - id
      - is_entregado
      - is_terminada
      - ruta_obj
      - total
      - total_calculado
      - total_detalles
      - updated_at
      - vendedor_nombre
    VentaDetalle:
      type: object
      description: Serializer para detalles de venta con control de lotes
      properties:
        id:
          type: integer
          readOnly: true
        producto:
          type: integer
        producto_obj:
          allOf:
          - $ref: '#/components/schemas/ProductoMini'
          readOnly: true
        cantidad:
          type: string
          format: decimal
          pattern: ^-?\d{0,15}(?:\.\d{0,5})?$
        precio_unitario:
          type: string
          format: decimal
          pattern: ^-?\d{0,15}(?:\.\d{0,5})?$
        subtotal:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
          readOnly: true
      required:
      - cantidad
      - id
      - precio_unitario
      - producto
      - producto_obj
      - subtotal
    VentaEstado:
      type: object
      description: Serializer específico para actualizar solo la fase de una venta
      properties:
        fase:
          $ref: '#/components/schemas/Fase877Enum'
    VentaMini:
      type: object
      description: Serializer mini para listar ventas básicas
      properties:
        id:
          type: integer
          readOnly: true
        codigo:
          type: string
          readOnly: true
          nullable: true
          title: Folio
        cliente_nombre:
          type: string
          readOnly: true
        ruta_nombre:
          type: string
          readOnly: true
        fase:
          $ref: '#/components/schemas/Fase877Enum'
        total:
          type: string
          format: decimal
          pattern: ^-?\d{0,20}(?:\.\d{0,5})?$
        total_detalles:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        origen:
          type: string
          readOnly: true
        was_preventa:
          type: boolean
          readOnly: true
          title: Fue Preventa
        is_terminada:
          type: boolean
          readOnly: true
      required:
      - cliente_nombre
      - codigo
      - created_at
      - created_by
      - id
      - is_terminada
      - origen
      - ruta_nombre
      - total
      - total_detalles
      - updated_at
      - updated_by
      - was_preventa
    VentaNotFound:
      type: object
      properties:
        detail:
          type: string
          default: Venta no encontrada.
    VentasEmbarqueSubidaRuta:
      type: object
      properties:
        embarque:
          type: integer
          description: 'ID del embarque o dic {id: <id>}'
        ventas:
          type: array
          items:
            $ref: '#/components/schemas/ProductoEmbarqueVenta'
          description: Lista de ventas con sus productos para el embarque de la ruta
        productos_tara:
          type: array
          items:
            $ref: '#/components/schemas/ProductosTaraEmbarque'
          description: Lista de productos en tara asociados a la venta en el embarque
      required:
      - embarque
      - ventas
    VentasEstadisticas:
      type: object
      properties:
        total_ventas:
          type: integer
        ventas_por_fase:
          type: object
          additionalProperties: {}
        total_monto:
          type: string
          format: decimal
          pattern: ^-?\d{0,13}(?:\.\d{0,2})?$
        promedio_venta:
          type: string
          format: decimal
          pattern: ^-?\d{0,13}(?:\.\d{0,2})?$
        ventas_con_lotes_completos:
          type: integer
      required:
      - promedio_venta
      - total_monto
      - total_ventas
      - ventas_con_lotes_completos
      - ventas_por_fase
    VentasListError:
      type: object
      properties:
        detail:
          type: string
      required:
      - detail
    Zona:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        created_at:
          type: string
          readOnly: true
        updated_at:
          type: string
          readOnly: true
        created_by:
          type: string
          readOnly: true
        updated_by:
          type: string
          readOnly: true
        status_model:
          allOf:
          - $ref: '#/components/schemas/StatusModelEnum'
          description: |-
            Estado del registro

            * `ACTIVE` - Activo
            * `INACTIVE` - Inactivo
        piso:
          type: integer
          description: 'ID del piso (solo activos, puede ser un entero o {"id": <pk>})'
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        racks:
          type: array
          items:
            $ref: '#/components/schemas/Rack'
          readOnly: true
      required:
      - created_at
      - created_by
      - id
      - nombre
      - piso
      - racks
      - updated_at
      - updated_by
    ZonaMini:
      type: object
      description: Serializer ligero para zonas con información básica de racks
      properties:
        id:
          type: integer
          readOnly: true
        nombre:
          type: string
          maxLength: 50
        descripcion:
          type: string
          nullable: true
        racks:
          type: array
          items:
            $ref: '#/components/schemas/RackMini'
          readOnly: true
        piso:
          type: integer
          readOnly: true
      required:
      - id
      - nombre
      - piso
      - racks
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionid
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
